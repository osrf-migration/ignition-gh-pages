{"rendered": {"description": {"raw": "Depends on [ign-rendering pull request 187](#!/ignitionrobotics/ign-rendering/pull-requests/187/support-generating-point-cloud-data-in/diff)\r\n\r\nReplaces pull request #80 - I branched from there but made many changes afterwards so the diff may get confusing if I target that branch.\r\n\r\nUpdated the depth and rgbd camera sensors to connect to the new point cloud event from ign-rendering\u2019s DepthCamera. Point cloud data are now generated in the shaders and not on CPU.\r\n\r\nAlso added a rgbd camera integration test. In addition to checking that the values are valid, it also compares the new xyz data generated by the shaders against those manually converted from depth data to make sure they are consistent.\r\n\r\nHere are performance profiling results done in subt in a tunnel environment with X3 Config 4 robot \\(1 VGA RGBD camera\\):\r\n\r\n**Before:** Sensor::Update 17.57ms\r\n\r\n![](data/bitbucket.org/repo/da5rgr4/images/2061576688-rgbd_before.png)\r\n**After:** Sensor::Update 5.71ms\r\n\r\n![](data/bitbucket.org/repo/da5rgr4/images/461834678-rgbd_after.png)", "markup": "markdown", "html": "<p>Depends on <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/pull-requests/187/support-generating-point-cloud-data-in/diff\" rel=\"nofollow\">ign-rendering pull request 187</a></p>\n<p>Replaces <a href=\"#!/ignitionrobotics/ign-sensors/pull-requests/80/depthcam-pointcloud\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #80</a> - I branched from there but made many changes afterwards so the diff may get confusing if I target that branch.</p>\n<p>Updated the depth and rgbd camera sensors to connect to the new point cloud event from ign-rendering\u2019s DepthCamera. Point cloud data are now generated in the shaders and not on CPU.</p>\n<p>Also added a rgbd camera integration test. In addition to checking that the values are valid, it also compares the new xyz data generated by the shaders against those manually converted from depth data to make sure they are consistent.</p>\n<p>Here are performance profiling results done in subt in a tunnel environment with X3 Config 4 robot (1 VGA RGBD camera):</p>\n<p><strong>Before:</strong> Sensor::Update 17.57ms</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/da5rgr4/images/2061576688-rgbd_before.png\" />\n<strong>After:</strong> Sensor::Update 5.71ms</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/da5rgr4/images/461834678-rgbd_after.png\" /></p>", "type": "rendered"}, "title": {"raw": "Update depth and rgbd camera sensor to output point cloud data generated by ign-rendering DepthCamera", "markup": "markdown", "html": "<p>Update depth and rgbd camera sensor to output point cloud data generated by ign-rendering DepthCamera</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Depends on [ign-rendering pull request 187](#!/ignitionrobotics/ign-rendering/pull-requests/187/support-generating-point-cloud-data-in/diff)\r\n\r\nReplaces pull request #80 - I branched from there but made many changes afterwards so the diff may get confusing if I target that branch.\r\n\r\nUpdated the depth and rgbd camera sensors to connect to the new point cloud event from ign-rendering\u2019s DepthCamera. Point cloud data are now generated in the shaders and not on CPU.\r\n\r\nAlso added a rgbd camera integration test. In addition to checking that the values are valid, it also compares the new xyz data generated by the shaders against those manually converted from depth data to make sure they are consistent.\r\n\r\nHere are performance profiling results done in subt in a tunnel environment with X3 Config 4 robot \\(1 VGA RGBD camera\\):\r\n\r\n**Before:** Sensor::Update 17.57ms\r\n\r\n![](data/bitbucket.org/repo/da5rgr4/images/2061576688-rgbd_before.png)\r\n**After:** Sensor::Update 5.71ms\r\n\r\n![](data/bitbucket.org/repo/da5rgr4/images/461834678-rgbd_after.png)", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-sensors/pullrequests/91/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-sensors/diffstat/ignitionrobotics/ign-sensors:a9cf1a42be2d%0D3d5e987d8ce1?from_pullrequest_id=91"}, "commits": {"href": "data/repositories/ignitionrobotics/ign-sensors/pullrequests/91/commits.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-sensors/pullrequests/91.json"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-sensors/pullrequests/91/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-sensors/pullrequests/91/merge"}, "html": {"href": "#!/ignitionrobotics/ign-sensors/pull-requests/91"}, "activity": {"href": "data/repositories/ignitionrobotics/ign-sensors/pullrequests/91/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-sensors/diff/ignitionrobotics/ign-sensors:a9cf1a42be2d%0D3d5e987d8ce1?from_pullrequest_id=91"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-sensors/pullrequests/91/approve"}, "statuses": {"href": "data/repositories/ignitionrobotics/ign-sensors/pullrequests/91/statuses_page=1.json"}}, "title": "Update depth and rgbd camera sensor to output point cloud data generated by ign-rendering DepthCamera", "close_source_branch": true, "reviewers": [{"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}], "id": 91, "destination": {"commit": {"hash": "3d5e987d8ce1", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-sensors/commit/3d5e987d8ce1.json"}, "html": {"href": "#!/ignitionrobotics/ign-sensors/commits/3d5e987d8ce1"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-sensors.json"}, "html": {"href": "#!/ignitionrobotics/ign-sensors"}, "avatar": {"href": "data/bytebucket.org/ravatar/{71484f03-645d-4ba1-be9e-2f64dce50289}ts=default"}}, "type": "repository", "name": "ign-sensors", "full_name": "ignitionrobotics/ign-sensors", "uuid": "{71484f03-645d-4ba1-be9e-2f64dce50289}"}, "branch": {"name": "ign-sensors2"}}, "created_on": "2019-08-15T00:50:04.650375+00:00", "summary": {"raw": "Depends on [ign-rendering pull request 187](#!/ignitionrobotics/ign-rendering/pull-requests/187/support-generating-point-cloud-data-in/diff)\r\n\r\nReplaces pull request #80 - I branched from there but made many changes afterwards so the diff may get confusing if I target that branch.\r\n\r\nUpdated the depth and rgbd camera sensors to connect to the new point cloud event from ign-rendering\u2019s DepthCamera. Point cloud data are now generated in the shaders and not on CPU.\r\n\r\nAlso added a rgbd camera integration test. In addition to checking that the values are valid, it also compares the new xyz data generated by the shaders against those manually converted from depth data to make sure they are consistent.\r\n\r\nHere are performance profiling results done in subt in a tunnel environment with X3 Config 4 robot \\(1 VGA RGBD camera\\):\r\n\r\n**Before:** Sensor::Update 17.57ms\r\n\r\n![](data/bitbucket.org/repo/da5rgr4/images/2061576688-rgbd_before.png)\r\n**After:** Sensor::Update 5.71ms\r\n\r\n![](data/bitbucket.org/repo/da5rgr4/images/461834678-rgbd_after.png)", "markup": "markdown", "html": "<p>Depends on <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/pull-requests/187/support-generating-point-cloud-data-in/diff\" rel=\"nofollow\">ign-rendering pull request 187</a></p>\n<p>Replaces <a href=\"#!/ignitionrobotics/ign-sensors/pull-requests/80/depthcam-pointcloud\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #80</a> - I branched from there but made many changes afterwards so the diff may get confusing if I target that branch.</p>\n<p>Updated the depth and rgbd camera sensors to connect to the new point cloud event from ign-rendering\u2019s DepthCamera. Point cloud data are now generated in the shaders and not on CPU.</p>\n<p>Also added a rgbd camera integration test. In addition to checking that the values are valid, it also compares the new xyz data generated by the shaders against those manually converted from depth data to make sure they are consistent.</p>\n<p>Here are performance profiling results done in subt in a tunnel environment with X3 Config 4 robot (1 VGA RGBD camera):</p>\n<p><strong>Before:</strong> Sensor::Update 17.57ms</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/da5rgr4/images/2061576688-rgbd_before.png\" />\n<strong>After:</strong> Sensor::Update 5.71ms</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/da5rgr4/images/461834678-rgbd_after.png\" /></p>", "type": "rendered"}, "source": {"commit": {"hash": "fcc44f604a4d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-sensors/commit/fcc44f604a4d.json"}, "html": {"href": "#!/ignitionrobotics/ign-sensors/commits/fcc44f604a4d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-sensors.json"}, "html": {"href": "#!/ignitionrobotics/ign-sensors"}, "avatar": {"href": "data/bytebucket.org/ravatar/{71484f03-645d-4ba1-be9e-2f64dce50289}ts=default"}}, "type": "repository", "name": "ign-sensors", "full_name": "ignitionrobotics/ign-sensors", "uuid": "{71484f03-645d-4ba1-be9e-2f64dce50289}"}, "branch": {"name": "rgbd_pointcloud"}}, "comment_count": 19, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}}, {"role": "REVIEWER", "participated_on": "2019-08-26T20:01:47.520202+00:00", "type": "participant", "approved": true, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, {"role": "REVIEWER", "participated_on": "2019-08-22T00:57:45.987042+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "PARTICIPANT", "participated_on": "2019-08-22T01:37:31.125937+00:00", "type": "participant", "approved": false, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2019-08-26T20:03:27.856338+00:00", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "merge_commit": {"hash": "a9cf1a42be2d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-sensors/commit/a9cf1a42be2d.json"}, "html": {"href": "#!/ignitionrobotics/ign-sensors/commits/a9cf1a42be2d"}}}, "closed_by": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}