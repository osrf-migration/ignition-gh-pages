{"pagelen": 100, "values": [{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-launch.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6981a69-ba64-447a-9739-662a89b25082}ts=2278389"}}, "type": "repository", "name": "ign-launch", "full_name": "ignitionrobotics/ign-launch", "uuid": "{b6981a69-ba64-447a-9739-662a89b25082}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/1/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/1.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/1/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/1/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch/issues/1/homebrew-build-fails-fatal-error-linux"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/1/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Homebrew build fails: fatal error: 'linux/joystick.h' file not found", "component": null, "votes": 0, "watches": 1, "content": {"raw": "[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_launch-ci-pr_any-homebrew-amd64&build=3)](https://build.osrfoundation.org/job/ignition_launch-ci-pr_any-homebrew-amd64/3/) https://build.osrfoundation.org/job/ignition_launch-ci-pr_any-homebrew-amd64/3/\r\n\r\n~~~\r\nplugins/joy_to_twist/JoyToTwist.cc:19:10: fatal error: 'linux/joystick.h' file not found\r\n#include <linux/joystick.h>\r\n         ^~~~~~~~~~~~~~~~~~\r\n[ 60%] Linking CXX static library ../lib/libgtest_main.a\r\n[ 65%] Linking CXX shared library ../../lib/libignition-launch0-gazebogui.dylib\r\nplugins/joystick/Joystick.cc:19:10: fatal error: 'linux/joystick.h' file not found\r\n#include <linux/joystick.h>\r\n         ^~~~~~~~~~~~~~~~~~\r\nld: library not found for -lignition-gazebo1-gui\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nmake[2]: *** [lib/libignition-launch0-gazebogui.dylib] Error 1\r\n\r\n~~~\r\n\r\n* #!/ignitionrobotics/ign-launch/src/cb4c74a47/plugins/joy_to_twist/JoyToTwist.cc#JoyToTwist.cc-19\r\n* #!/ignitionrobotics/ign-launch/src/cb4c74a47/plugins/joystick/Joystick.cc?at=ign-launch0#Joystick.cc-19", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ignition_launch-ci-pr_any-homebrew-amd64/3/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ignition_launch-ci-pr_any-homebrew-amd64&amp;build=3\" /></a> <a href=\"https://build.osrfoundation.org/job/ignition_launch-ci-pr_any-homebrew-amd64/3/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/ignition_launch-ci-pr_any-homebrew-amd64/3/</a></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">plugins</span><span class=\"o\">/</span><span class=\"n\">joy_to_twist</span><span class=\"o\">/</span><span class=\"n\">JoyToTwist</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">19</span><span class=\"o\">:</span><span class=\"mi\">10</span><span class=\"o\">:</span> <span class=\"n\">fatal</span> <span class=\"nl\">error</span><span class=\"p\">:</span> <span class=\"err\">&#39;</span><span class=\"n\">linux</span><span class=\"o\">/</span><span class=\"n\">joystick</span><span class=\"p\">.</span><span class=\"n\">h</span><span class=\"err\">&#39;</span> <span class=\"n\">file</span> <span class=\"n\">not</span> <span class=\"n\">found</span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;linux/joystick.h&gt;</span><span class=\"cp\"></span>\n         <span class=\"o\">^~~~~~~~~~~~~~~~~~</span>\n<span class=\"p\">[</span> <span class=\"mi\">60</span><span class=\"o\">%</span><span class=\"p\">]</span> <span class=\"n\">Linking</span> <span class=\"n\">CXX</span> <span class=\"k\">static</span> <span class=\"n\">library</span> <span class=\"p\">..</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">libgtest_main</span><span class=\"p\">.</span><span class=\"n\">a</span>\n<span class=\"p\">[</span> <span class=\"mi\">65</span><span class=\"o\">%</span><span class=\"p\">]</span> <span class=\"n\">Linking</span> <span class=\"n\">CXX</span> <span class=\"n\">shared</span> <span class=\"n\">library</span> <span class=\"p\">..</span><span class=\"o\">/</span><span class=\"p\">..</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">libignition</span><span class=\"o\">-</span><span class=\"n\">launch0</span><span class=\"o\">-</span><span class=\"n\">gazebogui</span><span class=\"p\">.</span><span class=\"n\">dylib</span>\n<span class=\"n\">plugins</span><span class=\"o\">/</span><span class=\"n\">joystick</span><span class=\"o\">/</span><span class=\"n\">Joystick</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">19</span><span class=\"o\">:</span><span class=\"mi\">10</span><span class=\"o\">:</span> <span class=\"n\">fatal</span> <span class=\"nl\">error</span><span class=\"p\">:</span> <span class=\"err\">&#39;</span><span class=\"n\">linux</span><span class=\"o\">/</span><span class=\"n\">joystick</span><span class=\"p\">.</span><span class=\"n\">h</span><span class=\"err\">&#39;</span> <span class=\"n\">file</span> <span class=\"n\">not</span> <span class=\"n\">found</span>\n<span class=\"cp\">#include</span> <span class=\"cpf\">&lt;linux/joystick.h&gt;</span><span class=\"cp\"></span>\n         <span class=\"o\">^~~~~~~~~~~~~~~~~~</span>\n<span class=\"nl\">ld</span><span class=\"p\">:</span> <span class=\"n\">library</span> <span class=\"n\">not</span> <span class=\"n\">found</span> <span class=\"k\">for</span> <span class=\"o\">-</span><span class=\"n\">lignition</span><span class=\"o\">-</span><span class=\"n\">gazebo1</span><span class=\"o\">-</span><span class=\"n\">gui</span>\n<span class=\"nl\">clang</span><span class=\"p\">:</span> <span class=\"nl\">error</span><span class=\"p\">:</span> <span class=\"n\">linker</span> <span class=\"n\">command</span> <span class=\"n\">failed</span> <span class=\"n\">with</span> <span class=\"n\">exit</span> <span class=\"n\">code</span> <span class=\"mi\">1</span> <span class=\"p\">(</span><span class=\"n\">use</span> <span class=\"o\">-</span><span class=\"n\">v</span> <span class=\"n\">to</span> <span class=\"n\">see</span> <span class=\"n\">invocation</span><span class=\"p\">)</span>\n<span class=\"n\">make</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span><span class=\"o\">:</span> <span class=\"o\">***</span> <span class=\"p\">[</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">libignition</span><span class=\"o\">-</span><span class=\"n\">launch0</span><span class=\"o\">-</span><span class=\"n\">gazebogui</span><span class=\"p\">.</span><span class=\"n\">dylib</span><span class=\"p\">]</span> <span class=\"n\">Error</span> <span class=\"mi\">1</span>\n</pre></div>\n\n\n<ul>\n<li><a href=\"#!/ignitionrobotics/ign-launch/src/cb4c74a47/plugins/joy_to_twist/JoyToTwist.cc#JoyToTwist.cc-19\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-launch/src/cb4c74a47/plugins/joy_to_twist/JoyToTwist.cc#JoyToTwist.cc-19</a></li>\n<li><a href=\"#!/ignitionrobotics/ign-launch/src/cb4c74a47/plugins/joystick/Joystick.cc?at=ign-launch0#Joystick.cc-19\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-launch/src/cb4c74a47/plugins/joystick/Joystick.cc?at=ign-launch0#Joystick.cc-19</a></li>\n</ul>", "type": "rendered"}, "assignee": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-03-08T18:46:07.417143+00:00", "milestone": null, "updated_on": "2019-03-18T23:45:24.658948+00:00", "type": "issue", "id": 1}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-launch.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6981a69-ba64-447a-9739-662a89b25082}ts=2278389"}}, "type": "repository", "name": "ign-launch", "full_name": "ignitionrobotics/ign-launch", "uuid": "{b6981a69-ba64-447a-9739-662a89b25082}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/2/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/2.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/2/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/2/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch/issues/2/should-example-launch-ign-files-be"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/2/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Should example launch .ign files be installed?", "component": null, "votes": 0, "watches": 1, "content": {"raw": "There are a few `.ign` files in the `examples` folder. There is a CMakeLists.txt in that folder that looks like it wants to install them, but it is not being invoked.\r\n\r\n* #!/ignitionrobotics/ign-launch/src/bcf1d4cf5533f8d96e42b03fbd096687032179a9/examples/gazebo.ign?at=ign-launch0&fileviewer=file-view-default\r\n* #!/ignitionrobotics/ign-launch/src/bcf1d4cf5533f8d96e42b03fbd096687032179a9/examples/CMakeLists.txt?at=ign-launch0&fileviewer=file-view-default\r\n\r\nAre these files supposed to be installed?", "markup": "markdown", "html": "<p>There are a few <code>.ign</code> files in the <code>examples</code> folder. There is a CMakeLists.txt in that folder that looks like it wants to install them, but it is not being invoked.</p>\n<ul>\n<li><a href=\"#!/ignitionrobotics/ign-launch/src/bcf1d4cf5533f8d96e42b03fbd096687032179a9/examples/gazebo.ign?at=ign-launch0&amp;fileviewer=file-view-default\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-launch/src/bcf1d4cf5533f8d96e42b03fbd096687032179a9/examples/gazebo.ign?at=ign-launch0&amp;fileviewer=file-view-default</a></li>\n<li><a href=\"#!/ignitionrobotics/ign-launch/src/bcf1d4cf5533f8d96e42b03fbd096687032179a9/examples/CMakeLists.txt?at=ign-launch0&amp;fileviewer=file-view-default\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-launch/src/bcf1d4cf5533f8d96e42b03fbd096687032179a9/examples/CMakeLists.txt?at=ign-launch0&amp;fileviewer=file-view-default</a></li>\n</ul>\n<p>Are these files supposed to be installed?</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-03-19T17:53:19.503513+00:00", "milestone": null, "updated_on": "2019-03-20T18:52:12.804940+00:00", "type": "issue", "id": 2}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-launch.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6981a69-ba64-447a-9739-662a89b25082}ts=2278389"}}, "type": "repository", "name": "ign-launch", "full_name": "ignitionrobotics/ign-launch", "uuid": "{b6981a69-ba64-447a-9739-662a89b25082}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/3/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/3.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/3/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/3/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch/issues/3/example-command-in-readme-is-out-of-date"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/3/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Example command in README is out of date", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The `ignition -run config/gazebo.ign` command in the README doesn't work. It should use the `ign launch` command I think, but it's unclear how to reference the `gazebo.ign` file. Is that supposed to be installed or copied to a local folder whenever it is to be used?\r\n\r\ncc @nkoenig @\\_jrivero_", "markup": "markdown", "html": "<p>The <code>ignition -run config/gazebo.ign</code> command in the README doesn't work. It should use the <code>ign launch</code> command I think, but it's unclear how to reference the <code>gazebo.ign</code> file. Is that supposed to be installed or copied to a local folder whenever it is to be used?</p>\n<p>cc @nkoenig @_jrivero_</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-03-19T17:55:27.316188+00:00", "milestone": null, "updated_on": "2020-04-09T00:07:04.698619+00:00", "type": "issue", "id": 3}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-launch.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6981a69-ba64-447a-9739-662a89b25082}ts=2278389"}}, "type": "repository", "name": "ign-launch", "full_name": "ignitionrobotics/ign-launch", "uuid": "{b6981a69-ba64-447a-9739-662a89b25082}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/4/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/4.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/4/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/4/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch/issues/4/missing-plugins-in-libignition-launch"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/4/vote"}}, "reporter": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "title": "Missing plugins in libignition-launch-dev_0.2.0-1_xxx.deb", "component": null, "votes": 0, "watches": 2, "content": {"raw": "This is the content of the `.deb` file:\r\n\r\n```\r\ncaguero@bb9:~/workspace/ign-launch$ dpkg -c ~/Downloads/libignition-launch-dev_0.2.0-1_bionic_amd64.deb\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/include/\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/include/ignition/\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/include/ignition/launch0/\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch/\r\n-rw-r--r-- root/root      2448 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch/Export.hh\r\n-rw-r--r-- root/root      1394 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch/Plugin.hh\r\n-rw-r--r-- root/root       737 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch/config.hh\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch/detail/\r\n-rw-r--r-- root/root      1273 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch/detail/Export.hh\r\n-rw-r--r-- root/root       889 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch.hh\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/ruby/\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/ruby/ignition/\r\n-rw-r--r-- root/root      5412 2019-03-18 16:20 ./usr/lib/ruby/ignition/cmdlaunch0.rb\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0/\r\n-rw-r--r-- root/root      1607 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0/ignition-launch0-config-version.cmake\r\n-rw-r--r-- root/root      9420 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0/ignition-launch0-config.cmake\r\n-rw-r--r-- root/root      1125 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0/ignition-launch0-targets-relwithdebinfo.cmake\r\n-rw-r--r-- root/root      4110 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0/ignition-launch0-targets.cmake\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0-all/\r\n-rw-r--r-- root/root      1607 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0-all/ignition-launch0-all-config-version.cmake\r\n-rw-r--r-- root/root      3352 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0-all/ignition-launch0-all-config.cmake\r\n-rw-r--r-- root/root      3845 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0-all/ignition-launch0-all-targets.cmake\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/pkgconfig/\r\n-rw-r--r-- root/root       461 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/pkgconfig/ignition-launch0.pc\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/share/\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/share/doc/\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/share/doc/libignition-launch-dev/\r\n-rw-r--r-- root/root       208 2019-03-18 16:20 ./usr/share/doc/libignition-launch-dev/changelog.Debian.gz\r\n-rw-r--r-- root/root      2238 2019-03-18 16:20 ./usr/share/doc/libignition-launch-dev/copyright\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/share/ignition/\r\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/share/ignition/ignition-launch0_2/\r\n-rw-r--r-- root/root      1937 2019-03-18 16:20 ./usr/share/ignition/ignition-launch0_2/ignition-launch0.tag.xml\r\n-rw-r--r-- root/root       235 2019-03-18 16:20 ./usr/share/ignition/launch0.yaml\r\nlrwxrwxrwx root/root         0 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/libignition-launch0.so -> libignition-launch0.so.0\r\n```\r\n\r\nThis is my `install` directory (filtering only `.so` files):\r\n```\r\ncaguero@bb9:/data/ignition_ws/install/ignition-launch0$ find . | grep so\r\n\r\n./lib/libignition-launch0.so\r\n./lib/libignition-launch0.so.0\r\n./lib/libignition-launch0.so.0.2.0\r\n./lib/ign-launch-0/plugins/libignition-launch0-joytotwist.so\r\n./lib/ign-launch-0/plugins/libignition-launch0-joystick.so\r\n./lib/ign-launch-0/plugins/libignition-launch0-gazebogui.so\r\n./lib/ign-launch-0/plugins/libignition-launch0-gazebo.so\r\n```\r\n\r\nAnd this is the `.install` rule that we're using when packaging the `.deb`:\r\n\r\n```\r\nusr/include/*\r\nusr/lib/*/*.so\r\nusr/lib/*/pkgconfig/*.pc\r\nusr/lib/*/cmake/ignition-launch*/*\r\nusr/share/*\r\nusr/lib/ruby/*\r\n```\r\n\r\nWe probably need an extra:\r\n\r\n```\r\nusr/lib/*/*/*.so\r\n```", "markup": "markdown", "html": "<p>This is the content of the <code>.deb</code> file:</p>\n<div class=\"codehilite\"><pre><span></span>caguero@bb9:~/workspace/ign-launch$ dpkg -c ~/Downloads/libignition-launch-dev_0.2.0-1_bionic_amd64.deb\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/include/\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/include/ignition/\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/include/ignition/launch0/\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch/\n-rw-r--r-- root/root      2448 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch/Export.hh\n-rw-r--r-- root/root      1394 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch/Plugin.hh\n-rw-r--r-- root/root       737 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch/config.hh\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch/detail/\n-rw-r--r-- root/root      1273 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch/detail/Export.hh\n-rw-r--r-- root/root       889 2019-03-18 16:20 ./usr/include/ignition/launch0/ignition/launch.hh\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/ruby/\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/ruby/ignition/\n-rw-r--r-- root/root      5412 2019-03-18 16:20 ./usr/lib/ruby/ignition/cmdlaunch0.rb\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0/\n-rw-r--r-- root/root      1607 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0/ignition-launch0-config-version.cmake\n-rw-r--r-- root/root      9420 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0/ignition-launch0-config.cmake\n-rw-r--r-- root/root      1125 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0/ignition-launch0-targets-relwithdebinfo.cmake\n-rw-r--r-- root/root      4110 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0/ignition-launch0-targets.cmake\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0-all/\n-rw-r--r-- root/root      1607 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0-all/ignition-launch0-all-config-version.cmake\n-rw-r--r-- root/root      3352 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0-all/ignition-launch0-all-config.cmake\n-rw-r--r-- root/root      3845 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/cmake/ignition-launch0-all/ignition-launch0-all-targets.cmake\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/pkgconfig/\n-rw-r--r-- root/root       461 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/pkgconfig/ignition-launch0.pc\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/share/\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/share/doc/\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/share/doc/libignition-launch-dev/\n-rw-r--r-- root/root       208 2019-03-18 16:20 ./usr/share/doc/libignition-launch-dev/changelog.Debian.gz\n-rw-r--r-- root/root      2238 2019-03-18 16:20 ./usr/share/doc/libignition-launch-dev/copyright\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/share/ignition/\ndrwxr-xr-x root/root         0 2019-03-18 16:20 ./usr/share/ignition/ignition-launch0_2/\n-rw-r--r-- root/root      1937 2019-03-18 16:20 ./usr/share/ignition/ignition-launch0_2/ignition-launch0.tag.xml\n-rw-r--r-- root/root       235 2019-03-18 16:20 ./usr/share/ignition/launch0.yaml\nlrwxrwxrwx root/root         0 2019-03-18 16:20 ./usr/lib/x86_64-linux-gnu/libignition-launch0.so -&gt; libignition-launch0.so.0\n</pre></div>\n\n\n<p>This is my <code>install</code> directory (filtering only <code>.so</code> files):</p>\n<div class=\"codehilite\"><pre><span></span>caguero@bb9:/data/ignition_ws/install/ignition-launch0$ find . | grep so\n\n./lib/libignition-launch0.so\n./lib/libignition-launch0.so.0\n./lib/libignition-launch0.so.0.2.0\n./lib/ign-launch-0/plugins/libignition-launch0-joytotwist.so\n./lib/ign-launch-0/plugins/libignition-launch0-joystick.so\n./lib/ign-launch-0/plugins/libignition-launch0-gazebogui.so\n./lib/ign-launch-0/plugins/libignition-launch0-gazebo.so\n</pre></div>\n\n\n<p>And this is the <code>.install</code> rule that we're using when packaging the <code>.deb</code>:</p>\n<div class=\"codehilite\"><pre><span></span>usr/include/*\nusr/lib/*/*.so\nusr/lib/*/pkgconfig/*.pc\nusr/lib/*/cmake/ignition-launch*/*\nusr/share/*\nusr/lib/ruby/*\n</pre></div>\n\n\n<p>We probably need an extra:</p>\n<div class=\"codehilite\"><pre><span></span>usr/lib/*/*/*.so\n</pre></div>", "type": "rendered"}, "assignee": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-03-27T18:25:29.840009+00:00", "milestone": null, "updated_on": "2019-03-27T20:07:33.046218+00:00", "type": "issue", "id": 4}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-launch.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6981a69-ba64-447a-9739-662a89b25082}ts=2278389"}}, "type": "repository", "name": "ign-launch", "full_name": "ignitionrobotics/ign-launch", "uuid": "{b6981a69-ba64-447a-9739-662a89b25082}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/5/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/5.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/5/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/5/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch/issues/5/make-codecheck-is-not-run-on-plugins"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/5/vote"}}, "reporter": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "title": "Make codecheck is not run on `plugins`", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Ignition cmake creates a `CPPCHECK_DIR`. However, since the plugins are not `components` they are not automatically included in the `CPPCHECK_DIR` list. \r\n\r\nOne solution would be to make plugins components.", "markup": "markdown", "html": "<p>Ignition cmake creates a <code>CPPCHECK_DIR</code>. However, since the plugins are not <code>components</code> they are not automatically included in the <code>CPPCHECK_DIR</code> list. </p>\n<p>One solution would be to make plugins components.</p>", "type": "rendered"}, "assignee": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-05-09T21:48:19.746633+00:00", "milestone": null, "updated_on": "2019-05-09T21:48:19.746633+00:00", "type": "issue", "id": 5}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-launch.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6981a69-ba64-447a-9739-662a89b25082}ts=2278389"}}, "type": "repository", "name": "ign-launch", "full_name": "ignitionrobotics/ign-launch", "uuid": "{b6981a69-ba64-447a-9739-662a89b25082}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/6/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/6.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/6/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/6/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch/issues/6/deadlock-at-startup-due-to-sigchild"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/6/vote"}}, "reporter": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "title": "Deadlock at startup due to SIGCHILD", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I have encountered deadlocks multiple times when launching `competition` in SubT. I've traced it down to the fact that `ManagerPrivate::OnSigChild` uses non async-signal-safe functions which could cause deadlocks at startup when child processes exit. I've attached a simple `.ign` file that reproduces the issue for me. Basically, it starts gazebo and a bunch of `sleep` commands with random amounts of sleep. The deadlock usually occurs deep inside malloc.\r\n\r\n```\r\n#0  __lll_lock_wait_private () at ../sysdeps/unix/sysv/linux/x86_64/lowlevellock.S:95\r\n#1  0x00007fe0f55d72db in __GI___libc_malloc (bytes=bytes@entry=513) at malloc.c:3063\r\n#2  0x00007fe0f1f26258 in operator new (sz=513) at ../../../../src/libstdc++-v3/libsupc++/new_op.cc:50\r\n#3  0x00007fe0f1fb817d in std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::reserve (this=this@entry=0x7ffcfe19afb0, __res=<optimized out>)\r\n    at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/bits/basic_string.h:167\r\n#4  0x00007fe0f1fabdd8 in std::__cxx11::basic_stringbuf<char, std::char_traits<char>, std::allocator<char> >::overflow (this=0x7ffcfe19b148, __c=97) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/ext/new_allocator.h:86\r\n#5  0x00007fe0f1fb65ab in std::basic_streambuf<char, std::char_traits<char> >::xsputn (this=0x7ffcfe19b148, __s=0x563654769b78 \"anager.cc:295] \", __n=23) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/bits/char_traits.h:371\r\n#6  0x00007fe0f1fa6cb4 in std::basic_streambuf<char, std::char_traits<char> >::sputn (__n=23, __s=0x563654769b70 \"[Dbg] [Manager.cc:295] \", this=<optimized out>) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/streambuf:457\r\n#7  std::__ostream_write<char, std::char_traits<char> > (__n=23, __s=0x563654769b70 \"[Dbg] [Manager.cc:295] \", __out=...) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/bits/ostream_insert.h:50\r\n#8  std::__ostream_insert<char, std::char_traits<char> > (__out=..., __s=0x563654769b70 \"[Dbg] [Manager.cc:295] \", __n=23) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/bits/ostream_insert.h:101\r\n#9  0x00007fe0f2656ed7 in std::operator<< <char, std::char_traits<char>, std::allocator<char> > (__str=\"[Dbg] [Manager.cc:295] \", __os=...) at /usr/include/c++/8/bits/basic_string.h:6323\r\n#10 ignition::common::Logger::Buffer::sync() () at /home/addisu/ws/subt_ign/src/ign-common/src/Console.cc:148\r\n#11 0x00007fe0f1fa65b8 in std::basic_streambuf<char, std::char_traits<char> >::pubsync (this=<optimized out>) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/streambuf:278\r\n#12 std::ostream::sentry::~sentry (this=0x7ffcfe19b340, __in_chrg=<optimized out>) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/ostream:460\r\n#13 0x00007fe0f1fa6c7a in std::__ostream_insert<char, std::char_traits<char> > (__out=..., __s=0x5636548e55b0 \"[Dbg] [Manager.cc:295] \", __n=<optimized out>)\r\n    at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/bits/ios_base.h:727\r\n#14 0x00007fe0f26577b8 in std::operator<< <char, std::char_traits<char>, std::allocator<char> > (__str=\"[Dbg] [Manager.cc:295] \", __os=...) at /usr/include/c++/8/bits/basic_string.h:6323\r\n#15 ignition::common::Logger::operator()(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int) () at /home/addisu/ws/subt_ign/src/ign-common/src/Console.cc:111\r\n#16 0x00007fe0f2a9d4bc in ignition::launch::IGNITION_LAUNCH_VERSION_NAMESPACE::ManagerPrivate::OnSigChild(int) () at /usr/include/c++/8/bits/basic_string.h:252\r\n#17 <signal handler called>\r\n#18 0x00007fe0f5624b1a in __libc_fork () at ../sysdeps/nptl/fork.c:135\r\n#19 0x00007fe0f2a9c5fb in ignition::launch::IGNITION_LAUNCH_VERSION_NAMESPACE::ManagerPrivate::RunExecutable(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&, bool, std::__cxx11::list<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::allocator<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > const&) () at /home/addisu/ws/subt_ign/src/ign-launch/src/Manager.cc:401\r\n#20 0x00007fe0f2a9dd97 in ignition::launch::IGNITION_LAUNCH_VERSION_NAMESPACE::ManagerPrivate::ParseExecutables(tinyxml2::XMLElement const*) () at /home/addisu/ws/subt_ign/src/ign-launch/src/Manager.cc:541\r\n#21 0x00007fe0f2a9f36d in ignition::launch::IGNITION_LAUNCH_VERSION_NAMESPACE::ManagerPrivate::ParseConfig(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) ()\r\n    at /home/addisu/ws/subt_ign/src/ign-launch/src/Manager.cc:356\r\n#22 0x00007fe0f2a9f60f in ignition::launch::IGNITION_LAUNCH_VERSION_NAMESPACE::Manager::RunConfig(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) () at /usr/include/c++/8/bits/unique_ptr.h:342\r\n#23 0x00007fe0f2a9b6db in run () at /usr/include/c++/8/bits/char_traits.h:287\r\n#24 0x00007fe0f2eaedae in ffi_call_unix64 () from /usr/lib/x86_64-linux-gnu/libffi.so.6\r\n#25 0x00007fe0f2eae71f in ffi_call () from /usr/lib/x86_64-linux-gnu/libffi.so.6\r\n#26 0x00007fe0f30b58f8 in ?? () from /usr/lib/x86_64-linux-gnu/ruby/2.5.0/fiddle.so\r\n#27 0x00007fe0f5ab0b9b in ?? () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\r\n#28 0x00007fe0f30b568d in ?? () from /usr/lib/x86_64-linux-gnu/ruby/2.5.0/fiddle.so\r\n#29 0x00007fe0f5ad7289 in ?? () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\r\n#30 0x00007fe0f5ae57b3 in ?? () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\r\n#31 0x00007fe0f5adbc45 in ?? () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\r\n#32 0x00007fe0f5ae1a24 in ?? () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\r\n#33 0x00007fe0f59bc0c4 in ?? () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\r\n#34 0x00007fe0f59bdf4d in ruby_exec_node () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\r\n#35 0x00007fe0f59c042e in ruby_run_node () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\r\n#36 0x00005636536798cb in ?? ()\r\n#37 0x00007fe0f5561b97 in __libc_start_main (main=0x563653679880, argc=5, argv=0x7ffcfe19d108, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7ffcfe19d0f8) at ../csu/libc-start.c:310\r\n#38 0x00005636536798fa in _start ()\r\n/home/addisu/ws/subt_ign/src/ign-sensors - __lll_lock_wait_private\r\n```", "markup": "markdown", "html": "<p>I have encountered deadlocks multiple times when launching <code>competition</code> in SubT. I've traced it down to the fact that <code>ManagerPrivate::OnSigChild</code> uses non async-signal-safe functions which could cause deadlocks at startup when child processes exit. I've attached a simple <code>.ign</code> file that reproduces the issue for me. Basically, it starts gazebo and a bunch of <code>sleep</code> commands with random amounts of sleep. The deadlock usually occurs deep inside malloc.</p>\n<div class=\"codehilite\"><pre><span></span>#0  __lll_lock_wait_private () at ../sysdeps/unix/sysv/linux/x86_64/lowlevellock.S:95\n#1  0x00007fe0f55d72db in __GI___libc_malloc (bytes=bytes@entry=513) at malloc.c:3063\n#2  0x00007fe0f1f26258 in operator new (sz=513) at ../../../../src/libstdc++-v3/libsupc++/new_op.cc:50\n#3  0x00007fe0f1fb817d in std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::reserve (this=this@entry=0x7ffcfe19afb0, __res=&lt;optimized out&gt;)\n    at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/bits/basic_string.h:167\n#4  0x00007fe0f1fabdd8 in std::__cxx11::basic_stringbuf&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::overflow (this=0x7ffcfe19b148, __c=97) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/ext/new_allocator.h:86\n#5  0x00007fe0f1fb65ab in std::basic_streambuf&lt;char, std::char_traits&lt;char&gt; &gt;::xsputn (this=0x7ffcfe19b148, __s=0x563654769b78 &quot;anager.cc:295] &quot;, __n=23) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/bits/char_traits.h:371\n#6  0x00007fe0f1fa6cb4 in std::basic_streambuf&lt;char, std::char_traits&lt;char&gt; &gt;::sputn (__n=23, __s=0x563654769b70 &quot;[Dbg] [Manager.cc:295] &quot;, this=&lt;optimized out&gt;) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/streambuf:457\n#7  std::__ostream_write&lt;char, std::char_traits&lt;char&gt; &gt; (__n=23, __s=0x563654769b70 &quot;[Dbg] [Manager.cc:295] &quot;, __out=...) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/bits/ostream_insert.h:50\n#8  std::__ostream_insert&lt;char, std::char_traits&lt;char&gt; &gt; (__out=..., __s=0x563654769b70 &quot;[Dbg] [Manager.cc:295] &quot;, __n=23) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/bits/ostream_insert.h:101\n#9  0x00007fe0f2656ed7 in std::operator&lt;&lt; &lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; (__str=&quot;[Dbg] [Manager.cc:295] &quot;, __os=...) at /usr/include/c++/8/bits/basic_string.h:6323\n#10 ignition::common::Logger::Buffer::sync() () at /home/addisu/ws/subt_ign/src/ign-common/src/Console.cc:148\n#11 0x00007fe0f1fa65b8 in std::basic_streambuf&lt;char, std::char_traits&lt;char&gt; &gt;::pubsync (this=&lt;optimized out&gt;) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/streambuf:278\n#12 std::ostream::sentry::~sentry (this=0x7ffcfe19b340, __in_chrg=&lt;optimized out&gt;) at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/ostream:460\n#13 0x00007fe0f1fa6c7a in std::__ostream_insert&lt;char, std::char_traits&lt;char&gt; &gt; (__out=..., __s=0x5636548e55b0 &quot;[Dbg] [Manager.cc:295] &quot;, __n=&lt;optimized out&gt;)\n    at /build/gcc-8-IFl8q6/gcc-8-8.3.0/build/x86_64-linux-gnu/libstdc++-v3/include/bits/ios_base.h:727\n#14 0x00007fe0f26577b8 in std::operator&lt;&lt; &lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; (__str=&quot;[Dbg] [Manager.cc:295] &quot;, __os=...) at /usr/include/c++/8/bits/basic_string.h:6323\n#15 ignition::common::Logger::operator()(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, int) () at /home/addisu/ws/subt_ign/src/ign-common/src/Console.cc:111\n#16 0x00007fe0f2a9d4bc in ignition::launch::IGNITION_LAUNCH_VERSION_NAMESPACE::ManagerPrivate::OnSigChild(int) () at /usr/include/c++/8/bits/basic_string.h:252\n#17 &lt;signal handler called&gt;\n#18 0x00007fe0f5624b1a in __libc_fork () at ../sysdeps/nptl/fork.c:135\n#19 0x00007fe0f2a9c5fb in ignition::launch::IGNITION_LAUNCH_VERSION_NAMESPACE::ManagerPrivate::RunExecutable(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, std::vector&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt; const&amp;, bool, std::__cxx11::list&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;, std::allocator&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt; const&amp;) () at /home/addisu/ws/subt_ign/src/ign-launch/src/Manager.cc:401\n#20 0x00007fe0f2a9dd97 in ignition::launch::IGNITION_LAUNCH_VERSION_NAMESPACE::ManagerPrivate::ParseExecutables(tinyxml2::XMLElement const*) () at /home/addisu/ws/subt_ign/src/ign-launch/src/Manager.cc:541\n#21 0x00007fe0f2a9f36d in ignition::launch::IGNITION_LAUNCH_VERSION_NAMESPACE::ManagerPrivate::ParseConfig(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) ()\n    at /home/addisu/ws/subt_ign/src/ign-launch/src/Manager.cc:356\n#22 0x00007fe0f2a9f60f in ignition::launch::IGNITION_LAUNCH_VERSION_NAMESPACE::Manager::RunConfig(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) () at /usr/include/c++/8/bits/unique_ptr.h:342\n#23 0x00007fe0f2a9b6db in run () at /usr/include/c++/8/bits/char_traits.h:287\n#24 0x00007fe0f2eaedae in ffi_call_unix64 () from /usr/lib/x86_64-linux-gnu/libffi.so.6\n#25 0x00007fe0f2eae71f in ffi_call () from /usr/lib/x86_64-linux-gnu/libffi.so.6\n#26 0x00007fe0f30b58f8 in ?? () from /usr/lib/x86_64-linux-gnu/ruby/2.5.0/fiddle.so\n#27 0x00007fe0f5ab0b9b in ?? () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\n#28 0x00007fe0f30b568d in ?? () from /usr/lib/x86_64-linux-gnu/ruby/2.5.0/fiddle.so\n#29 0x00007fe0f5ad7289 in ?? () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\n#30 0x00007fe0f5ae57b3 in ?? () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\n#31 0x00007fe0f5adbc45 in ?? () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\n#32 0x00007fe0f5ae1a24 in ?? () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\n#33 0x00007fe0f59bc0c4 in ?? () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\n#34 0x00007fe0f59bdf4d in ruby_exec_node () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\n#35 0x00007fe0f59c042e in ruby_run_node () from /usr/lib/x86_64-linux-gnu/libruby-2.5.so.2.5\n#36 0x00005636536798cb in ?? ()\n#37 0x00007fe0f5561b97 in __libc_start_main (main=0x563653679880, argc=5, argv=0x7ffcfe19d108, init=&lt;optimized out&gt;, fini=&lt;optimized out&gt;, rtld_fini=&lt;optimized out&gt;, stack_end=0x7ffcfe19d0f8) at ../csu/libc-start.c:310\n#38 0x00005636536798fa in _start ()\n/home/addisu/ws/subt_ign/src/ign-sensors - __lll_lock_wait_private\n</pre></div>", "type": "rendered"}, "assignee": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-07-12T15:39:41.549940+00:00", "milestone": null, "updated_on": "2019-07-12T18:39:07.993195+00:00", "type": "issue", "id": 6}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-launch.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6981a69-ba64-447a-9739-662a89b25082}ts=2278389"}}, "type": "repository", "name": "ign-launch", "full_name": "ignitionrobotics/ign-launch", "uuid": "{b6981a69-ba64-447a-9739-662a89b25082}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/7/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/7.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/7/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/7/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch/issues/7/faulty-plugin-test-fails-in"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/7/vote"}}, "reporter": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "title": "Faulty plugin test fails in CMAKE_BUILD_TYPE=Coverage", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The integration test added to verify the behavior of backward-cpp stacktrace functionality fails when building in `Coverage` mode \\(impacting Bitbucket pipelines\\).\r\n\r\nI can reproduce this locally as well where the test fails with a SIGABRT rather than a SIGSEGV as expected.\r\n\r\n@{557058:90bc87b0-2886-4377-a17c-3a6629a697ff} believes that it may be related to `_gcov_flush` not getting called correctly in the child process. \r\n\r\nFor now, the test is disabled when `Coverage` is used, but it would be nice to have it on for pipelines.", "markup": "markdown", "html": "<p>The integration test added to verify the behavior of backward-cpp stacktrace functionality fails when building in <code>Coverage</code> mode (impacting Bitbucket pipelines).</p>\n<p>I can reproduce this locally as well where the test fails with a SIGABRT rather than a SIGSEGV as expected.</p>\n<p><span class=\"ap-mention\" data-atlassian-id=\"557058:90bc87b0-2886-4377-a17c-3a6629a697ff\">@Addisu Z. Taddese</span> believes that it may be related to <code>_gcov_flush</code> not getting called correctly in the child process. </p>\n<p>For now, the test is disabled when <code>Coverage</code> is used, but it would be nice to have it on for pipelines.</p>", "type": "rendered"}, "assignee": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-09-09T17:28:57.551133+00:00", "milestone": null, "updated_on": "2019-09-09T17:28:57.551133+00:00", "type": "issue", "id": 7}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-launch.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6981a69-ba64-447a-9739-662a89b25082}ts=2278389"}}, "type": "repository", "name": "ign-launch", "full_name": "ignitionrobotics/ign-launch", "uuid": "{b6981a69-ba64-447a-9739-662a89b25082}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/8/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/8.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/8/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/8/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch/issues/8/tutorials-page-is-not-foud"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/8/vote"}}, "reporter": {"display_name": "mohamed sayed", "uuid": "{13e5d7b7-a702-4d05-9522-7586de922568}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B13e5d7b7-a702-4d05-9522-7586de922568%7D"}, "html": {"href": "https://bitbucket.org/%7B13e5d7b7-a702-4d05-9522-7586de922568%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/89b8fbf67e5a585fa53497092ab2325ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMS-2.png"}}, "nickname": "Mohamed Ahmed", "type": "user", "account_id": "5df1d4ebbf265f0e3bbcdcdb"}, "title": "Tutorials page is not foud", "component": null, "votes": 0, "watches": 1, "content": {"raw": "![](data/bitbucket.org/repo/ngEao5e/images/2675720297-image.png)\r\n[https://ignitionrobotics.org/api/launch/2.0/index.html](https://ignitionrobotics.org/api/launch/2.0/index.html)", "markup": "markdown", "html": "<p><img alt=\"\" src=\"data/bitbucket.org/repo/ngEao5e/images/2675720297-image.png\" />\n<a data-is-external-link=\"true\" href=\"https://ignitionrobotics.org/api/launch/2.0/index.html\" rel=\"nofollow\">https://ignitionrobotics.org/api/launch/2.0/index.html</a></p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2020-03-28T10:54:33.651602+00:00", "milestone": null, "updated_on": "2020-03-28T10:54:33.651602+00:00", "type": "issue", "id": 8}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-launch.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b6981a69-ba64-447a-9739-662a89b25082}ts=2278389"}}, "type": "repository", "name": "ign-launch", "full_name": "ignitionrobotics/ign-launch", "uuid": "{b6981a69-ba64-447a-9739-662a89b25082}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/9/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/9.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/9/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-launch/issues/9/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-launch/issues/9/pkg-config-info-not-found"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-launch/issues/9/vote"}}, "reporter": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "title": "pkg-config info not found", "component": null, "votes": 0, "watches": 1, "content": {"raw": "When building Citadel from source on Ubuntu 18.04 \\(`ign-launch` is on the `ign-launch2` branch\\), I get this warning \\(the build succeeds\\):\r\n\r\n```\r\n--- stderr: ignition-launch2\r\nCMake Warning (dev) at /home/gerkey/code/rse/ign/install/share/cmake/ignition-cmake2/cmake2/IgnUtils.cmake:378 (message):\r\n   -- THIS MESSAGE IS INTENDED FOR IGNITION-LAUNCH AUTHORS --\r\n      (IF YOU SEE THIS, PLEASE REPORT IT)  Could not find pkg-config information for ignition-tools.  It was not\r\n  provided by the find-module for the package, nor was it explicitly passed\r\n  into the call to ign_find_package(~).  This is most likely an error in this\r\n  project's use of ign-cmake.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:49 (ign_find_package)\r\nThis warning is for project developers.  Use -Wno-dev to suppress it.\r\n```\r\n\r\n\u200c", "markup": "markdown", "html": "<p>When building Citadel from source on Ubuntu 18.04 (<code>ign-launch</code> is on the <code>ign-launch2</code> branch), I get this warning (the build succeeds):</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gd\">--- stderr: ignition-launch2</span>\nCMake Warning (dev) at /home/gerkey/code/rse/ign/install/share/cmake/ignition-cmake2/cmake2/IgnUtils.cmake:378 (message):\n   -- THIS MESSAGE IS INTENDED FOR IGNITION-LAUNCH AUTHORS --\n      (IF YOU SEE THIS, PLEASE REPORT IT)  Could not find pkg-config information for ignition-tools.  It was not\n  provided by the find-module for the package, nor was it explicitly passed\n  into the call to ign_find_package(~).  This is most likely an error in this\n  project&#39;s use of ign-cmake.\nCall Stack (most recent call first):\n  CMakeLists.txt:49 (ign_find_package)\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2020-04-06T21:43:52.990217+00:00", "milestone": null, "updated_on": "2020-04-06T21:43:52.990217+00:00", "type": "issue", "id": 9}], "page": 1, "size": 9}