{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/219/comments/129676785.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/219/_/diff#comment-129676785"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 219, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/219.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/219"}}, "title": "Fix setting ogre2 background color after cameras are created"}, "content": {"raw": "Works for me :smile: \n\n![ogre2bgcolor.gif](data/bitbucket.org/repo/zq9ear/images/1611221033-ogre2bgcolor.gif)\n\n~~~\ndiff -r 99814cd6ab1a examples/ogre2_demo/GlutWindow.cc\n--- a/examples/ogre2_demo/GlutWindow.cc Thu Dec 05 13:46:57 2019 -0800\n+++ b/examples/ogre2_demo/GlutWindow.cc Fri Dec 20 10:27:59 2019 -0800\n@@ -32,6 +32,7 @@\n #include <mutex>\n \n #include <ignition/common/Console.hh>\n+#include <ignition/math/Rand.hh>\n #include <ignition/rendering/Camera.hh>\n #include <ignition/rendering/Image.hh>\n #include <ignition/rendering/RayQuery.hh>\n@@ -260,6 +261,13 @@\n   }\n #endif\n \n+  g_cameras[g_cameraIndex]->Scene()->SetBackgroundColor(\n+      ignition::math::Color(\n+      ignition::math::Rand::DblUniform(0, 1),\n+      ignition::math::Rand::DblUniform(0, 1),\n+      ignition::math::Rand::DblUniform(0, 1)\n+      ));\n+\n   g_cameras[g_cameraIndex]->Capture(*g_image);\n   handleMouse();\n~~~", "markup": "markdown", "html": "<p>Works for me <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f604.png\" alt=\"\ud83d\ude04\" title=\":smile:\" data-emoji-short-name=\":smile:\" /> </p>\n<p><img alt=\"ogre2bgcolor.gif\" src=\"data/bitbucket.org/repo/zq9ear/images/1611221033-ogre2bgcolor.gif\" /></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 99814cd6ab1a examples/ogre2_demo/GlutWindow.cc</span>\n<span class=\"gd\">--- a/examples/ogre2_demo/GlutWindow.cc Thu Dec 05 13:46:57 2019 -0800</span>\n<span class=\"gi\">+++ b/examples/ogre2_demo/GlutWindow.cc Fri Dec 20 10:27:59 2019 -0800</span>\n<span class=\"gu\">@@ -32,6 +32,7 @@</span>\n #include &lt;mutex&gt;\n\n #include &lt;ignition/common/Console.hh&gt;\n<span class=\"gi\">+#include &lt;ignition/math/Rand.hh&gt;</span>\n #include &lt;ignition/rendering/Camera.hh&gt;\n #include &lt;ignition/rendering/Image.hh&gt;\n #include &lt;ignition/rendering/RayQuery.hh&gt;\n<span class=\"gu\">@@ -260,6 +261,13 @@</span>\n   }\n #endif\n\n<span class=\"gi\">+  g_cameras[g_cameraIndex]-&gt;Scene()-&gt;SetBackgroundColor(</span>\n<span class=\"gi\">+      ignition::math::Color(</span>\n<span class=\"gi\">+      ignition::math::Rand::DblUniform(0, 1),</span>\n<span class=\"gi\">+      ignition::math::Rand::DblUniform(0, 1),</span>\n<span class=\"gi\">+      ignition::math::Rand::DblUniform(0, 1)</span>\n<span class=\"gi\">+      ));</span>\n<span class=\"gi\">+</span>\n   g_cameras[g_cameraIndex]-&gt;Capture(*g_image);\n   handleMouse();\n</pre></div>", "type": "rendered"}, "created_on": "2019-12-20T18:30:11.584693+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-12-20T18:30:11.590860+00:00", "type": "pullrequest_comment", "id": 129676785}