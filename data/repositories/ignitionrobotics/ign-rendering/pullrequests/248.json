{"rendered": {"description": {"raw": "There were some magic numbers which made the test a bit hard to debug. Changed the shapes positions so that the sphere and box are aligned with the camera and far from each other. Then the test goes through the middle horizontal line from left to right. I chose the numbers so all checked pixels are clearly within one of the 3 regions: box / sphere / empty.\r\n\r\nI couldn't reproduce the flaky tests locally even before this, so I'll try it a few times on CI to see how it goes.", "markup": "markdown", "html": "<p>There were some magic numbers which made the test a bit hard to debug. Changed the shapes positions so that the sphere and box are aligned with the camera and far from each other. Then the test goes through the middle horizontal line from left to right. I chose the numbers so all checked pixels are clearly within one of the 3 regions: box / sphere / empty.</p>\n<p>I couldn't reproduce the flaky tests locally even before this, so I'll try it a few times on CI to see how it goes.</p>", "type": "rendered"}, "title": {"raw": "\ud83d\udc69\u200d\ud83c\udf3e Fix flaky VisualAt test", "markup": "markdown", "html": "<p>\ud83d\udc69\u200d\ud83c\udf3e Fix flaky VisualAt test</p>", "type": "rendered"}}, "type": "pullrequest", "description": "There were some magic numbers which made the test a bit hard to debug. Changed the shapes positions so that the sphere and box are aligned with the camera and far from each other. Then the test goes through the middle horizontal line from left to right. I chose the numbers so all checked pixels are clearly within one of the 3 regions: box / sphere / empty.\r\n\r\nI couldn't reproduce the flaky tests locally even before this, so I'll try it a few times on CI to see how it goes.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rendering/pullrequests/248/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rendering/diffstat/ignitionrobotics/ign-rendering:85328c248d86%0D0c552dc7efc5?from_pullrequest_id=248"}, "commits": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/248/commits.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/248.json"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/248/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rendering/pullrequests/248/merge"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/248"}, "activity": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/248/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rendering/diff/ignitionrobotics/ign-rendering:85328c248d86%0D0c552dc7efc5?from_pullrequest_id=248"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rendering/pullrequests/248/approve"}, "statuses": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/248/statuses_page=1.json"}}, "title": "\ud83d\udc69\u200d\ud83c\udf3e Fix flaky VisualAt test", "close_source_branch": true, "reviewers": [], "id": 248, "destination": {"commit": {"hash": "0c552dc7efc5", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/0c552dc7efc5.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/0c552dc7efc5"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "ign-rendering2"}}, "created_on": "2020-03-10T03:54:40.972965+00:00", "summary": {"raw": "There were some magic numbers which made the test a bit hard to debug. Changed the shapes positions so that the sphere and box are aligned with the camera and far from each other. Then the test goes through the middle horizontal line from left to right. I chose the numbers so all checked pixels are clearly within one of the 3 regions: box / sphere / empty.\r\n\r\nI couldn't reproduce the flaky tests locally even before this, so I'll try it a few times on CI to see how it goes.", "markup": "markdown", "html": "<p>There were some magic numbers which made the test a bit hard to debug. Changed the shapes positions so that the sphere and box are aligned with the camera and far from each other. Then the test goes through the middle horizontal line from left to right. I chose the numbers so all checked pixels are clearly within one of the 3 regions: box / sphere / empty.</p>\n<p>I couldn't reproduce the flaky tests locally even before this, so I'll try it a few times on CI to see how it goes.</p>", "type": "rendered"}, "source": {"commit": {"hash": "e6e2eb757150", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e6e2eb757150.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e6e2eb757150"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "flaky_visualat"}}, "comment_count": 5, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2020-03-10T20:45:15.144349+00:00", "type": "participant", "approved": false, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "PARTICIPANT", "participated_on": "2020-03-27T22:03:16.139068+00:00", "type": "participant", "approved": true, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2020-03-27T22:03:51.404450+00:00", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "merge_commit": {"hash": "85328c248d86", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/85328c248d86.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/85328c248d86"}}}, "closed_by": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}