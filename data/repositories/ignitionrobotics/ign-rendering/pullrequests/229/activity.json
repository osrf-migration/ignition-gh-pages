{"pagelen": 50, "values": [{"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "e034fda8fefb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e034fda8fefb.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e034fda8fefb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "376dcbc8df46", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/376dcbc8df46.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/376dcbc8df46"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "MERGED", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-02-16T23:52:34.930573+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/136102445.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-136102445"}}, "parent": {"id": 136073244, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/136073244.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-136073244"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "fixed pipelines by building ign-common from source. [376dcbc](#!/ignitionrobotics/ign-rendering/commits/376dcbc8df46a2d307e7d467f52b7ffb1632a47e)", "markup": "markdown", "html": "<p>fixed pipelines by building ign-common from source. <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/commits/376dcbc8df46a2d307e7d467f52b7ffb1632a47e\" rel=\"nofollow\">376dcbc</a></p>", "type": "rendered"}, "created_on": "2020-02-16T23:50:15.568589+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-02-16T23:50:15.575138+00:00", "type": "pullrequest_comment", "id": 136102445}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "e034fda8fefb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e034fda8fefb.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e034fda8fefb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "376dcbc8df46", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/376dcbc8df46.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/376dcbc8df46"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-02-15T02:13:39.825728+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/136073244.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-136073244"}}, "parent": {"id": 134081783, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/134081783.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-134081783"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "Ended up building ign-common3 from source on jenkins. \n\n[Build](https://build.osrfoundation.org/job/ignition_rendering-ci-pr_any-ubuntu_auto-amd64/481/) looks good", "markup": "markdown", "html": "<p>Ended up building ign-common3 from source on jenkins. </p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ignition_rendering-ci-pr_any-ubuntu_auto-amd64/481/\" rel=\"nofollow\">Build</a> looks good</p>", "type": "rendered"}, "created_on": "2020-02-15T01:47:35.818501+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-02-15T01:47:35.826631+00:00", "type": "pullrequest_comment", "id": 136073244}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/134081783.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-134081783"}}, "parent": {"id": 133157733, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/133157733.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-133157733"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "I\u2019ll see if I can make a ign-common3 prerelease next week to fix CI", "markup": "markdown", "html": "<p>I\u2019ll see if I can make a ign-common3 prerelease next week to fix CI</p>", "type": "rendered"}, "created_on": "2020-01-31T22:54:11.364487+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-01-31T22:54:11.371827+00:00", "type": "pullrequest_comment", "id": 134081783}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"approval": {"date": "2020-01-29T19:40:58.024126+00:00", "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/133157733.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-133157733"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "CI is failing because of the PR in ign-common not being merged yet, should be OK when it is", "markup": "markdown", "html": "<p>CI is failing because of the PR in ign-common not being merged yet, should be OK when it is</p>", "type": "rendered"}, "created_on": "2020-01-27T03:27:36.906637+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "updated_on": "2020-01-27T03:27:36.912695+00:00", "type": "pullrequest_comment", "id": 133157733}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "e034fda8fefb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e034fda8fefb.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e034fda8fefb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0a9dfb4dbdba", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/0a9dfb4dbdba.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/0a9dfb4dbdba"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-27T03:01:52.771122+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/133119055.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-133119055"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "I fixed some code check errors in [d2db47f](#!/ignitionrobotics/ign-rendering/commits/d2db47f34ee70f55fc6f41d2e7205a7cc5d2210a)\n\nyou can find them by running `sh tools/code_check.sh`", "markup": "markdown", "html": "<p>I fixed some code check errors in <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/commits/d2db47f34ee70f55fc6f41d2e7205a7cc5d2210a\" rel=\"nofollow\">d2db47f</a></p>\n<p>you can find them by running <code>sh tools/code_check.sh</code></p>", "type": "rendered"}, "created_on": "2020-01-24T22:00:57.275437+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-01-24T22:00:57.281227+00:00", "type": "pullrequest_comment", "id": 133119055}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/133119015.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-133119015"}}, "parent": {"id": 132974024, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132974024.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132974024"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "ok makes sense. I tested `SetAlphaFromTexture(false, 0.5, true)` vs `SetAlphaFromTexture(false, 0.5, false)` but actually didn\u2019t notice much difference. I reverted the change to respect the last arg.  [d2db47f](#!/ignitionrobotics/ign-rendering/commits/d2db47f34ee70f55fc6f41d2e7205a7cc5d2210a)", "markup": "markdown", "html": "<p>ok makes sense. I tested <code>SetAlphaFromTexture(false, 0.5, true)</code> vs <code>SetAlphaFromTexture(false, 0.5, false)</code> but actually didn\u2019t notice much difference. I reverted the change to respect the last arg.  <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/commits/d2db47f34ee70f55fc6f41d2e7205a7cc5d2210a\" rel=\"nofollow\">d2db47f</a></p>", "type": "rendered"}, "created_on": "2020-01-24T22:00:30.633545+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-01-24T22:00:30.641130+00:00", "type": "pullrequest_comment", "id": 133119015}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "e034fda8fefb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e034fda8fefb.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e034fda8fefb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d2db47f34ee7", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/d2db47f34ee7.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/d2db47f34ee7"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-01-24T21:58:52.249913+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/133115265.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-133115265"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "just made a comment in the [ign-common PR](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff). The changes there are backwards compatible so we can keep common3. ", "markup": "markdown", "html": "<p>just made a comment in the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff\" rel=\"nofollow\">ign-common PR</a>. The changes there are backwards compatible so we can keep common3. </p>", "type": "rendered"}, "created_on": "2020-01-24T21:16:47.049255+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-01-24T21:16:47.055297+00:00", "type": "pullrequest_comment", "id": 133115265}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132974056.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132974056"}}, "parent": {"id": 132961496, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132961496.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132961496"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "Yea we are targeting ogre2 so it\u2019s not quite critical, agree with leaving for later.", "markup": "markdown", "html": "<p>Yea we are targeting ogre2 so it\u2019s not quite critical, agree with leaving for later.</p>", "type": "rendered"}, "created_on": "2020-01-24T03:17:34.080303+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "updated_on": "2020-01-24T03:17:34.087649+00:00", "type": "pullrequest_comment", "id": 132974056}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132974042.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132974042"}}, "parent": {"id": 132962383, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132962383.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132962383"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "Done! As well as the rest of the feedback", "markup": "markdown", "html": "<p>Done! As well as the rest of the feedback</p>", "type": "rendered"}, "created_on": "2020-01-24T03:17:09.370998+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "updated_on": "2020-01-24T03:17:09.378286+00:00", "type": "pullrequest_comment", "id": 132974042}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132974024.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132974024"}}, "parent": {"id": 132962290, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132962290.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132962290"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "Done but I feel that it looks a bit funky because while the user is setting the twoSided to a specific value it is actually written to a different one, do you think that looks reasonable?", "markup": "markdown", "html": "<p>Done but I feel that it looks a bit funky because while the user is setting the twoSided to a specific value it is actually written to a different one, do you think that looks reasonable?</p>", "type": "rendered"}, "created_on": "2020-01-24T03:16:37.823882+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "inline": {}, "updated_on": "2020-01-24T03:16:37.832258+00:00", "type": "pullrequest_comment", "id": 132974024}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "e034fda8fefb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e034fda8fefb.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e034fda8fefb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "067a2c4987b5", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/067a2c4987b5.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/067a2c4987b5"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-24T03:15:50.153841+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "e034fda8fefb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e034fda8fefb.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e034fda8fefb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "91acdd3fd75b", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/91acdd3fd75b.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/91acdd3fd75b"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-24T03:12:32.507130+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132961713.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132961713"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "I think you can just do `BaseMaterial::SetAlphaFromTexture(_enabled, _alpha, _twoSided);` to set these variables\n\nsame for Ogre2Material.cc", "markup": "markdown", "html": "<p>I think you can just do <code>BaseMaterial::SetAlphaFromTexture(_enabled, _alpha, _twoSided);</code> to set these variables</p>\n<p>same for Ogre2Material.cc</p>", "type": "rendered"}, "created_on": "2020-01-23T23:18:03.282071+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-01-23T23:29:37.659894+00:00", "type": "pullrequest_comment", "id": 132961713}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132962617.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132962617"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "else revert the culling mode to the default mode, i.e`CULL_CLOCKWISE`", "markup": "markdown", "html": "<p>else revert the culling mode to the default mode, i.e<code>CULL_CLOCKWISE</code></p>", "type": "rendered"}, "created_on": "2020-01-23T23:29:12.792785+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-01-23T23:29:12.800986+00:00", "type": "pullrequest_comment", "id": 132962617}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132962383.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132962383"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "can you update [Material\\_TEST.cc](#!/ignitionrobotics/ign-rendering/src/default/src/Material_TEST.cc) to test the new functions added?", "markup": "markdown", "html": "<p>can you update <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/src/default/src/Material_TEST.cc\" rel=\"nofollow\">Material_TEST.cc</a> to test the new functions added?</p>", "type": "rendered"}, "created_on": "2020-01-23T23:26:41.900688+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-01-23T23:26:41.905793+00:00", "type": "pullrequest_comment", "id": 132962383}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132962290.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132962290"}}, "parent": {"id": 132962223, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132962223.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132962223"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "and possibly just disable two sided lighting", "markup": "markdown", "html": "<p>and possibly just disable two sided lighting</p>", "type": "rendered"}, "created_on": "2020-01-23T23:25:33.192479+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-01-23T23:25:33.202015+00:00", "type": "pullrequest_comment", "id": 132962290}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132962223.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132962223"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "for the case where `_enabled` is set to `false`, we may need to revert the alpha test comparison function back to `CMPF_ALWAYS_PASS`", "markup": "markdown", "html": "<p>for the case where <code>_enabled</code> is set to <code>false</code>, we may need to revert the alpha test comparison function back to <code>CMPF_ALWAYS_PASS</code></p>", "type": "rendered"}, "created_on": "2020-01-23T23:24:49.441190+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-01-23T23:24:49.446528+00:00", "type": "pullrequest_comment", "id": 132962223}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132961989.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132961989"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "I\u2019m thinking of being more explicit here and name it `TextureAlphaEnabled` because diffuse also has an alpha channel so we want it to be clear that it\u2019s the texture\u2019s alpha channel", "markup": "markdown", "html": "<p>I\u2019m thinking of being more explicit here and name it <code>TextureAlphaEnabled</code> because diffuse also has an alpha channel so we want it to be clear that it\u2019s the texture\u2019s alpha channel</p>", "type": "rendered"}, "created_on": "2020-01-23T23:21:42.973558+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-01-23T23:21:42.979040+00:00", "type": "pullrequest_comment", "id": 132961989}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132961818.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132961818"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "can you add the function separator `//////////////////////////////////////////////////`", "markup": "markdown", "html": "<p>can you add the function separator <code>//////////////////////////////////////////////////</code></p>", "type": "rendered"}, "created_on": "2020-01-23T23:19:28.422935+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-01-23T23:19:28.428553+00:00", "type": "pullrequest_comment", "id": 132961818}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132961753.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132961753"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "can you add `// Documentation inherited` above this line?", "markup": "markdown", "html": "<p>can you add <code>// Documentation inherited</code> above this line?</p>", "type": "rendered"}, "created_on": "2020-01-23T23:18:41.783616+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-01-23T23:18:41.789479+00:00", "type": "pullrequest_comment", "id": 132961753}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132961496.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132961496"}}, "parent": {"id": 132620731, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132620731.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132620731"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "looking good!\n\nyeah I noticed the problem with ogre1 with culling disabled. In ogre2, the two sided lighting does extra things like flipping the normals of faces. If that\u2019s not urgent for you, we can leave that for later.", "markup": "markdown", "html": "<p>looking good!</p>\n<p>yeah I noticed the problem with ogre1 with culling disabled. In ogre2, the two sided lighting does extra things like flipping the normals of faces. If that\u2019s not urgent for you, we can leave that for later.</p>", "type": "rendered"}, "created_on": "2020-01-23T23:15:08.303949+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-01-23T23:15:08.313166+00:00", "type": "pullrequest_comment", "id": 132961496}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "e034fda8fefb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e034fda8fefb.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e034fda8fefb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "55bb385e7446", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/55bb385e7446.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/55bb385e7446"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-22T10:14:12.919438+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "e034fda8fefb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e034fda8fefb.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e034fda8fefb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b6159f82cee4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/b6159f82cee4.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/b6159f82cee4"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-22T10:11:59.419638+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "e034fda8fefb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e034fda8fefb.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e034fda8fefb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4bee090b3164", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/4bee090b3164.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/4bee090b3164"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-22T08:58:39.545414+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "e034fda8fefb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e034fda8fefb.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e034fda8fefb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7397e226d4c6", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/7397e226d4c6.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/7397e226d4c6"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-22T08:52:59.806390+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132620731.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132620731"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "Progress! I retargeted the PR to default, created the new API function as you suggested and updated the ign-common PR in the process \\(also targeting default since we are now breaking API\\).\n\nCurrent results below \\(left is ogre1, right is ogre2\\). As predicted a \u201cproper\u201d API fixes the weird rubber duck rendering issue you noticed before:\n\n![](data/bitbucket.org/repo/zq9ear/images/3019182431-bitmap.png)\n\u200c\n\nYou can probably notice how the ogre1 rendering looks a bit weird, and it\u2019s the result of disabling hardware culling which makes the grid look a bit funky \\(with hardware culling the hidden faces are never rendered but at least the front one look correct\\), detail of the current glitch below:\n\n![](data/bitbucket.org/repo/zq9ear/images/309815002-Selection_014.png)\n\u200c\n\nThe issue seems to be due to the depth being incorrect, since \u201csome triangles\u201d of the back grid are rendered in front when they shouldn\u2019t, but this is only a supposition.\n\n\u200c", "markup": "markdown", "html": "<p>Progress! I retargeted the PR to default, created the new API function as you suggested and updated the ign-common PR in the process (also targeting default since we are now breaking API).</p>\n<p>Current results below (left is ogre1, right is ogre2). As predicted a \u201cproper\u201d API fixes the weird rubber duck rendering issue you noticed before:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/zq9ear/images/3019182431-bitmap.png\" />\n\u200c</p>\n<p>You can probably notice how the ogre1 rendering looks a bit weird, and it\u2019s the result of disabling hardware culling which makes the grid look a bit funky (with hardware culling the hidden faces are never rendered but at least the front one look correct), detail of the current glitch below:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/zq9ear/images/309815002-Selection_014.png\" />\n\u200c</p>\n<p>The issue seems to be due to the depth being incorrect, since \u201csome triangles\u201d of the back grid are rendered in front when they shouldn\u2019t, but this is only a supposition.</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2020-01-22T08:40:37.030240+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "updated_on": "2020-01-22T08:40:49.539356+00:00", "type": "pullrequest_comment", "id": 132620731}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "e034fda8fefb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e034fda8fefb.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e034fda8fefb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "75aaae5fa37a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/75aaae5fa37a.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/75aaae5fa37a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-22T08:29:24.876149+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132584795.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132584795"}}, "parent": {"id": 132234774, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132234774.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132234774"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "done, [merged](#!/ignitionrobotics/ign-rendering/pull-requests/232)", "markup": "markdown", "html": "<p>done, <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/pull-requests/232\" rel=\"nofollow\">merged</a></p>", "type": "rendered"}, "created_on": "2020-01-22T01:05:52.922100+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-01-22T01:05:52.928922+00:00", "type": "pullrequest_comment", "id": 132584795}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132579996.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132579996"}}, "parent": {"id": 132225913, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132225913.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132225913"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "I like option 2 too. How about something like `SetAlphaFromTexture(bool _enabled, double _alpha=0.5, bool _doubleSided=true)`? mainly to include the word `Texture` in the function name to make it evident that it\u2019s coming from the texture.\n\nthe second param gives the alpha test threshold value. I think this is not specific to ogre. Looking around, I see similar idea can be found in [threejs](https://threejs.org/docs/#api/en/materials/Material.alphaTest) and [glTF2](https://github.com/KhronosGroup/glTF/tree/master/specification/2.0) \\(called `alphaCutoff`\\). The third argument could be called `culling` or `twoSided` to make sure two sides are visible.", "markup": "markdown", "html": "<p>I like option 2 too. How about something like <code>SetAlphaFromTexture(bool _enabled, double _alpha=0.5, bool _doubleSided=true)</code>? mainly to include the word <code>Texture</code> in the function name to make it evident that it\u2019s coming from the texture.</p>\n<p>the second param gives the alpha test threshold value. I think this is not specific to ogre. Looking around, I see similar idea can be found in <a data-is-external-link=\"true\" href=\"https://threejs.org/docs/#api/en/materials/Material.alphaTest\" rel=\"nofollow\">threejs</a> and <a data-is-external-link=\"true\" href=\"https://github.com/KhronosGroup/glTF/tree/master/specification/2.0\" rel=\"nofollow\">glTF2</a> (called <code>alphaCutoff</code>). The third argument could be called <code>culling</code> or <code>twoSided</code> to make sure two sides are visible.</p>", "type": "rendered"}, "created_on": "2020-01-21T23:48:16.358514+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-01-21T23:48:16.365443+00:00", "type": "pullrequest_comment", "id": 132579996}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132225913.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132225913"}}, "parent": {"id": 132180030, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132180030.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132180030"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "Thanks for the test case! I can reproduce it and will use it to come up with a better solution. I agree that the only way to do fix it properly is by breaking API, was hoping it wouldn\u2019t be necessary but it seems it will be. I\u2019ll retarget the PR to default.\n\nI was thinking of either:\n\n1. Changing the SetTransparency function to accept a boolean to enable / disable alpha based rendering.\n2. Adding a function to enable and configure alpha rendering, maybe with a getter as well \\(i.e. SetAlphaRendering / GetAlphaRendering\\).\n3. Changing the SetTexture function to accept a boolean for alpha based textures.\n\nPersonally I lean towards 2, with the addition of a parameter for the alpha test threshold, maybe with a sensible default so users don\u2019t have to specify it. I\u2019m guessing however, it wouldn\u2019t make it to the ign-common/graphics Material API since it\u2019s an OGRE specific setting so even making it a parameter wouldn\u2019t probably be very useful.\n\nIdeas?", "markup": "markdown", "html": "<p>Thanks for the test case! I can reproduce it and will use it to come up with a better solution. I agree that the only way to do fix it properly is by breaking API, was hoping it wouldn\u2019t be necessary but it seems it will be. I\u2019ll retarget the PR to default.</p>\n<p>I was thinking of either:</p>\n<ol>\n<li>Changing the SetTransparency function to accept a boolean to enable / disable alpha based rendering.</li>\n<li>Adding a function to enable and configure alpha rendering, maybe with a getter as well (i.e. SetAlphaRendering / GetAlphaRendering).</li>\n<li>Changing the SetTexture function to accept a boolean for alpha based textures.</li>\n</ol>\n<p>Personally I lean towards 2, with the addition of a parameter for the alpha test threshold, maybe with a sensible default so users don\u2019t have to specify it. I\u2019m guessing however, it wouldn\u2019t make it to the ign-common/graphics Material API since it\u2019s an OGRE specific setting so even making it a parameter wouldn\u2019t probably be very useful.</p>\n<p>Ideas?</p>", "type": "rendered"}, "created_on": "2020-01-20T03:29:25.694398+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "updated_on": "2020-01-20T09:17:51.322920+00:00", "type": "pullrequest_comment", "id": 132225913}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132234774.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132234774"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "Aaaand I think I messed up the history a bit by not rebasing my branch to default \\(now it is carrying a lot of ign-rendering3 changes\\), can you push the latest ign-rendering3 changes to default to make the commit diff more manageable?", "markup": "markdown", "html": "<p>Aaaand I think I messed up the history a bit by not rebasing my branch to default (now it is carrying a lot of ign-rendering3 changes), can you push the latest ign-rendering3 changes to default to make the commit diff more manageable?</p>", "type": "rendered"}, "created_on": "2020-01-20T06:17:48.769203+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "updated_on": "2020-01-20T06:17:48.773187+00:00", "type": "pullrequest_comment", "id": 132234774}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "3bcd5af8c663", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/3bcd5af8c663.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/3bcd5af8c663"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7bceb2fc2353", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/7bceb2fc2353.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/7bceb2fc2353"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-20T03:41:14.754202+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "3bcd5af8c663", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/3bcd5af8c663.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/3bcd5af8c663"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b3781cf603bf", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/b3781cf603bf.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/b3781cf603bf"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-20T03:29:46.133703+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "3bcd5af8c663", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/3bcd5af8c663.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/3bcd5af8c663"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b3781cf603bf", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/b3781cf603bf.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/b3781cf603bf"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-20T03:29:46.091904+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132180030.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132180030"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "I notice a change in behavior the new `SetTransparency` changes. I updated the `mesh_viewer` demo in the `transparent_materials_test` branch to test setting transparency to a regular mesh. Here\u2019s before \\(left\\) and after \\(right\\) the change:\n\n![](data/bitbucket.org/repo/zq9ear/images/1077075107-alpha_tex_comp.png)\n\u200c\n\nI\u2019m looking into ways around it. I think we need an API to let users explicitly indicate that they want to use set transparency based on the texture\u2019s alpha channel. Are you tied to using ign-rendering3? If not, we can the new API in `default`", "markup": "markdown", "html": "<p>I notice a change in behavior the new <code>SetTransparency</code> changes. I updated the <code>mesh_viewer</code> demo in the <code>transparent_materials_test</code> branch to test setting transparency to a regular mesh. Here\u2019s before (left) and after (right) the change:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/zq9ear/images/1077075107-alpha_tex_comp.png\" />\n\u200c</p>\n<p>I\u2019m looking into ways around it. I think we need an API to let users explicitly indicate that they want to use set transparency based on the texture\u2019s alpha channel. Are you tied to using ign-rendering3? If not, we can the new API in <code>default</code></p>", "type": "rendered"}, "created_on": "2020-01-17T21:29:03.707725+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-01-17T21:29:23.527284+00:00", "type": "pullrequest_comment", "id": 132180030}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132169441.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132169441"}}, "parent": {"id": 132035355, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132035355.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132035355"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "I wrote a [shadow caster material](https://bitbucket.org/osrf/gazebo_models/src/e6d645674e8a99cb7955ce3b9a1fbe26c58c41f2/oak_tree/materials/scripts/oak_tree.material#lines-56) that use shaders for alpha testing some time ago. I didn\u2019t find APIs that just enable this feature in ogre 1.x so the code to make it work may  be a bit more involved.", "markup": "markdown", "html": "<p>I wrote a <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo_models/src/e6d645674e8a99cb7955ce3b9a1fbe26c58c41f2/oak_tree/materials/scripts/oak_tree.material#lines-56\" rel=\"nofollow\">shadow caster material</a> that use shaders for alpha testing some time ago. I didn\u2019t find APIs that just enable this feature in ogre 1.x so the code to make it work may  be a bit more involved.</p>", "type": "rendered"}, "created_on": "2020-01-17T19:30:40.272752+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-01-17T19:30:40.281768+00:00", "type": "pullrequest_comment", "id": 132169441}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* There is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "2867adbd4df4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/2867adbd4df4.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/2867adbd4df4"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b3781cf603bf", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/b3781cf603bf.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/b3781cf603bf"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-17T05:33:11.318057+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* Since I couldn\u2019t find the equivalent of the TwoSidedLighting functionality there is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "2867adbd4df4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/2867adbd4df4.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/2867adbd4df4"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b3781cf603bf", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/b3781cf603bf.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/b3781cf603bf"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-17T05:25:57.713529+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132035355.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132035355"}}, "parent": {"id": 132033271, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132033271.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132033271"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "Thanks that helped! Now all the grids are rendered, still no luck with shadows though \\(the grid doesn\u2019t project shadows onto the blue bag but it does in OGRE2\\)", "markup": "markdown", "html": "<p>Thanks that helped! Now all the grids are rendered, still no luck with shadows though (the grid doesn\u2019t project shadows onto the blue bag but it does in OGRE2)</p>", "type": "rendered"}, "created_on": "2020-01-17T02:38:21.759066+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "updated_on": "2020-01-17T02:38:21.765767+00:00", "type": "pullrequest_comment", "id": 132035355}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/132033271.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-132033271"}}, "parent": {"id": 131851605, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/131851605.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-131851605"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "ah nice, I was running outdated branch. I get what you have now.\n\nfor ogre1.x you can disable hardware culling to enable two sided lighting, i.e. `this->ogrePass->setCullingMode(Ogre::CULL_NONE);`\n\nI\u2019ll continue to test the changes tomorrow against other models to make sure we have not changed the behavior.", "markup": "markdown", "html": "<p>ah nice, I was running outdated branch. I get what you have now.</p>\n<p>for ogre1.x you can disable hardware culling to enable two sided lighting, i.e. <code>this-&gt;ogrePass-&gt;setCullingMode(Ogre::CULL_NONE);</code></p>\n<p>I\u2019ll continue to test the changes tomorrow against other models to make sure we have not changed the behavior.</p>", "type": "rendered"}, "created_on": "2020-01-17T01:55:29.228403+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-01-17T01:55:29.235587+00:00", "type": "pullrequest_comment", "id": 132033271}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* Since I couldn\u2019t find the equivalent of the TwoSidedLighting functionality there is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "2867adbd4df4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/2867adbd4df4.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/2867adbd4df4"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e4879024dad7", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/e4879024dad7.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/e4879024dad7"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2020-01-16T07:50:27.555202+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/131851605.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-131851605"}}, "parent": {"id": 131844086, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/131844086.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-131844086"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "Hi Ian!\n\nApologies, should have attached the models to give a visual comparison. I just took some screenshots and these are my results \\(to be precise I had to merge the branch rmf to the one I opened the PR for in ign-common, since I need the custom\\_path\\_uri to be able to find the models in my simulation environment\\).\n\nFirst row is before the two PRs, second row is after, left is OGRE1 right is OGRE2.\n\n![](data/bitbucket.org/repo/zq9ear/images/2349224540-transparent_assets.png)\n\u200c\n\nThe OGRE1 is still not perfect because of the double sided rendering issue, however it is still \u201cbetter\u201d and from my understanding the two sided rendering is only necessary for fully planar surfaces, so changing the asset to have a thickness in the cage should fix it?\n\nI\u2019m not sure why our results are different, I\u2019ll double check I don\u2019t have any uncommitted change.\n\nIt\u2019s not perfect but it\u2019s still progress? Happy to iterate on this to make it better.", "markup": "markdown", "html": "<p>Hi Ian!</p>\n<p>Apologies, should have attached the models to give a visual comparison. I just took some screenshots and these are my results (to be precise I had to merge the branch rmf to the one I opened the PR for in ign-common, since I need the custom_path_uri to be able to find the models in my simulation environment).</p>\n<p>First row is before the two PRs, second row is after, left is OGRE1 right is OGRE2.</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/zq9ear/images/2349224540-transparent_assets.png\" />\n\u200c</p>\n<p>The OGRE1 is still not perfect because of the double sided rendering issue, however it is still \u201cbetter\u201d and from my understanding the two sided rendering is only necessary for fully planar surfaces, so changing the asset to have a thickness in the cage should fix it?</p>\n<p>I\u2019m not sure why our results are different, I\u2019ll double check I don\u2019t have any uncommitted change.</p>\n<p>It\u2019s not perfect but it\u2019s still progress? Happy to iterate on this to make it better.</p>", "type": "rendered"}, "created_on": "2020-01-16T02:50:59.815486+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "updated_on": "2020-01-16T02:52:20.609128+00:00", "type": "pullrequest_comment", "id": 131851605}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/comments/131844086.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229/_/diff#comment-131844086"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}, "content": {"raw": "This is what I\u2019m getting using the [model](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing) that\u2019s in the description. Do you also see the same thing? left: ogre1, right: ogre2\n\n![](data/bitbucket.org/repo/zq9ear/images/2657850759-alpha_tex.png)\n\u200c", "markup": "markdown", "html": "<p>This is what I\u2019m getting using the <a data-is-external-link=\"true\" href=\"https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing\" rel=\"nofollow\">model</a> that\u2019s in the description. Do you also see the same thing? left: ogre1, right: ogre2</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/zq9ear/images/2657850759-alpha_tex.png\" />\n\u200c</p>", "type": "rendered"}, "created_on": "2020-01-16T00:29:12.288787+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-01-16T00:29:12.295466+00:00", "type": "pullrequest_comment", "id": 131844086}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR [here](#!/ignitionrobotics/ign-common/pull-requests/219/transparent-textures/diff).\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* Since I couldn\u2019t find the equivalent of the TwoSidedLighting functionality there is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "2867adbd4df4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/2867adbd4df4.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/2867adbd4df4"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8092ed7a2984", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/8092ed7a2984.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/8092ed7a2984"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-15T09:47:35.962587+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}, {"update": {"description": "Note, this is pretty much a work in progress and I\u2019m not too familiar with ogre so I might have missed something or introduced regressions, especially in the ogre1 code.\r\n\r\nThis PR is to get collada assets with alpha textures to work properly in ignition, both with ogre1 and ogre2.\r\n\r\nFirst of all the asset can be found [here](https://drive.google.com/file/d/1vKCbR9AxiEyjsJ5ISIRIcARl81jfTqzE/view?usp=sharing), it\u2019s a slightly modified version of the one in [this issue](https://bitbucket.org/osrf/gazebo/issues/2640/alpha-textures-not-supported) \\(added transparency \\+ transparent properties to the cage object\\).\r\n\r\nAlso, in order for this PR to have any effect it is necessary to remove the part of the ColladaLoader in ign-common that overwrites the transparency with a value of 0 and issues a warning whenever a <texture> property is found inside a <transparent> tag, related PR here.\r\n\r\nI tested both the asset attached \\(to verify the change\\) and a non-textured asset with transparent materials from [fuel](https://app.ignitionrobotics.org/openrobotics/fuel/models/Cafe) to make sure there was no regressions. Both seem to render correctly but I might have missed something. Now the details.\r\n\r\n### Ogre2\r\n\r\n* Setting the blend type to transparent alpha makes the texture render correctly but shadows are wrong. The only way I could get the shadows to work correctly is by setting:\r\n\r\n    * AlphaTest: With this setting the shadows that the object projects on the outside are correct \\(instead of being solid\\).\r\n    * TwoSidedLighting: Setting this to true was the only way I could get the shadows inside the objects to be correct \\(the grid projecting a shadow on the blue bag\\), otherwise there is none.\r\n    \r\n* The alpha test threshold is an arbitrary number which changes the projected shadows slightly, I\u2019m open to making it a parameter \\(although this would probably mean breaking API\\).\r\n\r\n    * If we make the threshold a parameter, where should it come from?\r\n    \r\n* I\u2019m open to how we should implement transparency for textures. For now the transparency parameter is still taken and applied to the whole texture \\(hence even fully opaque alpha textures will be partially transparent, depending on the parameter value\\). Is this a good behavior or would we want to only use the texture\u2019s alpha channel? I\u2019m afraid that since we need to specify a transparency value greater than 0 to enable alpha blending it will actually be impossible to have a completely opaque texture and this sounds wrong.\r\n\r\n### OGRE1\r\n\r\n* I removed the manual override of the alpha channel and that fixed the rendering of the cage but to be honest I didn\u2019t spend much time on this so I might have introduced some regression, I\u2019d like to know from who wrote that part in the first place in which cases it was needed.\r\n* Since I couldn\u2019t find the equivalent of the TwoSidedLighting functionality there is still no shadow being projected by the cage on the blue bag. I\u2019ll be looking into fixing this in the coming days.\r\n\r\n\u200c\r\n\r\nAgain this is very much a work in progress, and since we are adding a previously unimplemented functionality feedback on what the feature should look like from an end user point of view is welcome!\r\n\r\n\u200c", "title": "Added basic support for alpha textures in ogre1 and ogre2", "destination": {"commit": {"hash": "2867adbd4df4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/2867adbd4df4.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/2867adbd4df4"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8092ed7a2984", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/8092ed7a2984.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/8092ed7a2984"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "transparent_materials"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-01-15T09:45:57.031876+00:00"}, "pull_request": {"type": "pullrequest", "id": 229, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/229"}}, "title": "Added basic support for alpha textures in ogre1 and ogre2"}}], "next": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/229/activity_ctx=bzIa7CxSz.json"}