{"rendered": {"description": {"raw": "This PR adds support for transparency based on the alpha channel of the <diffuse> sdf tag in OGRE2.  \r\nOGRE1 \\(and Gazebo\\) have a slightly different behavior since they use the alpha channel in the <ambient> tag, however the PBS system in OGRE2 doesn\u2019t have ambient colors hence we are switching to using the diffuse channel.\r\n\r\nWith this PR, the total opacity of an object will be the product of \\(1 minus\\) the transparency specified in the object\u2019s material \\(i.e. in the .dae in Collada or the .mtl in Obj assets\\) and the alpha specified in the diffuse channel, this behavior is analogue to Gazebo classic and should make behavior more similar.\r\n\r\nAlso without this PR there is no way to make transparent primitives purely in SDF, this can now be done.\r\n\r\nI merged these changes into the [transparent\\_materials\\_test](#!/ignitionrobotics/ign-rendering/commits/2b79cea85e52b5a5ef0548ee0b2ad52518771da3) branch and updated the example to include a box with a partially transparent diffuse / ambient color, behavior \\(with OGRE2\\), before PR:\r\n\r\n![](data/bitbucket.org/repo/zq9ear/images/1670342755-image.png)\r\nAfter:\r\n\r\n![](data/bitbucket.org/repo/zq9ear/images/4247818063-image.png)\r\n\u200c", "markup": "markdown", "html": "<p>This PR adds support for transparency based on the alpha channel of the &lt;diffuse&gt; sdf tag in OGRE2.<br />\nOGRE1 (and Gazebo) have a slightly different behavior since they use the alpha channel in the &lt;ambient&gt; tag, however the PBS system in OGRE2 doesn\u2019t have ambient colors hence we are switching to using the diffuse channel.</p>\n<p>With this PR, the total opacity of an object will be the product of (1 minus) the transparency specified in the object\u2019s material (i.e. in the .dae in Collada or the .mtl in Obj assets) and the alpha specified in the diffuse channel, this behavior is analogue to Gazebo classic and should make behavior more similar.</p>\n<p>Also without this PR there is no way to make transparent primitives purely in SDF, this can now be done.</p>\n<p>I merged these changes into the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/commits/2b79cea85e52b5a5ef0548ee0b2ad52518771da3\" rel=\"nofollow\">transparent_materials_test</a> branch and updated the example to include a box with a partially transparent diffuse / ambient color, behavior (with OGRE2), before PR:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/zq9ear/images/1670342755-image.png\" />\nAfter:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/zq9ear/images/4247818063-image.png\" />\n\u200c</p>", "type": "rendered"}, "title": {"raw": "Added transparency based on diffuse color's alpha channel in OGRE2", "markup": "markdown", "html": "<p>Added transparency based on diffuse color's alpha channel in OGRE2</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This PR adds support for transparency based on the alpha channel of the <diffuse> sdf tag in OGRE2.  \r\nOGRE1 \\(and Gazebo\\) have a slightly different behavior since they use the alpha channel in the <ambient> tag, however the PBS system in OGRE2 doesn\u2019t have ambient colors hence we are switching to using the diffuse channel.\r\n\r\nWith this PR, the total opacity of an object will be the product of \\(1 minus\\) the transparency specified in the object\u2019s material \\(i.e. in the .dae in Collada or the .mtl in Obj assets\\) and the alpha specified in the diffuse channel, this behavior is analogue to Gazebo classic and should make behavior more similar.\r\n\r\nAlso without this PR there is no way to make transparent primitives purely in SDF, this can now be done.\r\n\r\nI merged these changes into the [transparent\\_materials\\_test](#!/ignitionrobotics/ign-rendering/commits/2b79cea85e52b5a5ef0548ee0b2ad52518771da3) branch and updated the example to include a box with a partially transparent diffuse / ambient color, behavior \\(with OGRE2\\), before PR:\r\n\r\n![](data/bitbucket.org/repo/zq9ear/images/1670342755-image.png)\r\nAfter:\r\n\r\n![](data/bitbucket.org/repo/zq9ear/images/4247818063-image.png)\r\n\u200c", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rendering/pullrequests/243/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rendering/diffstat/ignitionrobotics/ign-rendering:f6567d7f437f%0Dc36aaf8e47b5?from_pullrequest_id=243"}, "commits": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/243/commits.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/243.json"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/243/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rendering/pullrequests/243/merge"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/pull-requests/243"}, "activity": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/243/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rendering/diff/ignitionrobotics/ign-rendering:f6567d7f437f%0Dc36aaf8e47b5?from_pullrequest_id=243"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rendering/pullrequests/243/approve"}, "statuses": {"href": "data/repositories/ignitionrobotics/ign-rendering/pullrequests/243/statuses_page=1.json"}}, "title": "Added transparency based on diffuse color's alpha channel in OGRE2", "close_source_branch": true, "reviewers": [{"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}], "id": 243, "destination": {"commit": {"hash": "c36aaf8e47b5", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/c36aaf8e47b5.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/c36aaf8e47b5"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "default"}}, "created_on": "2020-03-04T06:19:14.035990+00:00", "summary": {"raw": "This PR adds support for transparency based on the alpha channel of the <diffuse> sdf tag in OGRE2.  \r\nOGRE1 \\(and Gazebo\\) have a slightly different behavior since they use the alpha channel in the <ambient> tag, however the PBS system in OGRE2 doesn\u2019t have ambient colors hence we are switching to using the diffuse channel.\r\n\r\nWith this PR, the total opacity of an object will be the product of \\(1 minus\\) the transparency specified in the object\u2019s material \\(i.e. in the .dae in Collada or the .mtl in Obj assets\\) and the alpha specified in the diffuse channel, this behavior is analogue to Gazebo classic and should make behavior more similar.\r\n\r\nAlso without this PR there is no way to make transparent primitives purely in SDF, this can now be done.\r\n\r\nI merged these changes into the [transparent\\_materials\\_test](#!/ignitionrobotics/ign-rendering/commits/2b79cea85e52b5a5ef0548ee0b2ad52518771da3) branch and updated the example to include a box with a partially transparent diffuse / ambient color, behavior \\(with OGRE2\\), before PR:\r\n\r\n![](data/bitbucket.org/repo/zq9ear/images/1670342755-image.png)\r\nAfter:\r\n\r\n![](data/bitbucket.org/repo/zq9ear/images/4247818063-image.png)\r\n\u200c", "markup": "markdown", "html": "<p>This PR adds support for transparency based on the alpha channel of the &lt;diffuse&gt; sdf tag in OGRE2.<br />\nOGRE1 (and Gazebo) have a slightly different behavior since they use the alpha channel in the &lt;ambient&gt; tag, however the PBS system in OGRE2 doesn\u2019t have ambient colors hence we are switching to using the diffuse channel.</p>\n<p>With this PR, the total opacity of an object will be the product of (1 minus) the transparency specified in the object\u2019s material (i.e. in the .dae in Collada or the .mtl in Obj assets) and the alpha specified in the diffuse channel, this behavior is analogue to Gazebo classic and should make behavior more similar.</p>\n<p>Also without this PR there is no way to make transparent primitives purely in SDF, this can now be done.</p>\n<p>I merged these changes into the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/commits/2b79cea85e52b5a5ef0548ee0b2ad52518771da3\" rel=\"nofollow\">transparent_materials_test</a> branch and updated the example to include a box with a partially transparent diffuse / ambient color, behavior (with OGRE2), before PR:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/zq9ear/images/1670342755-image.png\" />\nAfter:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/zq9ear/images/4247818063-image.png\" />\n\u200c</p>", "type": "rendered"}, "source": {"commit": {"hash": "c94039067743", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/c94039067743.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/c94039067743"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "branch": {"name": "diffuse_alpha_transparency"}}, "comment_count": 3, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": "2020-03-05T19:24:43.232972+00:00", "type": "participant", "approved": true, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2020-03-05T19:24:55.468621+00:00", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "merge_commit": {"hash": "f6567d7f437f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/commit/f6567d7f437f.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/commits/f6567d7f437f"}}}, "closed_by": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}