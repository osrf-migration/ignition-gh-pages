{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/issues/53/comments/53901135.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering/issues/53#comment-53901135"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering/issues/53.json"}}, "type": "issue", "id": 53, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rendering.json"}, "html": {"href": "#!/ignitionrobotics/ign-rendering"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f6b404b6-f373-460d-a470-69ff6f27cd93}ts=1533308"}}, "type": "repository", "name": "ign-rendering", "full_name": "ignitionrobotics/ign-rendering", "uuid": "{f6b404b6-f373-460d-a470-69ff6f27cd93}"}, "title": "[Ogre2.x] Spot / Point light shines through objects"}, "content": {"raw": "when testing with X2 in subt, I noticed that:\n\n* `cast_shadows` is not enabled \n* spot light is inside the robot\u2019s front lamp mesh\n\nEnabling `cast_shadows` and moving the spot light outside of the mesh fixes the problem for the simple case of one spotlight. \n\nHowever ign-rendering\u2019s [PbsMaterial compositor](#!/ignitionrobotics/ign-rendering/src/ign-rendering2/ogre2/src/media/2.0/scripts/Compositors/PbsMaterials.compositor) currently only defines 2 shadow maps for spotlights. So if a 3rd spotlight spotlight is inserted into the scene, the light will shine through objects.\n\nOne possible fix could be to increase the number of spot light textures defined in the compositor or [update the shadow node](https://forums.ogre3d.org/viewtopic.php?t=93560) on the fly\n\n\u200c", "markup": "markdown", "html": "<p>when testing with X2 in subt, I noticed that:</p>\n<ul>\n<li><code>cast_shadows</code> is not enabled </li>\n<li>spot light is inside the robot\u2019s front lamp mesh</li>\n</ul>\n<p>Enabling <code>cast_shadows</code> and moving the spot light outside of the mesh fixes the problem for the simple case of one spotlight. </p>\n<p>However ign-rendering\u2019s <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/src/ign-rendering2/ogre2/src/media/2.0/scripts/Compositors/PbsMaterials.compositor\" rel=\"nofollow\">PbsMaterial compositor</a> currently only defines 2 shadow maps for spotlights. So if a 3rd spotlight spotlight is inserted into the scene, the light will shine through objects.</p>\n<p>One possible fix could be to increase the number of spot light textures defined in the compositor or <a data-is-external-link=\"true\" href=\"https://forums.ogre3d.org/viewtopic.php?t=93560\" rel=\"nofollow\">update the shadow node</a> on the fly</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2019-09-13T22:52:16.698348+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": null, "type": "issue_comment", "id": 53901135}