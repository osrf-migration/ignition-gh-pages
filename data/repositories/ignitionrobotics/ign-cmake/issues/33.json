{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/33/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/33.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-cmake/issues/33/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/33/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/33/helper-functions-macros-need-improvement"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-cmake/issues/33/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Helper functions/macros need improvement for projects using qt", "component": null, "votes": 0, "watches": 1, "content": {"raw": "There are some very nice helper functions and macros for getting the names of source and test files for creating libraries, but they seems to not be that helpful for projects that use qt and need to use the `moc` compiler on the header files, for example ignition-gui:\r\n\r\n#!/ignitionrobotics/ign-gui/src/30af57b7bf3/include/ignition/gui/CMakeLists.txt\r\n\r\nThis currently works by creating the core library in the `include/ignition/gui/CMakeLists.txt` so that it can invoke the `moc` compiler on the qt header files. The source files from `src` are declared with `PARENT_SCOPE` so they can be added to the library from the include folder.\r\n\r\nIt currently works, but it seems like there's room for improvement.", "markup": "markdown", "html": "<p>There are some very nice helper functions and macros for getting the names of source and test files for creating libraries, but they seems to not be that helpful for projects that use qt and need to use the <code>moc</code> compiler on the header files, for example ignition-gui:</p>\n<p><a href=\"#!/ignitionrobotics/ign-gui/src/30af57b7bf3/include/ignition/gui/CMakeLists.txt\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-gui/src/30af57b7bf3/include/ignition/gui/CMakeLists.txt</a></p>\n<p>This currently works by creating the core library in the <code>include/ignition/gui/CMakeLists.txt</code> so that it can invoke the <code>moc</code> compiler on the qt header files. The source files from <code>src</code> are declared with <code>PARENT_SCOPE</code> so they can be added to the library from the include folder.</p>\n<p>It currently works, but it seems like there's room for improvement.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2018-04-18T00:24:02.940048+00:00", "milestone": null, "updated_on": "2018-04-18T00:24:02.940048+00:00", "type": "issue", "id": 33}