{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52853509.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52853509"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2019-07-04T15:46:31.156015+00:00", "user": {"display_name": "Brian Marchi", "uuid": "{9f5fd161-7ec9-482b-8aeb-cadf55822196}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9f5fd161-7ec9-482b-8aeb-cadf55822196%7D"}, "html": {"href": "https://bitbucket.org/%7B9f5fd161-7ec9-482b-8aeb-cadf55822196%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb746a0b0e811e5b44ff336b6eceef98d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBM-6.png"}}, "nickname": "BEMarchi", "type": "user", "account_id": "5c7ff8ef007e34313a3e587b"}, "updated_on": null, "type": "issue_comment", "id": 52853509}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52853542.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52853542"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2019-07-04T15:50:11.557570+00:00", "user": {"display_name": "Brian Marchi", "uuid": "{9f5fd161-7ec9-482b-8aeb-cadf55822196}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9f5fd161-7ec9-482b-8aeb-cadf55822196%7D"}, "html": {"href": "https://bitbucket.org/%7B9f5fd161-7ec9-482b-8aeb-cadf55822196%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb746a0b0e811e5b44ff336b6eceef98d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBM-6.png"}}, "nickname": "BEMarchi", "type": "user", "account_id": "5c7ff8ef007e34313a3e587b"}, "updated_on": null, "type": "issue_comment", "id": 52853542}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52876819.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52876819"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": "are you cloning `ign-cmake` into separate folders? For example, the following repos file does this with separate folder names:\n\n* https://bitbucket.org/osrf/gazebodistro/branch/gui0_rendering2#diff", "markup": "markdown", "html": "<p>are you cloning <code>ign-cmake</code> into separate folders? For example, the following repos file does this with separate folder names:</p>\n<ul>\n<li><a href=\"https://bitbucket.org/osrf/gazebodistro/branch/gui0_rendering2#diff\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/gazebodistro/branch/gui0_rendering2#diff</a></li>\n</ul>", "type": "rendered"}, "created_on": "2019-07-06T19:57:10.912498+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 52876819}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52899188.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52899188"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": "I'll try to reproduce this error", "markup": "markdown", "html": "<p>I'll try to reproduce this error</p>", "type": "rendered"}, "created_on": "2019-07-08T21:22:51.233591+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 52899188}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52913360.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52913360"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": "I've followed your steps to reproduce the error only needing to also install ign-tools, and ign-msgs2 builds; however, I get similar but different error messages upon ign-transport5 being built: \n```\nCMake Error at /root/ws/install/ignition-cmake1/share/cmake/ignition-cmake1/cmake1/IgnUtils.cmake:1554 (add_executable):\n  Target \"UNIT_TopicStorage_TEST\" links to target \"ignition-math6::requested\"\n  but the target was not found.  Perhaps a find_package() call is missing for\n  an IMPORTED target, or an ALIAS target is missing?\n```", "markup": "markdown", "html": "<p>I've followed your steps to reproduce the error only needing to also install ign-tools, and ign-msgs2 builds; however, I get similar but different error messages upon ign-transport5 being built: </p>\n<div class=\"codehilite\"><pre><span></span>CMake Error at /root/ws/install/ignition-cmake1/share/cmake/ignition-cmake1/cmake1/IgnUtils.cmake:1554 (add_executable):\n  Target &quot;UNIT_TopicStorage_TEST&quot; links to target &quot;ignition-math6::requested&quot;\n  but the target was not found.  Perhaps a find_package() call is missing for\n  an IMPORTED target, or an ALIAS target is missing?\n</pre></div>", "type": "rendered"}, "created_on": "2019-07-09T18:02:05.567533+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "updated_on": "2019-07-09T18:02:55.233988+00:00", "type": "issue_comment", "id": 52913360}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52916288.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52916288"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": "@{557058:5de38267-b118-494c-aa76-4fab35448816} \n\n```\nroot@67a4c36dc81e:/app/ws# vcs export\nrepositories:\n  src/ign-cmake1:\n    type: hg\n    url: https://jshep1@bitbucket.org/ignitionrobotics/ign-cmake\n    version: ign-cmake1\n  src/ign-cmake2:\n    type: hg\n    url: https://jshep1@bitbucket.org/ignitionrobotics/ign-cmake\n    version: ign-cmake2\n  src/ign-common:\n    type: hg\n    url: https://jshep1@bitbucket.org/ignitionrobotics/ign-common\n    version: ign-common3\n  src/ign-math:\n    type: hg\n    url: https://jshep1@bitbucket.org/ignitionrobotics/ign-math\n    version: ign-math6\n  src/ign-msgs:\n    type: hg\n    url: https://jshep1@bitbucket.org/ignitionrobotics/ign-msgs\n    version: msgs2_use_math6\n  src/ign-transport:\n    type: hg\n    url: https://jshep1@bitbucket.org/ignitionrobotics/ign-transport\n    version: ign-transport5\n```", "markup": "markdown", "html": "<p><span class=\"ap-mention\" data-atlassian-id=\"557058:5de38267-b118-494c-aa76-4fab35448816\">@Steve Peters</span> </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">root</span><span class=\"mi\">@67</span><span class=\"nl\">a4c36dc81e</span><span class=\"p\">:</span><span class=\"o\">/</span><span class=\"n\">app</span><span class=\"o\">/</span><span class=\"n\">ws</span><span class=\"err\">#</span> <span class=\"n\">vcs</span> <span class=\"n\">export</span>\n<span class=\"nl\">repositories</span><span class=\"p\">:</span>\n  <span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"nl\">cmake1</span><span class=\"p\">:</span>\n    <span class=\"nl\">type</span><span class=\"p\">:</span> <span class=\"n\">hg</span>\n    <span class=\"nl\">url</span><span class=\"p\">:</span> <span class=\"nl\">https</span><span class=\"p\">:</span><span class=\"c1\">//jshep1@bitbucket.org/ignitionrobotics/ign-cmake</span>\n    <span class=\"nl\">version</span><span class=\"p\">:</span> <span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">cmake1</span>\n  <span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"nl\">cmake2</span><span class=\"p\">:</span>\n    <span class=\"nl\">type</span><span class=\"p\">:</span> <span class=\"n\">hg</span>\n    <span class=\"nl\">url</span><span class=\"p\">:</span> <span class=\"nl\">https</span><span class=\"p\">:</span><span class=\"c1\">//jshep1@bitbucket.org/ignitionrobotics/ign-cmake</span>\n    <span class=\"nl\">version</span><span class=\"p\">:</span> <span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">cmake2</span>\n  <span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"nl\">common</span><span class=\"p\">:</span>\n    <span class=\"nl\">type</span><span class=\"p\">:</span> <span class=\"n\">hg</span>\n    <span class=\"nl\">url</span><span class=\"p\">:</span> <span class=\"nl\">https</span><span class=\"p\">:</span><span class=\"c1\">//jshep1@bitbucket.org/ignitionrobotics/ign-common</span>\n    <span class=\"nl\">version</span><span class=\"p\">:</span> <span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">common3</span>\n  <span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"nl\">math</span><span class=\"p\">:</span>\n    <span class=\"nl\">type</span><span class=\"p\">:</span> <span class=\"n\">hg</span>\n    <span class=\"nl\">url</span><span class=\"p\">:</span> <span class=\"nl\">https</span><span class=\"p\">:</span><span class=\"c1\">//jshep1@bitbucket.org/ignitionrobotics/ign-math</span>\n    <span class=\"nl\">version</span><span class=\"p\">:</span> <span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">math6</span>\n  <span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"nl\">msgs</span><span class=\"p\">:</span>\n    <span class=\"nl\">type</span><span class=\"p\">:</span> <span class=\"n\">hg</span>\n    <span class=\"nl\">url</span><span class=\"p\">:</span> <span class=\"nl\">https</span><span class=\"p\">:</span><span class=\"c1\">//jshep1@bitbucket.org/ignitionrobotics/ign-msgs</span>\n    <span class=\"nl\">version</span><span class=\"p\">:</span> <span class=\"n\">msgs2_use_math6</span>\n  <span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"nl\">transport</span><span class=\"p\">:</span>\n    <span class=\"nl\">type</span><span class=\"p\">:</span> <span class=\"n\">hg</span>\n    <span class=\"nl\">url</span><span class=\"p\">:</span> <span class=\"nl\">https</span><span class=\"p\">:</span><span class=\"c1\">//jshep1@bitbucket.org/ignitionrobotics/ign-transport</span>\n    <span class=\"nl\">version</span><span class=\"p\">:</span> <span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">transport5</span>\n</pre></div>", "type": "rendered"}, "created_on": "2019-07-09T22:19:36.885726+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "updated_on": null, "type": "issue_comment", "id": 52916288}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52927130.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52927130"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": "@{557058:5de38267-b118-494c-aa76-4fab35448816} , yes, you need to have one directory for each ign-cmake version.  \nAbout ign-tools, I didn't need it. I saw the warning when building `ign-msgs` and `ign-transport` but I just ignore it. I installed every package as the README says in every ignition repository. I will specify that in the issue.", "markup": "markdown", "html": "<p><span class=\"ap-mention\" data-atlassian-id=\"557058:5de38267-b118-494c-aa76-4fab35448816\">@Steve Peters</span> , yes, you need to have one directory for each ign-cmake version.<br />\nAbout ign-tools, I didn't need it. I saw the warning when building <code>ign-msgs</code> and <code>ign-transport</code> but I just ignore it. I installed every package as the README says in every ignition repository. I will specify that in the issue.</p>", "type": "rendered"}, "created_on": "2019-07-10T13:50:43.595159+00:00", "user": {"display_name": "Brian Marchi", "uuid": "{9f5fd161-7ec9-482b-8aeb-cadf55822196}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9f5fd161-7ec9-482b-8aeb-cadf55822196%7D"}, "html": {"href": "https://bitbucket.org/%7B9f5fd161-7ec9-482b-8aeb-cadf55822196%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb746a0b0e811e5b44ff336b6eceef98d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBM-6.png"}}, "nickname": "BEMarchi", "type": "user", "account_id": "5c7ff8ef007e34313a3e587b"}, "updated_on": null, "type": "issue_comment", "id": 52927130}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52927146.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52927146"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2019-07-10T13:51:24.479747+00:00", "user": {"display_name": "Brian Marchi", "uuid": "{9f5fd161-7ec9-482b-8aeb-cadf55822196}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9f5fd161-7ec9-482b-8aeb-cadf55822196%7D"}, "html": {"href": "https://bitbucket.org/%7B9f5fd161-7ec9-482b-8aeb-cadf55822196%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fb746a0b0e811e5b44ff336b6eceef98d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBM-6.png"}}, "nickname": "BEMarchi", "type": "user", "account_id": "5c7ff8ef007e34313a3e587b"}, "updated_on": null, "type": "issue_comment", "id": 52927146}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52932009.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52932009"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": "thanks for reporting this\n\nI think the issue is caused by a change in the ign-msgs pull request that searches for ignition-math6 without `REQUIRED`, which keeps that dependency from being properly exported. I've updated the pull request in the following commit, which I think fixes the problem.\n\n* #!/ignitionrobotics/ign-msgs/commits/4f306ba30be2791a8ef3eb83c2c169b0b8ff3239", "markup": "markdown", "html": "<p>thanks for reporting this</p>\n<p>I think the issue is caused by a change in the ign-msgs pull request that searches for ignition-math6 without <code>REQUIRED</code>, which keeps that dependency from being properly exported. I've updated the pull request in the following commit, which I think fixes the problem.</p>\n<ul>\n<li><a href=\"#!/ignitionrobotics/ign-msgs/commits/4f306ba30be2791a8ef3eb83c2c169b0b8ff3239\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-msgs/commits/4f306ba30be2791a8ef3eb83c2c169b0b8ff3239</a></li>\n</ul>", "type": "rendered"}, "created_on": "2019-07-10T19:44:53.642962+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 52932009}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52932231.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52932231"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": "actually, that just fixes the problem that John noticed\n\nI still see the issue with `ignition-cmake1::utilities`", "markup": "markdown", "html": "<p>actually, that just fixes the problem that John noticed</p>\n<p>I still see the issue with <code>ignition-cmake1::utilities</code></p>", "type": "rendered"}, "created_on": "2019-07-10T20:03:36.814748+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 52932231}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52933101.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52933101"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": "I can reproduce the issue with this workspace:\n\n~~~\nrepositories:\n  ign-cmake1:\n    type: hg\n    url: #!/ignitionrobotics/ign-cmake\n    version: ca665459dbe2\n  ign-cmake2:\n    type: hg\n    url: #!/ignitionrobotics/ign-cmake\n    version: 6053a9727e17\n  ign-common:\n    type: hg\n    url: #!/ignitionrobotics/ign-common\n    version: 8d76e774aa27\n  ign-math:\n    type: hg\n    url: #!/ignitionrobotics/ign-math\n    version: 6244467771ba\n  ign-msgs:\n    type: hg\n    url: #!/ignitionrobotics/ign-msgs\n    version: 4f306ba30be2\n  ign-transport:\n    type: hg\n    url: #!/ignitionrobotics/ign-transport\n    version: 90f685aa340f\n~~~\n\nI believe it happens in this example because `ign-transport`'s core library [exports a dependency on `ignition-cmake1::utilities`](\n#!/ignitionrobotics/ign-transport/src/ignition-transport5_5.0.0/src/CMakeLists.txt#lines-11), but since it depends on a version of ign-msgs2 that uses ignition-math6 and ignition-cmake2, something gets a bit mixed up. When I grep for `ignition-cmake` in the installed cmake config files, I see `ignition-cmake1::utilities` in `ignition-transport5-targets.cmake` and `find_dependency(ignition-cmake2)` in `ignition-transport5-config.cmake`.\n\n~~~\nignition-transport5-targets.cmake:59:  INTERFACE_LINK_LIBRARIES \"ignition-cmake1::utilities;ignition-msgs2::ignition-msgs2;UUID::UUID\"\nignition-transport5-config.cmake:61:# Find ignition-cmake, because we need its modules in order to find the rest of\nignition-transport5-config.cmake:63:find_dependency(ignition-cmake2)\n~~~\n\nThe `IGNITION_CMAKE_VERSION_MAJOR` is `1` when `find_package(ignition-cmake1)` is first called, but it changes to `2` after `ign_find_package(ignition-msgs2)`.", "markup": "markdown", "html": "<p>I can reproduce the issue with this workspace:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">repositories</span><span class=\"o\">:</span>\n  <span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">cmake1</span><span class=\"o\">:</span>\n    <span class=\"n\">type</span><span class=\"o\">:</span> <span class=\"n\">hg</span>\n    <span class=\"n\">url</span><span class=\"o\">:</span> <span class=\"n\">https</span><span class=\"o\">://</span><span class=\"n\">bitbucket</span><span class=\"o\">.</span><span class=\"na\">org</span><span class=\"sr\">/ignitionrobotics/ig</span><span class=\"n\">n</span><span class=\"o\">-</span><span class=\"n\">cmake</span>\n    <span class=\"n\">version</span><span class=\"o\">:</span> <span class=\"n\">ca665459dbe2</span>\n  <span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">cmake2</span><span class=\"o\">:</span>\n    <span class=\"n\">type</span><span class=\"o\">:</span> <span class=\"n\">hg</span>\n    <span class=\"n\">url</span><span class=\"o\">:</span> <span class=\"n\">https</span><span class=\"o\">://</span><span class=\"n\">bitbucket</span><span class=\"o\">.</span><span class=\"na\">org</span><span class=\"sr\">/ignitionrobotics/ig</span><span class=\"n\">n</span><span class=\"o\">-</span><span class=\"n\">cmake</span>\n    <span class=\"n\">version</span><span class=\"o\">:</span> <span class=\"mi\">6053</span><span class=\"n\">a9727e17</span>\n  <span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">:</span>\n    <span class=\"n\">type</span><span class=\"o\">:</span> <span class=\"n\">hg</span>\n    <span class=\"n\">url</span><span class=\"o\">:</span> <span class=\"n\">https</span><span class=\"o\">://</span><span class=\"n\">bitbucket</span><span class=\"o\">.</span><span class=\"na\">org</span><span class=\"sr\">/ignitionrobotics/ig</span><span class=\"n\">n</span><span class=\"o\">-</span><span class=\"n\">common</span>\n    <span class=\"n\">version</span><span class=\"o\">:</span> <span class=\"mi\">8</span><span class=\"n\">d76e774aa27</span>\n  <span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">math</span><span class=\"o\">:</span>\n    <span class=\"n\">type</span><span class=\"o\">:</span> <span class=\"n\">hg</span>\n    <span class=\"n\">url</span><span class=\"o\">:</span> <span class=\"n\">https</span><span class=\"o\">://</span><span class=\"n\">bitbucket</span><span class=\"o\">.</span><span class=\"na\">org</span><span class=\"sr\">/ignitionrobotics/ig</span><span class=\"n\">n</span><span class=\"o\">-</span><span class=\"n\">math</span>\n    <span class=\"n\">version</span><span class=\"o\">:</span> <span class=\"mi\">6244467771</span><span class=\"n\">ba</span>\n  <span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">msgs</span><span class=\"o\">:</span>\n    <span class=\"n\">type</span><span class=\"o\">:</span> <span class=\"n\">hg</span>\n    <span class=\"n\">url</span><span class=\"o\">:</span> <span class=\"n\">https</span><span class=\"o\">://</span><span class=\"n\">bitbucket</span><span class=\"o\">.</span><span class=\"na\">org</span><span class=\"sr\">/ignitionrobotics/ig</span><span class=\"n\">n</span><span class=\"o\">-</span><span class=\"n\">msgs</span>\n    <span class=\"n\">version</span><span class=\"o\">:</span> <span class=\"mi\">4</span><span class=\"n\">f306ba30be2</span>\n  <span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">transport</span><span class=\"o\">:</span>\n    <span class=\"n\">type</span><span class=\"o\">:</span> <span class=\"n\">hg</span>\n    <span class=\"n\">url</span><span class=\"o\">:</span> <span class=\"n\">https</span><span class=\"o\">://</span><span class=\"n\">bitbucket</span><span class=\"o\">.</span><span class=\"na\">org</span><span class=\"sr\">/ignitionrobotics/ig</span><span class=\"n\">n</span><span class=\"o\">-</span><span class=\"n\">transport</span>\n    <span class=\"n\">version</span><span class=\"o\">:</span> <span class=\"mi\">90</span><span class=\"n\">f685aa340f</span>\n</pre></div>\n\n\n<p>I believe it happens in this example because <code>ign-transport</code>'s core library <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/src/ignition-transport5_5.0.0/src/CMakeLists.txt#lines-11\" rel=\"nofollow\">exports a dependency on <code>ignition-cmake1::utilities</code></a>, but since it depends on a version of ign-msgs2 that uses ignition-math6 and ignition-cmake2, something gets a bit mixed up. When I grep for <code>ignition-cmake</code> in the installed cmake config files, I see <code>ignition-cmake1::utilities</code> in <code>ignition-transport5-targets.cmake</code> and <code>find_dependency(ignition-cmake2)</code> in <code>ignition-transport5-config.cmake</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">ignition-transport5-targets</span><span class=\"p\">.</span><span class=\"nc\">cmake</span><span class=\"p\">:</span><span class=\"nd\">59</span><span class=\"o\">:</span>  <span class=\"nt\">INTERFACE_LINK_LIBRARIES</span> <span class=\"s2\">&quot;ignition-cmake1::utilities;ignition-msgs2::ignition-msgs2;UUID::UUID&quot;</span>\n<span class=\"nt\">ignition-transport5-config</span><span class=\"p\">.</span><span class=\"nc\">cmake</span><span class=\"p\">:</span><span class=\"nd\">61</span><span class=\"o\">:</span><span class=\"err\">#</span> <span class=\"nt\">Find</span> <span class=\"nt\">ignition-cmake</span><span class=\"o\">,</span> <span class=\"nt\">because</span> <span class=\"nt\">we</span> <span class=\"nt\">need</span> <span class=\"nt\">its</span> <span class=\"nt\">modules</span> <span class=\"nt\">in</span> <span class=\"nt\">order</span> <span class=\"nt\">to</span> <span class=\"nt\">find</span> <span class=\"nt\">the</span> <span class=\"nt\">rest</span> <span class=\"nt\">of</span>\n<span class=\"nt\">ignition-transport5-config</span><span class=\"p\">.</span><span class=\"nc\">cmake</span><span class=\"p\">:</span><span class=\"nd\">63</span><span class=\"p\">:</span><span class=\"nd\">find_dependency</span><span class=\"o\">(</span><span class=\"nt\">ignition-cmake2</span><span class=\"o\">)</span>\n</pre></div>\n\n\n<p>The <code>IGNITION_CMAKE_VERSION_MAJOR</code> is <code>1</code> when <code>find_package(ignition-cmake1)</code> is first called, but it changes to <code>2</code> after <code>ign_find_package(ignition-msgs2)</code>.</p>", "type": "rendered"}, "created_on": "2019-07-10T21:32:37.211175+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 52933101}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52933158.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52933158"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": "It looks like the `IGNITION_CMAKE_VERSION_MAJOR` variable is increased when finding a newer version of ignition-cmake:\n\n* #!/ignitionrobotics/ign-cmake/src/5cdbd687dc44a1d87de048a3fe800fca68447d57/config/ignition-cmake-config.cmake.in#lines-35:51\n\nThe problem, which wasn't noticed until now, is that the cmake config files that get generated for a package like `ignition-transport5` will be generated to use the newer ign-cmake version.", "markup": "markdown", "html": "<p>It looks like the <code>IGNITION_CMAKE_VERSION_MAJOR</code> variable is increased when finding a newer version of ignition-cmake:</p>\n<ul>\n<li><a href=\"#!/ignitionrobotics/ign-cmake/src/5cdbd687dc44a1d87de048a3fe800fca68447d57/config/ignition-cmake-config.cmake.in#lines-35:51\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-cmake/src/5cdbd687dc44a1d87de048a3fe800fca68447d57/config/ignition-cmake-config.cmake.in#lines-35:51</a></li>\n</ul>\n<p>The problem, which wasn't noticed until now, is that the cmake config files that get generated for a package like <code>ignition-transport5</code> will be generated to use the newer ign-cmake version.</p>", "type": "rendered"}, "created_on": "2019-07-10T21:39:04.884489+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 52933158}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61/comments/52949869.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/61#comment-52949869"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/61.json"}}, "type": "issue", "id": 61, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "IGNITION_CMAKE_VERSION_MAJOR changes after finding packages that use newer version of ign-cmake"}, "content": {"raw": "This causes a package that ostensibly uses `ignition-cmake1` to export a dependency on `ignition-cmake2` in its cmake config files if it uses anything that depends on `ignition-cmake2`, as the example of `ign-transport5` with that `ign-msgs` branch shows.", "markup": "markdown", "html": "<p>This causes a package that ostensibly uses <code>ignition-cmake1</code> to export a dependency on <code>ignition-cmake2</code> in its cmake config files if it uses anything that depends on <code>ignition-cmake2</code>, as the example of <code>ign-transport5</code> with that <code>ign-msgs</code> branch shows.</p>", "type": "rendered"}, "created_on": "2019-07-11T21:01:45.036920+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 52949869}], "page": 1, "size": 13}