{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/4/comments/40684987.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/4#comment-40684987"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/4.json"}}, "type": "issue", "id": 4, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "Find one of multiple packages"}, "content": {"raw": "I'm a tad bit concerned that the arguments of `ign_find_package` are getting a bit bloated (though I have no one to blame but myself for that), but I definitely like this concept, and I think it's worth doing this (or something very similar).\n\nOne implementation detail that could be tricky is that `ign_find_package(~)` currently expects one mandatory argument (the package name) while all the rest of the arguments are optional. We could get around this by removing the mandatory first argument and replacing it with an optional argument like `PACKAGE <package_name>` where the caller would have to choose whether they use `PACKAGE <package_name>` or `ONE_OF <package_list>`. Or instead we could just always require the caller to specify `ONE_OF` even if they only intend to ask for one package.\n\nAn alternative way of doing this would be to keep the mandatory first argument and instead add optional arguments `ALTERNATIVES <package_list>` and `OUTPUT_VAR <chosen_package>`. This would be fully backwards compatible with our current signature for `ign_find_package(~)`, so I think this might be my preference.\n\nOne thing I'm not clear on is what exactly `OUTPUT_VAR` should provide. I don't think a version number really makes sense, since we may want to use this in cases where we're choosing between differently named packages. I'm thinking it should return the name of the package, so that if that package's config file is designed according to convention, we could have something like:\n\n    ign_find_package(\n        ignition-math4\n        ALTERNATIVES\n            ignition-math3\n            ignition-math2\n        OUTPUT_VAR\n            chosen_ign-math\n        REQUIRED)\n\nAnd then the variable `${${chosen_ign-math}_LIBRARIES}` would contain whatever `ign-math` libraries were found.", "markup": "markdown", "html": "<p>I'm a tad bit concerned that the arguments of <code>ign_find_package</code> are getting a bit bloated (though I have no one to blame but myself for that), but I definitely like this concept, and I think it's worth doing this (or something very similar).</p>\n<p>One implementation detail that could be tricky is that <code>ign_find_package(~)</code> currently expects one mandatory argument (the package name) while all the rest of the arguments are optional. We could get around this by removing the mandatory first argument and replacing it with an optional argument like <code>PACKAGE &lt;package_name&gt;</code> where the caller would have to choose whether they use <code>PACKAGE &lt;package_name&gt;</code> or <code>ONE_OF &lt;package_list&gt;</code>. Or instead we could just always require the caller to specify <code>ONE_OF</code> even if they only intend to ask for one package.</p>\n<p>An alternative way of doing this would be to keep the mandatory first argument and instead add optional arguments <code>ALTERNATIVES &lt;package_list&gt;</code> and <code>OUTPUT_VAR &lt;chosen_package&gt;</code>. This would be fully backwards compatible with our current signature for <code>ign_find_package(~)</code>, so I think this might be my preference.</p>\n<p>One thing I'm not clear on is what exactly <code>OUTPUT_VAR</code> should provide. I don't think a version number really makes sense, since we may want to use this in cases where we're choosing between differently named packages. I'm thinking it should return the name of the package, so that if that package's config file is designed according to convention, we could have something like:</p>\n<div class=\"codehilite\"><pre><span></span>ign_find_package(\n    ignition-math4\n    ALTERNATIVES\n        ignition-math3\n        ignition-math2\n    OUTPUT_VAR\n        chosen_ign-math\n    REQUIRED)\n</pre></div>\n\n\n<p>And then the variable <code>${${chosen_ign-math}_LIBRARIES}</code> would contain whatever <code>ign-math</code> libraries were found.</p>", "type": "rendered"}, "created_on": "2017-10-20T21:46:53.977327+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-10-20T21:48:03.510227+00:00", "type": "issue_comment", "id": 40684987}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/4/comments/40685204.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/4#comment-40685204"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/4.json"}}, "type": "issue", "id": 4, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "Find one of multiple packages"}, "content": {"raw": "looks good to me. If `ign_find_package` arguments are getting too bloated, would the situation be made better or worse by making this variant a separate cmake macro?", "markup": "markdown", "html": "<p>looks good to me. If <code>ign_find_package</code> arguments are getting too bloated, would the situation be made better or worse by making this variant a separate cmake macro?</p>", "type": "rendered"}, "created_on": "2017-10-20T22:14:32.190599+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": null, "type": "issue_comment", "id": 40685204}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/4/comments/40685263.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/4#comment-40685263"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/4.json"}}, "type": "issue", "id": 4, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "title": "Find one of multiple packages"}, "content": {"raw": "I think making it part of `ign_find_package` is definitely the right way to go, because any alternative that I can imagine would just be more confusing and less manageable. But moving forward, we should definitely be conscious of the risk of feature creep on this function and consider splitting its job up in some way if we decide that it's become bloated.", "markup": "markdown", "html": "<p>I think making it part of <code>ign_find_package</code> is definitely the right way to go, because any alternative that I can imagine would just be more confusing and less manageable. But moving forward, we should definitely be conscious of the risk of feature creep on this function and consider splitting its job up in some way if we decide that it's become bloated.</p>", "type": "rendered"}, "created_on": "2017-10-20T22:23:13.049391+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 40685263}], "page": 1, "size": 3}