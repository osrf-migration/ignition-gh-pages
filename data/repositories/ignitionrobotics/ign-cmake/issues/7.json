{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/7/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/7.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-cmake/issues/7/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-cmake/issues/7/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/issues/7/the-top-level-cmakeliststxt-file-for-a"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-cmake/issues/7/vote"}}, "reporter": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "title": "The top-level CMakeLists.txt file for a project must contain a literal direct call to the project() command", "component": null, "votes": 0, "watches": 1, "content": {"raw": "While compiling `ign-cmake` on Windows, I noticed that the default `CMAKE_INSTALL_PREFIX` was `C:/Program Files/Project` instead of the usual `C:/Program Files/ignition-cmake0`. Apparently this is due to a CMake requirement about the project command: \r\n\r\n> The top-level CMakeLists.txt file for a project must contain a literal, direct call to the project() command; loading one through the include() command is not sufficient. If no such call exists CMake will implicitly add one to the top that enables the default languages (C and CXX). \r\n\r\nSee https://cmake.org/cmake/help/v3.5/command/project.html . \r\n\r\nThe default `CMAKE_INSTALL_PREFIX` issue in Windows is not a big problem, but it would be interesting to understand if this initial implicit call to `project(Project LANGUAGES CXX C)` is creating any other problem. For example the problem for which a workaround was added in #!/ignitionrobotics/ign-cmake/commits/189c956decb09f1f58a40cccd1ec861e3f161590?at=default could be related to this.", "markup": "markdown", "html": "<p>While compiling <code>ign-cmake</code> on Windows, I noticed that the default <code>CMAKE_INSTALL_PREFIX</code> was <code>C:/Program Files/Project</code> instead of the usual <code>C:/Program Files/ignition-cmake0</code>. Apparently this is due to a CMake requirement about the project command: </p>\n<blockquote>\n<p>The top-level CMakeLists.txt file for a project must contain a literal, direct call to the project() command; loading one through the include() command is not sufficient. If no such call exists CMake will implicitly add one to the top that enables the default languages (C and CXX). </p>\n</blockquote>\n<p>See <a href=\"https://cmake.org/cmake/help/v3.5/command/project.html\" rel=\"nofollow\" class=\"ap-connect-link\">https://cmake.org/cmake/help/v3.5/command/project.html</a> . </p>\n<p>The default <code>CMAKE_INSTALL_PREFIX</code> issue in Windows is not a big problem, but it would be interesting to understand if this initial implicit call to <code>project(Project LANGUAGES CXX C)</code> is creating any other problem. For example the problem for which a workaround was added in <a href=\"#!/ignitionrobotics/ign-cmake/commits/189c956decb09f1f58a40cccd1ec861e3f161590?at=default\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-cmake/commits/189c956decb09f1f58a40cccd1ec861e3f161590?at=default</a> could be related to this.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-11-22T22:00:58.501801+00:00", "milestone": null, "updated_on": "2017-12-03T02:26:53.382391+00:00", "type": "issue", "id": 7}