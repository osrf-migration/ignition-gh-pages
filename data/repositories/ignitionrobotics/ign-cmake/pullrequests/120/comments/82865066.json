{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120/comments/82865066.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120/_/diff#comment-82865066"}}, "parent": {"id": 82633800, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120/comments/82633800.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120/_/diff#comment-82633800"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}, "content": {"raw": "The search pattern is good. I made some changes to lcov that fix parsing issues and bring the coverage back in ign-math to 99%, which is inline with what it was before we switched to gz11. [Here](#!/ignitionrobotics/ign-math/commits/branch/test_coverage_nolcov\n) is the branch in ign-math and [here](https://codecov.io/bitbucket/ignitionrobotics/ign-math/commit/0c29e8135eae59b25d0d3b2d0463010c7116ab3a) is the coverage result. For now, we'll have to use a fork of lcov [here](https://github.com/azeey/lcov) on the `gcov8` branch. There are still some [issues](https://codecov.io/bb/ignitionrobotics/ign-math/src/test_coverage_nolcov/src/SplinePrivate.hh#L103) with the coverage results (that line should be covered, but somehow it's not) but I think they're coming from gcov itself so not much can be done from the lcov side. I'm okay with going ahead with updating our build scripts, but we should keep an eye out for these issues. \n\n", "markup": "markdown", "html": "<p>The search pattern is good. I made some changes to lcov that fix parsing issues and bring the coverage back in ign-math to 99%, which is inline with what it was before we switched to gz11. <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-math/commits/branch/test_coverage_nolcov\" rel=\"nofollow\">Here</a> is the branch in ign-math and <a data-is-external-link=\"true\" href=\"https://codecov.io/bitbucket/ignitionrobotics/ign-math/commit/0c29e8135eae59b25d0d3b2d0463010c7116ab3a\" rel=\"nofollow\">here</a> is the coverage result. For now, we'll have to use a fork of lcov <a data-is-external-link=\"true\" href=\"https://github.com/azeey/lcov\" rel=\"nofollow\">here</a> on the <code>gcov8</code> branch. There are still some <a data-is-external-link=\"true\" href=\"https://codecov.io/bb/ignitionrobotics/ign-math/src/test_coverage_nolcov/src/SplinePrivate.hh#L103\" rel=\"nofollow\">issues</a> with the coverage results (that line should be covered, but somehow it's not) but I think they're coming from gcov itself so not much can be done from the lcov side. I'm okay with going ahead with updating our build scripts, but we should keep an eye out for these issues. </p>", "type": "rendered"}, "created_on": "2018-11-19T15:44:04.488746+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2018-11-19T15:44:04.533713+00:00", "type": "pullrequest_comment", "id": 82865066}