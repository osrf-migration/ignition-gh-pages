{"pagelen": 50, "values": [{"update": {"description": "As noted in #46, lcov fails to exclude irrelevant files in our gz11 branches. This adjusts the search pattern to ensure that gtest and other test files are excluded.\r\n\r\nTested in ign-math:\r\n\r\n* #!/ignitionrobotics/ign-math/branch/test_coverage_lcov_1.13\r\n* ![test_coverage_lcov_1.13 coverage](https://codecov.io/bb/ignitionrobotics/ign-math/branch/test_coverage_lcov_1.13/graph/badge.svg) https://codecov.io/bb/ignitionrobotics/ign-math/branch/test_coverage_lcov_1.13\r\n\r\nThis does require an adjustment to the pipelines scripts in downstream repositories.\r\n\r\nAlso, this isn't a complete fix, there's still an [issue with lcov](https://github.com/linux-test-project/lcov/issues/41) that @azeey discovered.", "title": "fix lcov search pattern to work with version 1.13", "destination": {"commit": {"hash": "c7552f325a9d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/commit/c7552f325a9d.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/commits/c7552f325a9d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "branch": {"name": "gz11"}}, "reason": "", "source": {"commit": {"hash": "3687af69f93f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/commit/3687af69f93f.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/commits/3687af69f93f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "branch": {"name": "coverage_lcov_1.13"}}, "state": "MERGED", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2018-12-11T20:09:13.617752+00:00"}, "pull_request": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}}, {"approval": {"date": "2018-12-11T20:04:48.233163+00:00", "pullrequest": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}}, {"approval": {"date": "2018-11-19T15:44:09.810839+00:00", "pullrequest": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}, "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}}, "pull_request": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120/comments/82865066.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120/_/diff#comment-82865066"}}, "parent": {"id": 82633800, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120/comments/82633800.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120/_/diff#comment-82633800"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}, "content": {"raw": "The search pattern is good. I made some changes to lcov that fix parsing issues and bring the coverage back in ign-math to 99%, which is inline with what it was before we switched to gz11. [Here](#!/ignitionrobotics/ign-math/commits/branch/test_coverage_nolcov\n) is the branch in ign-math and [here](https://codecov.io/bitbucket/ignitionrobotics/ign-math/commit/0c29e8135eae59b25d0d3b2d0463010c7116ab3a) is the coverage result. For now, we'll have to use a fork of lcov [here](https://github.com/azeey/lcov) on the `gcov8` branch. There are still some [issues](https://codecov.io/bb/ignitionrobotics/ign-math/src/test_coverage_nolcov/src/SplinePrivate.hh#L103) with the coverage results (that line should be covered, but somehow it's not) but I think they're coming from gcov itself so not much can be done from the lcov side. I'm okay with going ahead with updating our build scripts, but we should keep an eye out for these issues. \n\n", "markup": "markdown", "html": "<p>The search pattern is good. I made some changes to lcov that fix parsing issues and bring the coverage back in ign-math to 99%, which is inline with what it was before we switched to gz11. <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-math/commits/branch/test_coverage_nolcov\" rel=\"nofollow\">Here</a> is the branch in ign-math and <a data-is-external-link=\"true\" href=\"https://codecov.io/bitbucket/ignitionrobotics/ign-math/commit/0c29e8135eae59b25d0d3b2d0463010c7116ab3a\" rel=\"nofollow\">here</a> is the coverage result. For now, we'll have to use a fork of lcov <a data-is-external-link=\"true\" href=\"https://github.com/azeey/lcov\" rel=\"nofollow\">here</a> on the <code>gcov8</code> branch. There are still some <a data-is-external-link=\"true\" href=\"https://codecov.io/bb/ignitionrobotics/ign-math/src/test_coverage_nolcov/src/SplinePrivate.hh#L103\" rel=\"nofollow\">issues</a> with the coverage results (that line should be covered, but somehow it's not) but I think they're coming from gcov itself so not much can be done from the lcov side. I'm okay with going ahead with updating our build scripts, but we should keep an eye out for these issues. </p>", "type": "rendered"}, "created_on": "2018-11-19T15:44:04.488746+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2018-11-19T15:44:04.533713+00:00", "type": "pullrequest_comment", "id": 82865066}, "pull_request": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120/comments/82633800.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120/_/diff#comment-82633800"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}, "content": {"raw": "I'm waiting on @azeey to approve before merging, as he has been conducting additional testing.", "markup": "markdown", "html": "<p>I'm waiting on @azeey to approve before merging, as he has been conducting additional testing.</p>", "type": "rendered"}, "created_on": "2018-11-16T06:34:05.820869+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-11-16T06:34:05.834075+00:00", "type": "pullrequest_comment", "id": 82633800}, "pull_request": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}}, {"approval": {"date": "2018-11-16T04:05:34.394753+00:00", "pullrequest": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}, "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}}, "pull_request": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}}, {"update": {"description": "As noted in #46, lcov fails to exclude irrelevant files in our gz11 branches. This adjusts the search pattern to ensure that gtest and other test files are excluded.\r\n\r\nTested in ign-math:\r\n\r\n* #!/ignitionrobotics/ign-math/branch/test_coverage_lcov_1.13\r\n* ![test_coverage_lcov_1.13 coverage](https://codecov.io/bb/ignitionrobotics/ign-math/branch/test_coverage_lcov_1.13/graph/badge.svg) https://codecov.io/bb/ignitionrobotics/ign-math/branch/test_coverage_lcov_1.13\r\n\r\nThis does require an adjustment to the pipelines scripts in downstream repositories.\r\n\r\nAlso, this isn't a complete fix, there's still an [issue with lcov](https://github.com/linux-test-project/lcov/issues/41) that @azeey discovered.", "title": "fix lcov search pattern to work with version 1.13", "destination": {"commit": {"hash": "94657e60f494", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/commit/94657e60f494.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/commits/94657e60f494"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "branch": {"name": "gz11"}}, "reason": "", "source": {"commit": {"hash": "3687af69f93f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/commit/3687af69f93f.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/commits/3687af69f93f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "branch": {"name": "coverage_lcov_1.13"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2018-11-15T19:37:57.428873+00:00"}, "pull_request": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}}, {"update": {"description": "As noted in #46, lcov fails to exclude irrelevant files in our gz11 branches. This adjusts the search pattern to ensure that gtest and other test files are excluded.\r\n\r\nTested in ign-math:\r\n\r\n* #!/ignitionrobotics/ign-math/branch/test_coverage_lcov_1.13\r\n* ![test_coverage_lcov_1.13 coverage](https://codecov.io/bb/ignitionrobotics/ign-math/branch/test_coverage_lcov_1.13/graph/badge.svg) https://codecov.io/bb/ignitionrobotics/ign-math/branch/test_coverage_lcov_1.13\r\n\r\nThis does require an adjustment to the pipelines scripts in downstream repositories.\r\n\r\nAlso, this isn't a complete fix, there's still an [issue with lcov](https://github.com/linux-test-project/lcov/issues/41) that @azeey discovered.", "title": "fix lcov search pattern to work with version 1.13", "destination": {"commit": {"hash": "94657e60f494", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/commit/94657e60f494.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/commits/94657e60f494"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "branch": {"name": "gz11"}}, "reason": "", "source": {"commit": {"hash": "3687af69f93f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/commit/3687af69f93f.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/commits/3687af69f93f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3e77bcf7-f260-4cec-a1a0-116b8e298901}ts=default"}}, "type": "repository", "name": "ign-cmake", "full_name": "ignitionrobotics/ign-cmake", "uuid": "{3e77bcf7-f260-4cec-a1a0-116b8e298901}"}, "branch": {"name": "coverage_lcov_1.13"}}, "state": "OPEN", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "date": "2018-11-15T19:37:57.362932+00:00"}, "pull_request": {"type": "pullrequest", "id": 120, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/120.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/120"}}, "title": "fix lcov search pattern to work with version 1.13"}}]}