{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/175/comments/116909662.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/175/_/diff#comment-116909662"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 175, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/175.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/175"}}, "title": "Use upstream CURL::libcurl imported target in FindIgnCURL.cmake if available"}, "content": {"raw": "Despite the comment in the code, the current version of `FindIgnCURL.cmake` ignores the `CURL::libcurl` imported target created both by the upstream CMake\u2019s FindCURL.cmake module \\( [https://gitlab.kitware.com/cmake/cmake/merge\\_requests/2154](https://gitlab.kitware.com/cmake/cmake/merge_requests/2154) \\) and by the native curl-config.cmake CURL\u2019s file \\([https://github.com/curl/curl/pull/1879](https://github.com/curl/curl/pull/1879)\\). Instead, the current version of the code only checks for the `curl::curl` target, that is instead only created by `FindIgnCURL.cmake` itself.\n\nThis PR fixes this by just making `curl::curl` an interface library that just transitively links to `CURL::libcurl` if it is available.\n\nIf a modern version of CMake is used, this permit to avoid problems such as the one reported in [#!/ignitionrobotics/ign-cmake/issues/65/ignimporttarget-does-not-work-correctly](#!/ignitionrobotics/ign-cmake/issues/65/ignimporttarget-does-not-work-correctly) .\n\nDownstream `vcpkg` related issue: [https://github.com/microsoft/vcpkg/pull/8136#issuecomment-530560128](https://github.com/microsoft/vcpkg/pull/8136#issuecomment-530560128) .\n\n\u200c\n\n\u200c", "markup": "markdown", "html": "<p>Despite the comment in the code, the current version of <code>FindIgnCURL.cmake</code> ignores the <code>CURL::libcurl</code> imported target created both by the upstream CMake\u2019s FindCURL.cmake module ( <a data-is-external-link=\"true\" href=\"https://gitlab.kitware.com/cmake/cmake/merge_requests/2154\" rel=\"nofollow\">https://gitlab.kitware.com/cmake/cmake/merge_requests/2154</a> ) and by the native curl-config.cmake CURL\u2019s file (<a data-is-external-link=\"true\" href=\"https://github.com/curl/curl/pull/1879\" rel=\"nofollow\">https://github.com/curl/curl/pull/1879</a>). Instead, the current version of the code only checks for the <code>curl::curl</code> target, that is instead only created by <code>FindIgnCURL.cmake</code> itself.</p>\n<p>This PR fixes this by just making <code>curl::curl</code> an interface library that just transitively links to <code>CURL::libcurl</code> if it is available.</p>\n<p>If a modern version of CMake is used, this permit to avoid problems such as the one reported in <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-cmake/issues/65/ignimporttarget-does-not-work-correctly\" rel=\"nofollow\">#!/ignitionrobotics/ign-cmake/issues/65/ignimporttarget-does-not-work-correctly</a> .</p>\n<p>Downstream <code>vcpkg</code> related issue: <a data-is-external-link=\"true\" href=\"https://github.com/microsoft/vcpkg/pull/8136#issuecomment-530560128\" rel=\"nofollow\">https://github.com/microsoft/vcpkg/pull/8136#issuecomment-530560128</a> .</p>\n<p>\u200c</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2019-09-14T13:37:39.569925+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2019-09-14T13:38:30.655459+00:00", "type": "pullrequest_comment", "id": 116909662}