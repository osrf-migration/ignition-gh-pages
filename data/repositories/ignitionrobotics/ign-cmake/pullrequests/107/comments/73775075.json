{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/107/comments/73775075.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/107/_/diff#comment-73775075"}}, "parent": {"id": 73774084, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/107/comments/73774084.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/107/_/diff#comment-73774084"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/107"}}, "title": "Use NO_CMAKE_ENVIRONMENT_PATH when finding ogre"}, "content": {"raw": "I think the following reduces a bunch of it:\n\n~~~\ndiff -r beedee2928c9 cmake/FindIgnOGRE.cmake\n--- a/cmake/FindIgnOGRE.cmake   Tue Aug 21 16:41:41 2018 -0700\n+++ b/cmake/FindIgnOGRE.cmake   Wed Aug 22 17:56:45 2018 -0700\n@@ -76,7 +76,9 @@\n   # loop through pkg config paths and find an ogre version that is < 2.0.0\n   foreach(pkg_path ${PKG_CONFIG_PATH_TMP})\n     set(ENV{PKG_CONFIG_PATH} ${pkg_path})\n-    ign_pkg_check_modules_quiet(OGRE \"OGRE >= ${full_version}\" NO_CMAKE_ENVIRONMENT_PATH)\n+    ign_pkg_check_modules_quiet(OGRE \"OGRE >= ${full_version}\"\n+                                NO_CMAKE_ENVIRONMENT_PATH\n+                                QUIET)\n     if (OGRE_FOUND)\n       if (NOT ${OGRE_VERSION} VERSION_LESS 2.0.0)\n         set (OGRE_FOUND false)\n@@ -85,6 +87,8 @@\n       endif()\n     endif()\n   endforeach()\n+  ign_pkg_check_modules_quiet(OGRE \"OGRE >= ${full_version}\"\n+                              NO_CMAKE_ENVIRONMENT_PATH)\n \n   if (OGRE_FOUND)\n     # set OGRE major, minor, and patch version number\n~~~\n\nit makes all the calls with QUIET in the loop, then calls again without QUIET after the loop is finished", "markup": "markdown", "html": "<p>I think the following reduces a bunch of it:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r beedee2928c9 cmake/FindIgnOGRE.cmake</span>\n<span class=\"gd\">--- a/cmake/FindIgnOGRE.cmake   Tue Aug 21 16:41:41 2018 -0700</span>\n<span class=\"gi\">+++ b/cmake/FindIgnOGRE.cmake   Wed Aug 22 17:56:45 2018 -0700</span>\n<span class=\"gu\">@@ -76,7 +76,9 @@</span>\n   # loop through pkg config paths and find an ogre version that is &lt; 2.0.0\n   foreach(pkg_path ${PKG_CONFIG_PATH_TMP})\n     set(ENV{PKG_CONFIG_PATH} ${pkg_path})\n<span class=\"gd\">-    ign_pkg_check_modules_quiet(OGRE &quot;OGRE &gt;= ${full_version}&quot; NO_CMAKE_ENVIRONMENT_PATH)</span>\n<span class=\"gi\">+    ign_pkg_check_modules_quiet(OGRE &quot;OGRE &gt;= ${full_version}&quot;</span>\n<span class=\"gi\">+                                NO_CMAKE_ENVIRONMENT_PATH</span>\n<span class=\"gi\">+                                QUIET)</span>\n     if (OGRE_FOUND)\n       if (NOT ${OGRE_VERSION} VERSION_LESS 2.0.0)\n         set (OGRE_FOUND false)\n<span class=\"gu\">@@ -85,6 +87,8 @@</span>\n       endif()\n     endif()\n   endforeach()\n<span class=\"gi\">+  ign_pkg_check_modules_quiet(OGRE &quot;OGRE &gt;= ${full_version}&quot;</span>\n<span class=\"gi\">+                              NO_CMAKE_ENVIRONMENT_PATH)</span>\n\n   if (OGRE_FOUND)\n     # set OGRE major, minor, and patch version number\n</pre></div>\n\n\n<p>it makes all the calls with QUIET in the loop, then calls again without QUIET after the loop is finished</p>", "type": "rendered"}, "created_on": "2018-08-23T00:59:28.519097+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-08-23T00:59:28.526118+00:00", "type": "pullrequest_comment", "id": 73775075}