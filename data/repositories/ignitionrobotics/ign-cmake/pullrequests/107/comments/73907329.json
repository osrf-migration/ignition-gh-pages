{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/107/comments/73907329.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-cmake/diff/ignitionrobotics/ign-cmake:071e092ce0d8..55d47f3029a2?path=cmake%2FIgnPkgConfig.cmake"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/107/_/diff#comment-73907329"}}, "parent": {"id": 73907156, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/107/comments/73907156.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/107/_/diff#comment-73907156"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/107"}}, "title": "Use NO_CMAKE_ENVIRONMENT_PATH when finding ogre"}, "content": {"raw": "I'm testing this right now\n\n~~~\ndiff -r 071e092ce0d8 cmake/IgnPkgConfig.cmake\n--- a/cmake/IgnPkgConfig.cmake\tThu Aug 23 13:27:46 2018 -0700\n+++ b/cmake/IgnPkgConfig.cmake\tThu Aug 23 16:14:21 2018 -0700\n@@ -90,13 +90,23 @@\n \n   if(PKG_CONFIG_FOUND)\n \n-    if(${package}_FIND_QUIETLY)\n+    if(${ign_pkg_check_modules_NO_CMAKE_ENVIRONMENT_PATH})\n+      set(ign_pkg_check_modules_no_cmake_environment_path_arg\n+          NO_CMAKE_ENVIRONMENT_PATH)\n+    else()\n+      set(ign_pkg_check_modules_no_cmake_environment_path_arg)\n+    endif()\n+\n+    if(${ign_pkg_check_modules_QUIET} OR ${package}_FIND_QUIETLY)\n       set(ign_pkg_check_modules_quiet_arg QUIET)\n     else()\n       set(ign_pkg_check_modules_quiet_arg)\n     endif()\n \n-    pkg_check_modules(${package} ${ign_pkg_check_modules_quiet_arg} ${signature} ${ARGN})\n+    pkg_check_modules(${package}\n+                      ${ign_pkg_check_modules_quiet_arg}\n+                      ${ign_pkg_check_modules_no_cmake_environment_path_arg}\n+                      ${signature})\n \n     # TODO: When we require cmake-3.6+, we should remove this procedure and just\n     #       use the plain pkg_check_modules, which provides an option called\n~~~", "markup": "markdown", "html": "<p>I'm testing this right now</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 071e092ce0d8 cmake/IgnPkgConfig.cmake</span>\n<span class=\"gd\">--- a/cmake/IgnPkgConfig.cmake  Thu Aug 23 13:27:46 2018 -0700</span>\n<span class=\"gi\">+++ b/cmake/IgnPkgConfig.cmake  Thu Aug 23 16:14:21 2018 -0700</span>\n<span class=\"gu\">@@ -90,13 +90,23 @@</span>\n\n   if(PKG_CONFIG_FOUND)\n\n<span class=\"gd\">-    if(${package}_FIND_QUIETLY)</span>\n<span class=\"gi\">+    if(${ign_pkg_check_modules_NO_CMAKE_ENVIRONMENT_PATH})</span>\n<span class=\"gi\">+      set(ign_pkg_check_modules_no_cmake_environment_path_arg</span>\n<span class=\"gi\">+          NO_CMAKE_ENVIRONMENT_PATH)</span>\n<span class=\"gi\">+    else()</span>\n<span class=\"gi\">+      set(ign_pkg_check_modules_no_cmake_environment_path_arg)</span>\n<span class=\"gi\">+    endif()</span>\n<span class=\"gi\">+</span>\n<span class=\"gi\">+    if(${ign_pkg_check_modules_QUIET} OR ${package}_FIND_QUIETLY)</span>\n       set(ign_pkg_check_modules_quiet_arg QUIET)\n     else()\n       set(ign_pkg_check_modules_quiet_arg)\n     endif()\n\n<span class=\"gd\">-    pkg_check_modules(${package} ${ign_pkg_check_modules_quiet_arg} ${signature} ${ARGN})</span>\n<span class=\"gi\">+    pkg_check_modules(${package}</span>\n<span class=\"gi\">+                      ${ign_pkg_check_modules_quiet_arg}</span>\n<span class=\"gi\">+                      ${ign_pkg_check_modules_no_cmake_environment_path_arg}</span>\n<span class=\"gi\">+                      ${signature})</span>\n\n     # TODO: When we require cmake-3.6+, we should remove this procedure and just\n     #       use the plain pkg_check_modules, which provides an option called\n</pre></div>", "type": "rendered"}, "created_on": "2018-08-23T23:14:45.375090+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": null, "outdated": true, "path": "cmake/IgnPkgConfig.cmake"}, "updated_on": "2018-08-23T23:14:45.382302+00:00", "type": "pullrequest_comment", "id": 73907329}