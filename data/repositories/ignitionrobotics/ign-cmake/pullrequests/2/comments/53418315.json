{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/2/comments/53418315.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-cmake/diff/ignitionrobotics/ign-cmake:4893e6b35e61..c71f45d81c1b?path=cmake%2Fignition-config.cmake.in"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/2/_/diff#comment-53418315"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 2, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/2.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/2"}}, "title": "Creating project components [Ready For Review]"}, "content": {"raw": "I'm now running into a situation where I have ign-rendering from source and `libignition-common-dev` installed  and the `@PACKAGE_IGN_INCLUDE_INSTALL_DIR_FULL@` variable is generating the wrong path. I looked into this a bit and I **think** this is what's happening:\n\nin ign-rendering this line evaluates to:\n\n~~~\nset_and_check(ignition-rendering0_INCLUDE_DIRS \"${PACKAGE_PREFIX_DIR}/include/ignition/rendering0\")\n~~~\n\nThe problem is that the variable `PACKAGE_PREFIX_DIR` (created from `@PACKAGE_INIT@` [here](#!/ignitionrobotics/ign-cmake/src/4893e6b35e6180c0880ddcfba41fba7c2e4f430c/cmake/ignition-config.cmake.in?fileviewer=file-view-default#ignition-config.cmake.in-49) ) gets overwritten by `find_package(ignition-common1 ${ign_package_quiet} ${ign_package_required})` (created from `@PROJECT_CMAKE_DEPENDENCIES@` [earlier](#!/ignitionrobotics/ign-cmake/src/4893e6b35e6180c0880ddcfba41fba7c2e4f430c/cmake/ignition-config.cmake.in?fileviewer=file-view-default#ignition-config.cmake.in-84) in this file). \n\nThis is because find ign-common dependency check changes `CMAKE_CURRENT_LIST_DIR` to `/usr/lib/x86_64-linux-gnu/cmake/ignition-common1` which then generates `PACKAGE_PREFIX_DIR` with value `/usr`\n\nIn the end, it was trying to set `ignition-rendering0_INCLUDE_DIRS` to  `/usr/include/ignition/rendering0` which doesn't exist.", "markup": "markdown", "html": "<p>I'm now running into a situation where I have ign-rendering from source and <code>libignition-common-dev</code> installed  and the <code>@PACKAGE_IGN_INCLUDE_INSTALL_DIR_FULL@</code> variable is generating the wrong path. I looked into this a bit and I <strong>think</strong> this is what's happening:</p>\n<p>in ign-rendering this line evaluates to:</p>\n<div class=\"codehilite\"><pre><span></span>set_and_check(ignition-rendering0_INCLUDE_DIRS &quot;<span class=\"cp\">${</span><span class=\"n\">PACKAGE_PREFIX_DIR</span><span class=\"cp\">}</span>/include/ignition/rendering0&quot;)\n</pre></div>\n\n\n<p>The problem is that the variable <code>PACKAGE_PREFIX_DIR</code> (created from <code>@PACKAGE_INIT@</code> <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-cmake/src/4893e6b35e6180c0880ddcfba41fba7c2e4f430c/cmake/ignition-config.cmake.in?fileviewer=file-view-default#ignition-config.cmake.in-49\" rel=\"nofollow\">here</a> ) gets overwritten by <code>find_package(ignition-common1 ${ign_package_quiet} ${ign_package_required})</code> (created from <code>@PROJECT_CMAKE_DEPENDENCIES@</code> <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-cmake/src/4893e6b35e6180c0880ddcfba41fba7c2e4f430c/cmake/ignition-config.cmake.in?fileviewer=file-view-default#ignition-config.cmake.in-84\" rel=\"nofollow\">earlier</a> in this file). </p>\n<p>This is because find ign-common dependency check changes <code>CMAKE_CURRENT_LIST_DIR</code> to <code>/usr/lib/x86_64-linux-gnu/cmake/ignition-common1</code> which then generates <code>PACKAGE_PREFIX_DIR</code> with value <code>/usr</code></p>\n<p>In the end, it was trying to set <code>ignition-rendering0_INCLUDE_DIRS</code> to  <code>/usr/include/ignition/rendering0</code> which doesn't exist.</p>", "type": "rendered"}, "created_on": "2018-01-11T03:35:10.804599+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {"to": 101, "from": null, "outdated": true, "path": "cmake/ignition-config.cmake.in"}, "updated_on": "2018-01-11T03:35:10.815980+00:00", "type": "pullrequest_comment", "id": 53418315}