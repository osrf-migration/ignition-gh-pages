{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/60/comments/62652347.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/60/_/diff#comment-62652347"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/60"}}, "title": "Adding cppcheck and cpplint with codecheck target"}, "content": {"raw": "I added some small tweaks:\n\n* 3780cec: Mostly stylistic\n* 18ca574: Changing some of directory-finding logic so its assumptions are consistent with the rest of `ign_configure_build(~)`\n\nOne thing I'm noticing is that when I use this branch of `ign-cmake` with `ign-common` or `ign-transport` and then run `make codecheck`, the output is very different from their `tools/codecheck.sh` output.\n\nFor example, this is the output of the `default_Components` branch of `ign-transport`'s `ign-transport/tools/codecheck.sh`:\n\n```\nTotal errors found: 0\n```\n\n[This is the output of the same branch using `make codecheck`](https://gist.github.com/mxgrey/7ce20f4fd7a3f1283fb1b2fd638a9183) (put into a gist because the output is rather large).\n\nThe current settings of `make codecheck` produce 119 errors instead of 0.\n\nI see two options:\n\n1. We can try to get the settings of `make codecheck` to align with the current settings in these projects before merging.\n1. Or, we can merge this now and then tweak the settings in another PR. We wouldn't be breaking the CI for these other projects since their pipelines aren't using `make codecheck` yet.", "markup": "markdown", "html": "<p>I added some small tweaks:</p>\n<ul>\n<li><a href=\"#!/ignitionrobotics/ign-cmake/commits/3780cec\" rel=\"nofollow\" class=\"ap-connect-link\">3780cec</a>: Mostly stylistic</li>\n<li><a href=\"#!/ignitionrobotics/ign-cmake/commits/18ca574\" rel=\"nofollow\" class=\"ap-connect-link\">18ca574</a>: Changing some of directory-finding logic so its assumptions are consistent with the rest of <code>ign_configure_build(~)</code></li>\n</ul>\n<p>One thing I'm noticing is that when I use this branch of <code>ign-cmake</code> with <code>ign-common</code> or <code>ign-transport</code> and then run <code>make codecheck</code>, the output is very different from their <code>tools/codecheck.sh</code> output.</p>\n<p>For example, this is the output of the <code>default_Components</code> branch of <code>ign-transport</code>'s <code>ign-transport/tools/codecheck.sh</code>:</p>\n<div class=\"codehilite\"><pre><span></span>Total errors found: 0\n</pre></div>\n\n\n<p><a data-is-external-link=\"true\" href=\"https://gist.github.com/mxgrey/7ce20f4fd7a3f1283fb1b2fd638a9183\" rel=\"nofollow\">This is the output of the same branch using <code>make codecheck</code></a> (put into a gist because the output is rather large).</p>\n<p>The current settings of <code>make codecheck</code> produce 119 errors instead of 0.</p>\n<p>I see two options:</p>\n<ol>\n<li>We can try to get the settings of <code>make codecheck</code> to align with the current settings in these projects before merging.</li>\n<li>Or, we can merge this now and then tweak the settings in another PR. We wouldn't be breaking the CI for these other projects since their pipelines aren't using <code>make codecheck</code> yet.</li>\n</ol>", "type": "rendered"}, "created_on": "2018-04-26T00:14:03.069691+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-04-26T00:14:37.729453+00:00", "type": "pullrequest_comment", "id": 62652347}