{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/35/comments/53517179.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-cmake/diff/ignitionrobotics/ign-cmake:1a1edef07f5e..c71f45d81c1b?path=cmake%2FFindJSONCPP.cmake"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/35/_/diff#comment-53517179"}}, "parent": {"id": 53512688, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/35/comments/53512688.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/35/_/diff#comment-53512688"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/35.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/35"}}, "title": "Add FindJSONCPP.cmake"}, "content": {"raw": "Well I have to say, that's kind of strange. Looking through the source code [here](https://github.com/open-source-parsers/jsoncpp), their cmake scripts never install a config-file. I even built and installed it from source to test it, and sure enough a config-file never gets built or installed. Maybe that repo is for a different `jsoncpp` and just happens to have the same name? Or they manage their debian packages outside of the source code?\n\nIn any case, I've installed the version from apt-get to see what their config-file looks like, and it looks good. The only catch is that their imported target name is not ideal. It's called `jsoncpp_lib`. We should either \n\n1. use `ign_import_target(JSONCPP TARGET_NAME jsoncpp_lib)` on line 64, \n\n2. or else do something like `set(JSONCPP_TARGET jsoncpp_lib)` immediately after this line, and then below line 64 put `set(JSONCPP_TARGET JSONCPP::JSONCPP)`, similar what we do in [FindDL.cmake](#!/ignitionrobotics/ign-cmake/src/7541a07604ca9d4506e2ae066d040864d1d411ec/cmake/FindDL.cmake?at=default&fileviewer=file-view-default#FindDL.cmake-34).", "markup": "markdown", "html": "<p>Well I have to say, that's kind of strange. Looking through the source code <a data-is-external-link=\"true\" href=\"https://github.com/open-source-parsers/jsoncpp\" rel=\"nofollow\">here</a>, their cmake scripts never install a config-file. I even built and installed it from source to test it, and sure enough a config-file never gets built or installed. Maybe that repo is for a different <code>jsoncpp</code> and just happens to have the same name? Or they manage their debian packages outside of the source code?</p>\n<p>In any case, I've installed the version from apt-get to see what their config-file looks like, and it looks good. The only catch is that their imported target name is not ideal. It's called <code>jsoncpp_lib</code>. We should either </p>\n<ol>\n<li>\n<p>use <code>ign_import_target(JSONCPP TARGET_NAME jsoncpp_lib)</code> on line 64, </p>\n</li>\n<li>\n<p>or else do something like <code>set(JSONCPP_TARGET jsoncpp_lib)</code> immediately after this line, and then below line 64 put <code>set(JSONCPP_TARGET JSONCPP::JSONCPP)</code>, similar what we do in <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-cmake/src/7541a07604ca9d4506e2ae066d040864d1d411ec/cmake/FindDL.cmake?at=default&amp;fileviewer=file-view-default#FindDL.cmake-34\" rel=\"nofollow\">FindDL.cmake</a>.</p>\n</li>\n</ol>", "type": "rendered"}, "created_on": "2018-01-11T21:18:02.102896+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "outdated": true, "path": "cmake/FindJSONCPP.cmake"}, "updated_on": "2018-01-11T21:18:47.644940+00:00", "type": "pullrequest_comment", "id": 53517179}