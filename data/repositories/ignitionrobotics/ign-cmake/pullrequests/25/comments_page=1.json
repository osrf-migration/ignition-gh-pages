{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51433180.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51433180"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "What if someone writes `SORCES`? :sweat_smile: \n\nPoint being: it would be cool to catch any unsupported argument", "markup": "markdown", "html": "<p>What if someone writes <code>SORCES</code>? <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f605.png\" alt=\"\ud83d\ude05\" title=\":sweat_smile:\" data-emoji-short-name=\":sweat_smile:\" /> </p>\n<p>Point being: it would be cool to catch any unsupported argument</p>", "type": "rendered"}, "created_on": "2017-12-07T19:54:01.176834+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-12-07T19:54:01.179850+00:00", "type": "pullrequest_comment", "id": 51433180}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51434359.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51434359"}}, "parent": {"id": 51433180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51433180.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51433180"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "I agree, but it's not really feasible because of the way the cmake language works.\n\nThe best-case scenario would be a way to distinguish between cases where the `SOURCES` argument is followed by an empty list versus cases where the `SOURCES` argument just isn't specified at all. However, I don't know of any mechanism in cmake to do this, since cmake doesn't distinguish between an empty list versus a variable being undefined. I tried using `if(NOT DEFINED ign_build_tests_SOURCES)`, but that if-statement evaluates as true if you provide the `SOURCES` argument followed by an empty list, so it sadly won't work.", "markup": "markdown", "html": "<p>I agree, but it's not really feasible because of the way the cmake language works.</p>\n<p>The best-case scenario would be a way to distinguish between cases where the <code>SOURCES</code> argument is followed by an empty list versus cases where the <code>SOURCES</code> argument just isn't specified at all. However, I don't know of any mechanism in cmake to do this, since cmake doesn't distinguish between an empty list versus a variable being undefined. I tried using <code>if(NOT DEFINED ign_build_tests_SOURCES)</code>, but that if-statement evaluates as true if you provide the <code>SOURCES</code> argument followed by an empty list, so it sadly won't work.</p>", "type": "rendered"}, "created_on": "2017-12-07T20:11:25.086738+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-07T20:11:25.090462+00:00", "type": "pullrequest_comment", "id": 51434359}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544430.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544430"}}, "parent": {"id": 51434359, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51434359.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51434359"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "I see, that's a bummer. I think the solution proposed here is not scalable though. Printing a warning when SOURCES is empty / undefined sounds reasonable to me, because why would you ever call the build tests macro if you're not providing any tests?", "markup": "markdown", "html": "<p>I see, that's a bummer. I think the solution proposed here is not scalable though. Printing a warning when SOURCES is empty / undefined sounds reasonable to me, because why would you ever call the build tests macro if you're not providing any tests?</p>", "type": "rendered"}, "created_on": "2017-12-09T19:09:13.481638+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-12-09T19:09:13.484152+00:00", "type": "pullrequest_comment", "id": 51544430}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544484.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544484"}}, "parent": {"id": 51544430, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544430.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544430"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "When SOURCES is empty, we print out a message `No tests have been specified for <TYPE>` where `<TYPE>` is UNIT, INTEGRATION, REGRESSION, etc. That can help people realize if they've made a typo, but only if they're paying attention. We don't want to print out an alarming warning, because it may be the case that we just haven't written any tests of that type yet. We can have the folder set up so that's it's ready to go if anyone wants to write a test of that type in the future; all they'd have to do is add a source file to the directory and run cmake. They wouldn't have to worry about changing the cmake script in any way.\n\nI agree that this solution isn't scalable, but it's hammering out an existing issue. Adding this warning to `ign-cmake` helped me identify 3 places in `ign-msgs` where this typo was occurring. There may be other projects where this typo is already happening (perhaps they copied `ign-msgs`) and we haven't spotted it yet. This change would help us root those out without having any negative side effects.", "markup": "markdown", "html": "<p>When SOURCES is empty, we print out a message <code>No tests have been specified for &lt;TYPE&gt;</code> where <code>&lt;TYPE&gt;</code> is UNIT, INTEGRATION, REGRESSION, etc. That can help people realize if they've made a typo, but only if they're paying attention. We don't want to print out an alarming warning, because it may be the case that we just haven't written any tests of that type yet. We can have the folder set up so that's it's ready to go if anyone wants to write a test of that type in the future; all they'd have to do is add a source file to the directory and run cmake. They wouldn't have to worry about changing the cmake script in any way.</p>\n<p>I agree that this solution isn't scalable, but it's hammering out an existing issue. Adding this warning to <code>ign-cmake</code> helped me identify 3 places in <code>ign-msgs</code> where this typo was occurring. There may be other projects where this typo is already happening (perhaps they copied <code>ign-msgs</code>) and we haven't spotted it yet. This change would help us root those out without having any negative side effects.</p>", "type": "rendered"}, "created_on": "2017-12-09T19:19:53.520533+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-09T19:23:20.250710+00:00", "type": "pullrequest_comment", "id": 51544484}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544606.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544606"}}, "parent": {"id": 51544484, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544484.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544484"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "> We don't want to print out an alarming warning, because it may be the case that we just haven't written any tests of that type yet.\n\nI think it may be worthwhile printing an actual warning in that case, instead of just a message. The developer can still choose to ignore the warning.\n\n> We can have the folder set up so that's it's ready to go if anyone wants to write a test of that type in the future\n\nThe setup could be there but commented out, for example", "markup": "markdown", "html": "<blockquote>\n<p>We don't want to print out an alarming warning, because it may be the case that we just haven't written any tests of that type yet.</p>\n</blockquote>\n<p>I think it may be worthwhile printing an actual warning in that case, instead of just a message. The developer can still choose to ignore the warning.</p>\n<blockquote>\n<p>We can have the folder set up so that's it's ready to go if anyone wants to write a test of that type in the future</p>\n</blockquote>\n<p>The setup could be there but commented out, for example</p>", "type": "rendered"}, "created_on": "2017-12-09T19:38:19.196160+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-12-09T19:38:19.198394+00:00", "type": "pullrequest_comment", "id": 51544606}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544633.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544633"}}, "parent": {"id": 51544606, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544606.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544606"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "> I agree that this solution isn't scalable, but it's hammering out an existing issue\n\nI think the issue being tackled by this pull request could also be solved by `grep \"SOURCE\"`.  It's easy to catch errors we can predict, but it's arguably more important to catch unpredictable ones.", "markup": "markdown", "html": "<blockquote>\n<p>I agree that this solution isn't scalable, but it's hammering out an existing issue</p>\n</blockquote>\n<p>I think the issue being tackled by this pull request could also be solved by <code>grep \"SOURCE\"</code>.  It's easy to catch errors we can predict, but it's arguably more important to catch unpredictable ones.</p>", "type": "rendered"}, "created_on": "2017-12-09T19:41:48.262430+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-12-09T19:41:48.264695+00:00", "type": "pullrequest_comment", "id": 51544633}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544865.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544865"}}, "parent": {"id": 51544633, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544633.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544633"}}, "depth": 6}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "If you think grepping is better, we could do that instead of this PR, but I think `SOURCE` is an especially threatening typo, because it's a real word which could easily be mistaken for the correct argument and not just a typo. I really think having this sanity check would be valuable down the road in case people accidentally think the argument is intended to be `SOURCE` instead of `SOURCES`.\n\nAlso, if we grep instead, that would take an active effort that we need to put into rooting out the problem, whereas merging this PR is an implicit approach that will find the issue for us, and it will continue to find the problem for us indefinitely into the future.", "markup": "markdown", "html": "<p>If you think grepping is better, we could do that instead of this PR, but I think <code>SOURCE</code> is an especially threatening typo, because it's a real word which could easily be mistaken for the correct argument and not just a typo. I really think having this sanity check would be valuable down the road in case people accidentally think the argument is intended to be <code>SOURCE</code> instead of <code>SOURCES</code>.</p>\n<p>Also, if we grep instead, that would take an active effort that we need to put into rooting out the problem, whereas merging this PR is an implicit approach that will find the issue for us, and it will continue to find the problem for us indefinitely into the future.</p>", "type": "rendered"}, "created_on": "2017-12-09T20:14:58.036341+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-09T20:15:41.532965+00:00", "type": "pullrequest_comment", "id": 51544865}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544885.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544885"}}, "parent": {"id": 51544865, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544865.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544865"}}, "depth": 7}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "I agree that may be a common mistake, how about accepting either `SOURCE` or `SOURCES`?", "markup": "markdown", "html": "<p>I agree that may be a common mistake, how about accepting either <code>SOURCE</code> or <code>SOURCES</code>?</p>", "type": "rendered"}, "created_on": "2017-12-09T20:17:40.595018+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-12-09T20:17:40.597784+00:00", "type": "pullrequest_comment", "id": 51544885}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544907.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544907"}}, "parent": {"id": 51544885, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544885.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544885"}}, "depth": 8}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "I considered that, and I'm not necessarily completely opposed to it, but I'm not sure if it's good practice to have aliases for arguments. CMake does do it sometimes, but usually it's for backwards compatibility reasons.", "markup": "markdown", "html": "<p>I considered that, and I'm not necessarily completely opposed to it, but I'm not sure if it's good practice to have aliases for arguments. CMake does do it sometimes, but usually it's for backwards compatibility reasons.</p>", "type": "rendered"}, "created_on": "2017-12-09T20:21:04.562103+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-09T20:21:04.564489+00:00", "type": "pullrequest_comment", "id": 51544907}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544920.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544920"}}, "parent": {"id": 51544907, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544907.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544907"}}, "depth": 9}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "But also, we use the `SOURCES` argument in a lot of functions, so this could mean we have to add support for either in a bunch of places in order to be consistent.", "markup": "markdown", "html": "<p>But also, we use the <code>SOURCES</code> argument in a lot of functions, so this could mean we have to add support for either in a bunch of places in order to be consistent.</p>", "type": "rendered"}, "created_on": "2017-12-09T20:22:18.793348+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-09T20:22:18.795510+00:00", "type": "pullrequest_comment", "id": 51544920}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544929.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544929"}}, "parent": {"id": 51544920, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544920.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544920"}}, "depth": 10}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "That would also be true for the warning though, right?", "markup": "markdown", "html": "<p>That would also be true for the warning though, right?</p>", "type": "rendered"}, "created_on": "2017-12-09T20:24:17.603265+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-12-09T20:24:17.606504+00:00", "type": "pullrequest_comment", "id": 51544929}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51545046.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51545046"}}, "parent": {"id": 51544929, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544929.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544929"}}, "depth": 11}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "The other functions where the `SOURCES` argument gets used are for building libraries. Building a library with no source files is obviously wrong, so we emit a configuration error when `SOURCES` wasn't specified.", "markup": "markdown", "html": "<p>The other functions where the <code>SOURCES</code> argument gets used are for building libraries. Building a library with no source files is obviously wrong, so we emit a configuration error when <code>SOURCES</code> wasn't specified.</p>", "type": "rendered"}, "created_on": "2017-12-09T20:48:48.265188+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-09T20:48:48.267628+00:00", "type": "pullrequest_comment", "id": 51545046}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51545102.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51545102"}}, "parent": {"id": 51545046, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51545046.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51545046"}}, "depth": 12}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "I may be saying something stupid now, but we could have a header only library with no sources. Several ign-math classes have no sources, for example.", "markup": "markdown", "html": "<p>I may be saying something stupid now, but we could have a header only library with no sources. Several ign-math classes have no sources, for example.</p>", "type": "rendered"}, "created_on": "2017-12-09T20:57:48.360235+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-12-09T20:57:48.362510+00:00", "type": "pullrequest_comment", "id": 51545102}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51555605.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51555605"}}, "parent": {"id": 51545102, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51545102.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51545102"}}, "depth": 13}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "That's a valid point to bring up. Right now, our library-configuring macros would not work correctly for a header-only library, because header-only library targets should be created with `add_library(<tgt> INTERFACE)` which we do not currently support (but only because we don't need it yet; we can easily add that in later).\n\nTo support that use case, I'd recommend we add an optional argument `INTERFACE` to indicate that we want to call `add_library(<tgt> INTERFACE)` without passing any source files along to `add_library(~)`.", "markup": "markdown", "html": "<p>That's a valid point to bring up. Right now, our library-configuring macros would not work correctly for a header-only library, because header-only library targets should be created with <code>add_library(&lt;tgt&gt; INTERFACE)</code> which we do not currently support (but only because we don't need it yet; we can easily add that in later).</p>\n<p>To support that use case, I'd recommend we add an optional argument <code>INTERFACE</code> to indicate that we want to call <code>add_library(&lt;tgt&gt; INTERFACE)</code> without passing any source files along to <code>add_library(~)</code>.</p>", "type": "rendered"}, "created_on": "2017-12-10T23:05:40.777063+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-10T23:05:40.779374+00:00", "type": "pullrequest_comment", "id": 51555605}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544843.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544843"}}, "parent": {"id": 51544606, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544606.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544606"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "I think for auditing purposes, it's useful to have the configuration explicitly state how many tests we have per type, including when there are no tests specified for a given type. That can make it easier for us to identify where we might want to focus our testing effort.\n\nBut not having any tests for a given type isn't necessarily wrong, and I think warnings should be reserved for situations where something is not set up in a good way and ought to be corrected (but isn't a big enough problem to warrant halting the build entirely).", "markup": "markdown", "html": "<p>I think for auditing purposes, it's useful to have the configuration explicitly state how many tests we have per type, including when there are no tests specified for a given type. That can make it easier for us to identify where we might want to focus our testing effort.</p>\n<p>But not having any tests for a given type isn't necessarily wrong, and I think warnings should be reserved for situations where something is not set up in a good way and ought to be corrected (but isn't a big enough problem to warrant halting the build entirely).</p>", "type": "rendered"}, "created_on": "2017-12-09T20:10:20.613123+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-09T20:10:20.615508+00:00", "type": "pullrequest_comment", "id": 51544843}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544868.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544868"}}, "parent": {"id": 51544843, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544843.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544843"}}, "depth": 6}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "I'd say something needs to be corrected if you say \"please build these tests for me\" but don't pass any tests. Just my opinion.", "markup": "markdown", "html": "<p>I'd say something needs to be corrected if you say \"please build these tests for me\" but don't pass any tests. Just my opinion.</p>", "type": "rendered"}, "created_on": "2017-12-09T20:15:30.961509+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-12-09T20:15:30.964430+00:00", "type": "pullrequest_comment", "id": 51544868}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544891.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544891"}}, "parent": {"id": 51544868, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544868.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544868"}}, "depth": 7}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "We have utilities for gathering all the source files in a directory so that we don't need to modify the cmake scripts in order to add new tests. This lets us keep a uniform directory structure and nearly identical scripts between all the projects, and reduces the maintenance that we need to perform on our many build systems.", "markup": "markdown", "html": "<p>We have utilities for gathering all the source files in a directory so that we don't need to modify the cmake scripts in order to add new tests. This lets us keep a uniform directory structure and nearly identical scripts between all the projects, and reduces the maintenance that we need to perform on our many build systems.</p>", "type": "rendered"}, "created_on": "2017-12-09T20:18:03.423669+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-09T20:18:03.425979+00:00", "type": "pullrequest_comment", "id": 51544891}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51545021.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51545021"}}, "parent": {"id": 51544891, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51544891.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51544891"}}, "depth": 8}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "Fair enough, I see the value in having a uniform structure. I still think that printing a warning is not a bad thing, at a minimum it is saying \"write some tests!\". And if you're really bothered by it, for example if you don't need regression tests yet, commenting that line out is not really breaking the structure of the files. Whenever someone decides to write a regression test they can easily uncomment it back.\n\nIn any case, I think we're bikeshedding. This pull request doesn't solve the bigger issue of having typos in arguments and in my opinion there's little value in giving special treatment to a specific typo of an specific argument of a specific macro just because we've seen it happening before. Just my 2 cents.", "markup": "markdown", "html": "<p>Fair enough, I see the value in having a uniform structure. I still think that printing a warning is not a bad thing, at a minimum it is saying \"write some tests!\". And if you're really bothered by it, for example if you don't need regression tests yet, commenting that line out is not really breaking the structure of the files. Whenever someone decides to write a regression test they can easily uncomment it back.</p>\n<p>In any case, I think we're bikeshedding. This pull request doesn't solve the bigger issue of having typos in arguments and in my opinion there's little value in giving special treatment to a specific typo of an specific argument of a specific macro just because we've seen it happening before. Just my 2 cents.</p>", "type": "rendered"}, "created_on": "2017-12-09T20:44:35.592028+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-12-09T20:44:35.594800+00:00", "type": "pullrequest_comment", "id": 51545021}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51545087.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51545087"}}, "parent": {"id": 51545021, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51545021.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51545021"}}, "depth": 9}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "You're absolutely right, it doesn't solve the bigger issue, but the bigger issue is an inherent weakness of the cmake language, so we won't have a fully satisfying solution (unless some cmake wizard knows a technique that I'm unfamiliar with).\n\nThis PR at least addresses a proven issue that we've encountered in the wild and which I would not be surprised if we encounter again. This can be viewed as a regression test in our build system.", "markup": "markdown", "html": "<p>You're absolutely right, it doesn't solve the bigger issue, but the bigger issue is an inherent weakness of the cmake language, so we won't have a fully satisfying solution (unless some cmake wizard knows a technique that I'm unfamiliar with).</p>\n<p>This PR at least addresses a proven issue that we've encountered in the wild and which I would not be surprised if we encounter again. This can be viewed as a regression test in our build system.</p>", "type": "rendered"}, "created_on": "2017-12-09T20:54:17.796355+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-09T20:54:17.798975+00:00", "type": "pullrequest_comment", "id": 51545087}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51869187.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51869187"}}, "parent": {"id": 51433180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51433180.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51433180"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "This is now addressed in 23c21e9\n\nHere's the output if you pass `SORCES` instead of `SOURCES` to `ign_build_tests(~)`:\n\n```\nCMake Warning (dev) at /usr/lib/x86_64-linux-gnu/cmake/ignition-cmake0/cmake0/IgnUtils.cmake:963 (message):\n  \n\n  Your script has specified some unrecgonized arguments for\n  ign_build_tests(~):\n\n  SORCES\n\n  Either you have a typo or are using the wrong version of ign-cmake.  You\n  are currently using ign-cmake version 0.2.0\n\nCall Stack (most recent call first):\n  /usr/lib/x86_64-linux-gnu/cmake/ignition-cmake0/cmake0/IgnUtils.cmake:841 (_ign_cmake_parse_arguments)\n  test/integration/CMakeLists.txt:8 (ign_build_tests)\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n```", "markup": "markdown", "html": "<p>This is now addressed in <a href=\"#!/ignitionrobotics/ign-cmake/commits/23c21e9\" rel=\"nofollow\" class=\"ap-connect-link\">23c21e9</a></p>\n<p>Here's the output if you pass <code>SORCES</code> instead of <code>SOURCES</code> to <code>ign_build_tests(~)</code>:</p>\n<div class=\"codehilite\"><pre><span></span>CMake Warning (dev) at /usr/lib/x86_64-linux-gnu/cmake/ignition-cmake0/cmake0/IgnUtils.cmake:963 (message):\n\n\n  Your script has specified some unrecgonized arguments for\n  ign_build_tests(~):\n\n  SORCES\n\n  Either you have a typo or are using the wrong version of ign-cmake.  You\n  are currently using ign-cmake version 0.2.0\n\nCall Stack (most recent call first):\n  /usr/lib/x86_64-linux-gnu/cmake/ignition-cmake0/cmake0/IgnUtils.cmake:841 (_ign_cmake_parse_arguments)\n  test/integration/CMakeLists.txt:8 (ign_build_tests)\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n</pre></div>", "type": "rendered"}, "created_on": "2017-12-13T18:52:01.822667+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-13T18:52:01.824904+00:00", "type": "pullrequest_comment", "id": 51869187}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51869779.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51869779"}}, "parent": {"id": 51869187, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51869187.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51869187"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "In 887740e, I decided to make the warning less accusatory because I don't want users to think they did something wrong when it's the build script that has an error:\n\n```\nCMake Warning (dev) at /usr/lib/x86_64-linux-gnu/cmake/ignition-cmake0/cmake0/IgnUtils.cmake:963 (message):\n  \n\n  The build script has specified some unrecgonized arguments for\n  ign_build_tests(~):\n\n  SORCES\n\n  Either the script has a typo, or it is using an unexpected version of\n  ign-cmake.  The version of ign-cmake currently being used is 0.2.0\n\nCall Stack (most recent call first):\n  /usr/lib/x86_64-linux-gnu/cmake/ignition-cmake0/cmake0/IgnUtils.cmake:841 (_ign_cmake_parse_arguments)\n  test/integration/CMakeLists.txt:8 (ign_build_tests)\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n```", "markup": "markdown", "html": "<p>In <a href=\"#!/ignitionrobotics/ign-cmake/commits/887740e\" rel=\"nofollow\" class=\"ap-connect-link\">887740e</a>, I decided to make the warning less accusatory because I don't want users to think they did something wrong when it's the build script that has an error:</p>\n<div class=\"codehilite\"><pre><span></span>CMake Warning (dev) at /usr/lib/x86_64-linux-gnu/cmake/ignition-cmake0/cmake0/IgnUtils.cmake:963 (message):\n\n\n  The build script has specified some unrecgonized arguments for\n  ign_build_tests(~):\n\n  SORCES\n\n  Either the script has a typo, or it is using an unexpected version of\n  ign-cmake.  The version of ign-cmake currently being used is 0.2.0\n\nCall Stack (most recent call first):\n  /usr/lib/x86_64-linux-gnu/cmake/ignition-cmake0/cmake0/IgnUtils.cmake:841 (_ign_cmake_parse_arguments)\n  test/integration/CMakeLists.txt:8 (ign_build_tests)\nThis warning is for project developers.  Use -Wno-dev to suppress it.\n</pre></div>", "type": "rendered"}, "created_on": "2017-12-13T18:59:41.637124+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-13T18:59:41.640731+00:00", "type": "pullrequest_comment", "id": 51869779}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51865438.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-cmake/diff/ignitionrobotics/ign-cmake:60c5ccd9925d..87cfed357da4?path=cmake%2FIgnUtils.cmake"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51865438"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "Would checking\n\n```cmake\nif (ign_build_tests_UNPARSED_ARGUMENTS)\n```\n\ncatch all argument typos?\n\nhttps://cmake.org/cmake/help/v3.5/command/cmake_parse_arguments.html#command:cmake_parse_arguments", "markup": "markdown", "html": "<p>Would checking</p>\n<div class=\"codehilite language-cmake\"><pre><span></span><span class=\"nb\">if</span> <span class=\"p\">(</span><span class=\"s\">ign_build_tests_UNPARSED_ARGUMENTS</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>catch all argument typos?</p>\n<p><a href=\"https://cmake.org/cmake/help/v3.5/command/cmake_parse_arguments.html#command:cmake_parse_arguments\" rel=\"nofollow\" class=\"ap-connect-link\">https://cmake.org/cmake/help/v3.5/command/cmake_parse_arguments.html#command:cmake_parse_arguments</a></p>", "type": "rendered"}, "created_on": "2017-12-13T18:02:22.382461+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {"to": 850, "from": null, "path": "cmake/IgnUtils.cmake"}, "updated_on": "2017-12-13T18:02:22.385722+00:00", "type": "pullrequest_comment", "id": 51865438}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51866602.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-cmake/diff/ignitionrobotics/ign-cmake:60c5ccd9925d..87cfed357da4?path=cmake%2FIgnUtils.cmake"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51866602"}}, "parent": {"id": 51865438, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51865438.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51865438"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "Does that indicate whether a `SOURCES` argument was provided? It seems like that only contains a list of the arguments which the user passed in and which didn't make it into one of the expected arguments.\n\nI suppose we do expect all arguments to be correctly parsed, and if the user provides any arguments that don't get parsed, then that would indicate that they're using the wrong function signature.\n\nTo keep things forwards and backwards compatible, I can check this variable and emit an author warning when some arguments are unparsed. That way if we change the signature in the future, then projects which use the new signature can still potentially work with an older version of `ign-cmake` and only a warning would be emitted.", "markup": "markdown", "html": "<p>Does that indicate whether a <code>SOURCES</code> argument was provided? It seems like that only contains a list of the arguments which the user passed in and which didn't make it into one of the expected arguments.</p>\n<p>I suppose we do expect all arguments to be correctly parsed, and if the user provides any arguments that don't get parsed, then that would indicate that they're using the wrong function signature.</p>\n<p>To keep things forwards and backwards compatible, I can check this variable and emit an author warning when some arguments are unparsed. That way if we change the signature in the future, then projects which use the new signature can still potentially work with an older version of <code>ign-cmake</code> and only a warning would be emitted.</p>", "type": "rendered"}, "created_on": "2017-12-13T18:17:23.530439+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "path": "cmake/IgnUtils.cmake"}, "updated_on": "2017-12-13T18:17:23.534803+00:00", "type": "pullrequest_comment", "id": 51866602}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51866627.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-cmake/diff/ignitionrobotics/ign-cmake:60c5ccd9925d..87cfed357da4?path=cmake%2FIgnUtils.cmake"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51866627"}}, "parent": {"id": 51865438, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51865438.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51865438"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "Good catch, by the way!", "markup": "markdown", "html": "<p>Good catch, by the way!</p>", "type": "rendered"}, "created_on": "2017-12-13T18:17:37.955579+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "path": "cmake/IgnUtils.cmake"}, "updated_on": "2017-12-13T18:17:37.958005+00:00", "type": "pullrequest_comment", "id": 51866627}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51866824.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-cmake/diff/ignitionrobotics/ign-cmake:60c5ccd9925d..87cfed357da4?path=cmake%2FIgnUtils.cmake"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51866824"}}, "parent": {"id": 51865438, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51865438.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51865438"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "+1 to this", "markup": "markdown", "html": "<p>+1 to this</p>", "type": "rendered"}, "created_on": "2017-12-13T18:19:32.594268+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "cmake/IgnUtils.cmake"}, "updated_on": "2017-12-13T18:19:32.596615+00:00", "type": "pullrequest_comment", "id": 51866824}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51869521.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51869521"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "In commit 23c21e9 I've created a macro (for internal use in `ign-cmake`) called `_ign_cmake_parse_arguments(~)`. All of the functions inside of `ign-cmake` can simply replace their call to `cmake_parse_arguments(~)` with `_ign_cmake_parse_arguments(~)`, and it will catch (almost) all typos that are passed to the function.", "markup": "markdown", "html": "<p>In commit <a href=\"#!/ignitionrobotics/ign-cmake/commits/23c21e9\" rel=\"nofollow\" class=\"ap-connect-link\">23c21e9</a> I've created a macro (for internal use in <code>ign-cmake</code>) called <code>_ign_cmake_parse_arguments(~)</code>. All of the functions inside of <code>ign-cmake</code> can simply replace their call to <code>cmake_parse_arguments(~)</code> with <code>_ign_cmake_parse_arguments(~)</code>, and it will catch (almost) all typos that are passed to the function.</p>", "type": "rendered"}, "created_on": "2017-12-13T18:56:07.852100+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-13T18:56:07.856192+00:00", "type": "pullrequest_comment", "id": 51869521}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51869570.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51869570"}}, "parent": {"id": 51869521, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25/comments/51869521.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25/_/diff#comment-51869521"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 25, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/25.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/25"}}, "title": "Catch (almost) all typos that are passed to ign-cmake functions or macros"}, "content": {"raw": "I'm keeping the special case for `SOURCE`, though, because I think it's nice to provide a more specific warning when possible. If anyone strongly opposes this, we can remove it.", "markup": "markdown", "html": "<p>I'm keeping the special case for <code>SOURCE</code>, though, because I think it's nice to provide a more specific warning when possible. If anyone strongly opposes this, we can remove it.</p>", "type": "rendered"}, "created_on": "2017-12-13T18:56:45.674169+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-13T18:56:45.677832+00:00", "type": "pullrequest_comment", "id": 51869570}], "page": 1, "size": 27}