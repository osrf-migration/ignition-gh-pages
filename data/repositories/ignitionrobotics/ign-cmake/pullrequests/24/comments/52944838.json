{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/24/comments/52944838.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/24/_/diff#comment-52944838"}}, "parent": {"id": 52944420, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/24/comments/52944420.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/24/_/diff#comment-52944420"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 24, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-cmake/pullrequests/24.json"}, "html": {"href": "#!/ignitionrobotics/ign-cmake/pull-requests/24"}}, "title": "Add FindOGRE.cmake"}, "content": {"raw": "Unfortunately, not really. This find-module will be called in `ignition-rendering-config.cmake`, so the logic would have to be put into that config-file as well. That immediately becomes a much bigger pain to maintain.\n\nWe should actually discourage people from copying our find-modules as-is. These find-modules are being developed with the assumption that they're only being used for ignition projects. In this case, for example, we're completely ignoring many components of OGRE (if I'm not mistaken) because we're only looking for the ones we care about. Creating a general-purpose find-module for OGRE would be a big chore, and we should only consider doing that if we can get buy-in from the OGRE maintainers and merge it upstream to them. We may even want to consider renaming our find-module to `FindIgnOGRE.cmake` and then calling `ign_find_package(IgnOGRE ...)` from our projects.\n\nAll that being said, if you do want to make this find-module more modular with respect to the OGRE components, we can do something like\n\n```\nign_find_package(\n  OGRE\n  COMPONENTS RTShaderSystem Terrain Overlay\n  REQUIRED_BY ogre\n  PRIVATE_FOR ogre)\n```\n\nThen in this find-module you can check which components are listed as required by checking the variable `OGRE_FIND_COMPONENTS`. That variable will automatically be provided to your find-module by the `find_package(~)` command. If any of the requested components are missing, then you should set `OGRE_FOUND` to false.", "markup": "markdown", "html": "<p>Unfortunately, not really. This find-module will be called in <code>ignition-rendering-config.cmake</code>, so the logic would have to be put into that config-file as well. That immediately becomes a much bigger pain to maintain.</p>\n<p>We should actually discourage people from copying our find-modules as-is. These find-modules are being developed with the assumption that they're only being used for ignition projects. In this case, for example, we're completely ignoring many components of OGRE (if I'm not mistaken) because we're only looking for the ones we care about. Creating a general-purpose find-module for OGRE would be a big chore, and we should only consider doing that if we can get buy-in from the OGRE maintainers and merge it upstream to them. We may even want to consider renaming our find-module to <code>FindIgnOGRE.cmake</code> and then calling <code>ign_find_package(IgnOGRE ...)</code> from our projects.</p>\n<p>All that being said, if you do want to make this find-module more modular with respect to the OGRE components, we can do something like</p>\n<div class=\"codehilite\"><pre><span></span>ign_find_package(\n  OGRE\n  COMPONENTS RTShaderSystem Terrain Overlay\n  REQUIRED_BY ogre\n  PRIVATE_FOR ogre)\n</pre></div>\n\n\n<p>Then in this find-module you can check which components are listed as required by checking the variable <code>OGRE_FIND_COMPONENTS</code>. That variable will automatically be provided to your find-module by the <code>find_package(~)</code> command. If any of the requested components are missing, then you should set <code>OGRE_FOUND</code> to false.</p>", "type": "rendered"}, "created_on": "2018-01-04T03:06:50.020979+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-01-04T03:06:50.023421+00:00", "type": "pullrequest_comment", "id": 52944838}