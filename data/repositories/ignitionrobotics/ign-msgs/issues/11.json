{"priority": "major", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{a9e7131f-94ac-4283-ae4e-330068146520}ts=1533307"}}, "type": "repository", "name": "ign-msgs", "full_name": "ignitionrobotics/ign-msgs", "uuid": "{a9e7131f-94ac-4283-ae4e-330068146520}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-msgs/issues/11/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-msgs/issues/11.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-msgs/issues/11/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-msgs/issues/11/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/issues/11/bazel-support"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-msgs/issues/11/vote"}}, "reporter": {"display_name": "kgreenek", "uuid": "{51fde8a0-09d1-4637-bc56-995603025070}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B51fde8a0-09d1-4637-bc56-995603025070%7D"}, "html": {"href": "https://bitbucket.org/%7B51fde8a0-09d1-4637-bc56-995603025070%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/ccda8c71648820ad875839cd0d2d06aed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsK-3.png"}}, "nickname": "kgreenek", "type": "user", "account_id": "557058:3bb43c06-56c4-4bda-a986-8612fc0ddbbb"}, "title": "Bazel support", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I'm trying to use ignition transport with my bazel project. The issues I'm running into have to do with the custom code that's added to the generated c++ files by Generator.cc. This prevents me from using the standard protobuf tools, which is creating a surprisingly large headache for me.\r\n\r\nAs far as I can tell, the stuff that's added in the generated c++ code is just for convenience (adding a SharedPtr type, for example). It also registers the message types with Factory by using a macro at static scope, but there are nicer ways to handle that as well.\r\n\r\nI propose simply using standard protoc commands (no custom protobuf generator).  Besides just others who want to use your code with Bazel, this will also help anyone else using a build system other than your cmake file.", "markup": "markdown", "html": "<p>I'm trying to use ignition transport with my bazel project. The issues I'm running into have to do with the custom code that's added to the generated c++ files by Generator.cc. This prevents me from using the standard protobuf tools, which is creating a surprisingly large headache for me.</p>\n<p>As far as I can tell, the stuff that's added in the generated c++ code is just for convenience (adding a SharedPtr type, for example). It also registers the message types with Factory by using a macro at static scope, but there are nicer ways to handle that as well.</p>\n<p>I propose simply using standard protoc commands (no custom protobuf generator).  Besides just others who want to use your code with Bazel, this will also help anyone else using a build system other than your cmake file.</p>", "type": "rendered"}, "assignee": null, "state": "wontfix", "version": null, "edited_on": null, "created_on": "2017-05-05T03:16:05.690284+00:00", "milestone": null, "updated_on": "2018-06-22T15:44:12.744865+00:00", "type": "issue", "id": 11}