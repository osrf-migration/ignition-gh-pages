{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/pullrequests/40/comments/48684322.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-msgs/diff/ignitionrobotics/ign-msgs:6ee21990a05a..1bad2f95d538?path=src%2FCMakeLists.txt"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/pull-requests/40/_/diff#comment-48684322"}}, "parent": {"id": 48683969, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/pullrequests/40/comments/48683969.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/pull-requests/40/_/diff#comment-48683969"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 40, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/pullrequests/40.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/pull-requests/40"}}, "title": "Use ignition CMake"}, "content": {"raw": "Just to add some commentary to this suggestion for anyone who might not be familiar with the motivation:\n\nTechnically, `${ignition-math4_LIBRARIES}` will expand to `ignition-math4::ignition-math4` because the `ignition-math4-config.cmake` file will set `${ignition-math4_LIBRARIES}` to its imported target, causing the user to opaquely link to the imported target (...whether the user intended to or not).\n\nWhichever approach you use, you'll be linking to the imported target, so that's good.\n\nThe key advantage to explicitly using the `ignition-math4::ignition-math4` is that with cmake there's always the annoying possibility that you might make a typo (like `${ignition-mth4_LIBRARIES}`) and then the typoed variable will expand to nothing, and you end up with a mysterious linking error later on, after compilation. When you use the `target::target` style, cmake itself will throw a build system error and point you at the culprit line in your `CMakeLists.txt` if you make a typo. This means the error is identified sooner in the build procedure, and it's pointed out to you more directly.\n\nThen using `ignition-math${IGN_MATH_VER}::ignition-math${IGN_MATH_VER}` means that when you want to bump the version of your `ign-math` dependency, you only need to make a small change in one location.", "markup": "markdown", "html": "<p>Just to add some commentary to this suggestion for anyone who might not be familiar with the motivation:</p>\n<p>Technically, <code>${ignition-math4_LIBRARIES}</code> will expand to <code>ignition-math4::ignition-math4</code> because the <code>ignition-math4-config.cmake</code> file will set <code>${ignition-math4_LIBRARIES}</code> to its imported target, causing the user to opaquely link to the imported target (...whether the user intended to or not).</p>\n<p>Whichever approach you use, you'll be linking to the imported target, so that's good.</p>\n<p>The key advantage to explicitly using the <code>ignition-math4::ignition-math4</code> is that with cmake there's always the annoying possibility that you might make a typo (like <code>${ignition-mth4_LIBRARIES}</code>) and then the typoed variable will expand to nothing, and you end up with a mysterious linking error later on, after compilation. When you use the <code>target::target</code> style, cmake itself will throw a build system error and point you at the culprit line in your <code>CMakeLists.txt</code> if you make a typo. This means the error is identified sooner in the build procedure, and it's pointed out to you more directly.</p>\n<p>Then using <code>ignition-math${IGN_MATH_VER}::ignition-math${IGN_MATH_VER}</code> means that when you want to bump the version of your <code>ign-math</code> dependency, you only need to make a small change in one location.</p>", "type": "rendered"}, "created_on": "2017-11-03T00:40:30.271200+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "outdated": true, "path": "src/CMakeLists.txt"}, "updated_on": "2017-11-03T00:41:36.923565+00:00", "type": "pullrequest_comment", "id": 48684322}