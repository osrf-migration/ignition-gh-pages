{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/pullrequests/49/comments/51427834.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/pull-requests/49/_/diff#comment-51427834"}}, "parent": {"id": 51426500, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/pullrequests/49/comments/51426500.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/pull-requests/49/_/diff#comment-51426500"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/pullrequests/49.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/pull-requests/49"}}, "title": "Avoid using the master include header"}, "content": {"raw": "Good catch! My tests overlooked that because the `test/integration/CMakeLists.txt` had `ign_build_tests( ... SOURCE ... )` instead of `ign_build_tests( ... SOURCES ... )`, so that test wasn't getting configured or built.\n\nUnfortunately, because of limitations with the cmake language, `ign_build_tests` doesn't have a very good way of identifying a typo like using `SOURCE` instead of `SOURCES`, since it can't distinguish between cases where the `SOURCES` argument is missing versus cases where `SOURCES` gets followed by an empty list.\n\nI'll make an `ign-cmake` PR that can catch when `SOURCE` gets used instead of `SOURCES`, so that should prevent this specific problem from happening in the future.\n\nI'll also update this PR so that the `headers.cc` test is actually getting built, and I'll adjust the `#include` in there as well.", "markup": "markdown", "html": "<p>Good catch! My tests overlooked that because the <code>test/integration/CMakeLists.txt</code> had <code>ign_build_tests( ... SOURCE ... )</code> instead of <code>ign_build_tests( ... SOURCES ... )</code>, so that test wasn't getting configured or built.</p>\n<p>Unfortunately, because of limitations with the cmake language, <code>ign_build_tests</code> doesn't have a very good way of identifying a typo like using <code>SOURCE</code> instead of <code>SOURCES</code>, since it can't distinguish between cases where the <code>SOURCES</code> argument is missing versus cases where <code>SOURCES</code> gets followed by an empty list.</p>\n<p>I'll make an <code>ign-cmake</code> PR that can catch when <code>SOURCE</code> gets used instead of <code>SOURCES</code>, so that should prevent this specific problem from happening in the future.</p>\n<p>I'll also update this PR so that the <code>headers.cc</code> test is actually getting built, and I'll adjust the <code>#include</code> in there as well.</p>", "type": "rendered"}, "created_on": "2017-12-07T18:44:21.178850+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-12-07T18:44:21.181506+00:00", "type": "pullrequest_comment", "id": 51427834}