{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/pullrequests/105/comments/98370212.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/pull-requests/105/_/diff#comment-98370212"}}, "parent": {"id": 98369256, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/pullrequests/105/comments/98369256.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/pull-requests/105/_/diff#comment-98369256"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/pull-requests/105"}}, "title": "Fix image pixel format"}, "content": {"raw": "> I don't see any problem with adding a dependency on ign-common.\n\n`ign-common` brings a significant number of dependencies with it, which would increase `ign-msgs`'s footprint. Even when just depending on [libignition-common3-graphics-dev](#!/ignitionrobotics/ign-common3-release/src/5d796a60b1bfcc3937344a4373a846b509409f80/ubuntu/debian/control?at=default&fileviewer=file-view-default#control-148), `ign-msgs` (and its dependencies, like `ign-transport`) would now be pulling things like GTS.\n\n> it would solve the problem\n\nA way to solve the problem without a conversion function would be casting to int:\n\n~~~\ncommon::Image::PixelFormatType commonFormat{common::Image::RGB_INT8};\nmsgs::PixelFormatType msgsFormat = static_cast<int>(commonFormat);\n~~~\n\n> Another pull request can handle any additional conversion work\n\nSee pull request #106", "markup": "markdown", "html": "<blockquote>\n<p>I don't see any problem with adding a dependency on ign-common.</p>\n</blockquote>\n<p><code>ign-common</code> brings a significant number of dependencies with it, which would increase <code>ign-msgs</code>'s footprint. Even when just depending on <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-common3-release/src/5d796a60b1bfcc3937344a4373a846b509409f80/ubuntu/debian/control?at=default&amp;fileviewer=file-view-default#control-148\" rel=\"nofollow\">libignition-common3-graphics-dev</a>, <code>ign-msgs</code> (and its dependencies, like <code>ign-transport</code>) would now be pulling things like GTS.</p>\n<blockquote>\n<p>it would solve the problem</p>\n</blockquote>\n<p>A way to solve the problem without a conversion function would be casting to int:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">common</span><span class=\"p\">::</span><span class=\"nd\">Image</span><span class=\"p\">::</span><span class=\"nd\">PixelFormatType</span> <span class=\"nt\">commonFormat</span><span class=\"p\">{</span><span class=\"n\">common</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"n\">Image</span><span class=\"o\">::</span><span class=\"n\">RGB_INT8</span><span class=\"p\">}</span><span class=\"o\">;</span>\n<span class=\"nt\">msgs</span><span class=\"p\">::</span><span class=\"nd\">PixelFormatType</span> <span class=\"nt\">msgsFormat</span> <span class=\"o\">=</span> <span class=\"nt\">static_cast</span><span class=\"o\">&lt;</span><span class=\"nt\">int</span><span class=\"o\">&gt;(</span><span class=\"nt\">commonFormat</span><span class=\"o\">);</span>\n</pre></div>\n\n\n<blockquote>\n<p>Another pull request can handle any additional conversion work</p>\n</blockquote>\n<p>See <a href=\"#!/ignitionrobotics/ign-msgs/pull-requests/106/tick-tock-image-format\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #106</a></p>", "type": "rendered"}, "created_on": "2019-04-10T22:05:35.585199+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-04-10T22:09:11.223946+00:00", "type": "pullrequest_comment", "id": 98370212}