{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522786.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-msgs/diff/776d976c0ed0af586aac7f2af72d366d6912dff4?path=proto%2Fignition%2Fmsgs%2FCMakeLists.txt"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522786"}}, "deleted": false, "commit": {"hash": "776d976c0ed0af586aac7f2af72d366d6912dff4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4"}}}, "content": {"raw": "alternatively, `add_subdirectory(proto)` and `DESTINATION \"${IGN_INCLUDE_INSTALL_DIR_FULL}\"` would mean in the future `ign_configure_build` only has to conditionally add a subdirectory `proto` without checking for subdirectories. That would enable packages to use proto packages that differ from `ignition.designation`.", "markup": "markdown", "html": "<p>alternatively, <code>add_subdirectory(proto)</code> and <code>DESTINATION \"${IGN_INCLUDE_INSTALL_DIR_FULL}\"</code> would mean in the future <code>ign_configure_build</code> only has to conditionally add a subdirectory <code>proto</code> without checking for subdirectories. That would enable packages to use proto packages that differ from <code>ignition.designation</code>.</p>", "type": "rendered"}, "created_on": "2017-11-29T20:05:15.419382+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {"to": 5, "from": null, "path": "proto/ignition/msgs/CMakeLists.txt"}, "updated_on": "2017-11-29T20:05:35.057961+00:00", "type": "commit_comment", "id": 5522786}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522807.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-msgs/diff/776d976c0ed0af586aac7f2af72d366d6912dff4?path=proto%2Fignition%2Fmsgs%2FCMakeLists.txt"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522807"}}, "parent": {"type": "commit_comment", "id": 5522786, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522786.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522786"}}, "depth": 1}, "deleted": false, "commit": {"hash": "776d976c0ed0af586aac7f2af72d366d6912dff4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4"}}}, "content": {"raw": "Correct me if I'm misinterpreting: Are you suggesting that we use `add_subdirectory(proto)` and then create a `proto/CMakeLists.txt` that does the work of installing? Like\n\n```\nfile(GLOB proto_files \"ignition/msgs/*.proto\")\ninstall(\n  FILES ${proto_files}\n  DESTINATION \"${IGN_INCLUDE_INSTALL_DIR_FULL}/ignition/${IGN_DESIGNATION}\")\n```\n\nI would be on board with that, for the sake of forward compatibility.", "markup": "markdown", "html": "<p>Correct me if I'm misinterpreting: Are you suggesting that we use <code>add_subdirectory(proto)</code> and then create a <code>proto/CMakeLists.txt</code> that does the work of installing? Like</p>\n<div class=\"codehilite\"><pre><span></span>file(GLOB proto_files &quot;ignition/msgs/*.proto&quot;)\ninstall(\n  FILES <span class=\"cp\">${</span><span class=\"n\">proto_files</span><span class=\"cp\">}</span>\n  DESTINATION &quot;<span class=\"cp\">${</span><span class=\"n\">IGN_INCLUDE_INSTALL_DIR_FULL</span><span class=\"cp\">}</span>/ignition/<span class=\"cp\">${</span><span class=\"n\">IGN_DESIGNATION</span><span class=\"cp\">}</span>&quot;)\n</pre></div>\n\n\n<p>I would be on board with that, for the sake of forward compatibility.</p>", "type": "rendered"}, "created_on": "2017-11-29T20:11:58.081765+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "path": "proto/ignition/msgs/CMakeLists.txt"}, "updated_on": "2017-11-29T20:11:58.084381+00:00", "type": "commit_comment", "id": 5522807}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522823.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-msgs/diff/776d976c0ed0af586aac7f2af72d366d6912dff4?path=proto%2Fignition%2Fmsgs%2FCMakeLists.txt"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522823"}}, "parent": {"type": "commit_comment", "id": 5522807, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522807.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522807"}}, "depth": 2}, "deleted": false, "commit": {"hash": "776d976c0ed0af586aac7f2af72d366d6912dff4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4"}}}, "content": {"raw": "Yup. I think DESTINATION could just be `IGN_INCLUDE_INSTALL_DIR_FULL` right? I'm assuming an entry in `${proto_files}`  would look like `ignition/msgs/header.proto`.", "markup": "markdown", "html": "<p>Yup. I think DESTINATION could just be <code>IGN_INCLUDE_INSTALL_DIR_FULL</code> right? I'm assuming an entry in <code>${proto_files}</code>  would look like <code>ignition/msgs/header.proto</code>.</p>", "type": "rendered"}, "created_on": "2017-11-29T20:15:49.778409+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {"to": null, "from": null, "path": "proto/ignition/msgs/CMakeLists.txt"}, "updated_on": "2017-11-29T20:15:49.781193+00:00", "type": "commit_comment", "id": 5522823}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522829.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-msgs/diff/776d976c0ed0af586aac7f2af72d366d6912dff4?path=proto%2Fignition%2Fmsgs%2FCMakeLists.txt"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522829"}}, "parent": {"type": "commit_comment", "id": 5522823, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522823.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522823"}}, "depth": 3}, "deleted": false, "commit": {"hash": "776d976c0ed0af586aac7f2af72d366d6912dff4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4"}}}, "content": {"raw": "Nope, `IGN_INCLUDE_INSTALL_DIR_FULL` expands to `${CMAKE_INSTALL_INCLUDEDIR}/ignition/msgs1`. It might be more accurate to call it something like `IGN_INCLUDE_VERSIONED_INSTALL_PREFIX`.", "markup": "markdown", "html": "<p>Nope, <code>IGN_INCLUDE_INSTALL_DIR_FULL</code> expands to <code>${CMAKE_INSTALL_INCLUDEDIR}/ignition/msgs1</code>. It might be more accurate to call it something like <code>IGN_INCLUDE_VERSIONED_INSTALL_PREFIX</code>.</p>", "type": "rendered"}, "created_on": "2017-11-29T20:17:55.549545+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "path": "proto/ignition/msgs/CMakeLists.txt"}, "updated_on": "2017-11-29T20:19:22.845671+00:00", "type": "commit_comment", "id": 5522829}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522840.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-msgs/diff/776d976c0ed0af586aac7f2af72d366d6912dff4?path=proto%2Fignition%2Fmsgs%2FCMakeLists.txt"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522840"}}, "parent": {"type": "commit_comment", "id": 5522829, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522829.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522829"}}, "depth": 4}, "deleted": false, "commit": {"hash": "776d976c0ed0af586aac7f2af72d366d6912dff4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4"}}}, "content": {"raw": "Oh, I think I get what you're saying, but that's (unfortunately) not how `file(GLOB...)` works. The entries in `${proto_files}` will be the full file paths. The `DESTINATION` is the place where those files will be put. CMake doesn't care about the relative path between your current CMakeLists.txt file and the files that you're handling. So you'd end up with `include/ignition/msgs1/*.proto`.\n\nEdit: Note that this is one of the biggest motivations behind using the `ign_install_all_headers()` function, because it meticulously preserves the source code directory structure of the headers when installing them.", "markup": "markdown", "html": "<p>Oh, I think I get what you're saying, but that's (unfortunately) not how <code>file(GLOB...)</code> works. The entries in <code>${proto_files}</code> will be the full file paths. The <code>DESTINATION</code> is the place where those files will be put. CMake doesn't care about the relative path between your current CMakeLists.txt file and the files that you're handling. So you'd end up with <code>include/ignition/msgs1/*.proto</code>.</p>\n<p>Edit: Note that this is one of the biggest motivations behind using the <code>ign_install_all_headers()</code> function, because it meticulously preserves the source code directory structure of the headers when installing them.</p>", "type": "rendered"}, "created_on": "2017-11-29T20:22:36.697657+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "path": "proto/ignition/msgs/CMakeLists.txt"}, "updated_on": "2017-11-29T20:24:43.576187+00:00", "type": "commit_comment", "id": 5522840}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522845.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-msgs/diff/776d976c0ed0af586aac7f2af72d366d6912dff4?path=proto%2Fignition%2Fmsgs%2FCMakeLists.txt"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522845"}}, "parent": {"type": "commit_comment", "id": 5522829, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522829.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522829"}}, "depth": 4}, "deleted": false, "commit": {"hash": "776d976c0ed0af586aac7f2af72d366d6912dff4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4"}}}, "content": {"raw": "Ah oops I was mistakenly assuming `install(FILES ...)` preserved the directory in the installed file. Would no glob and `install(DIRECTORY ignition DESTINATION ${IGN_INCLUDE_INSTALL_DIR_FULL})` do the right thing?", "markup": "markdown", "html": "<p>Ah oops I was mistakenly assuming <code>install(FILES ...)</code> preserved the directory in the installed file. Would no glob and <code>install(DIRECTORY ignition DESTINATION ${IGN_INCLUDE_INSTALL_DIR_FULL})</code> do the right thing?</p>", "type": "rendered"}, "created_on": "2017-11-29T20:25:07.908889+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {"to": null, "from": null, "path": "proto/ignition/msgs/CMakeLists.txt"}, "updated_on": "2017-11-29T20:25:27.395289+00:00", "type": "commit_comment", "id": 5522845}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522857.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-msgs/diff/776d976c0ed0af586aac7f2af72d366d6912dff4?path=proto%2Fignition%2Fmsgs%2FCMakeLists.txt"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522857"}}, "parent": {"type": "commit_comment", "id": 5522845, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4/comments/5522845.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4#comment-5522845"}}, "depth": 5}, "deleted": false, "commit": {"hash": "776d976c0ed0af586aac7f2af72d366d6912dff4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-msgs/commit/776d976c0ed0af586aac7f2af72d366d6912dff4.json"}, "html": {"href": "#!/ignitionrobotics/ign-msgs/commits/776d976c0ed0af586aac7f2af72d366d6912dff4"}}}, "content": {"raw": "I genuinely did not know about `install(DIRECTORY ...)`. CMake is just full of fun little secrets. I'll look over the docs to see if that's a better fit for this (it most likely is).", "markup": "markdown", "html": "<p>I genuinely did not know about <code>install(DIRECTORY ...)</code>. CMake is just full of fun little secrets. I'll look over the docs to see if that's a better fit for this (it most likely is).</p>", "type": "rendered"}, "created_on": "2017-11-29T20:26:52.453647+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "path": "proto/ignition/msgs/CMakeLists.txt"}, "updated_on": "2017-11-29T20:26:52.456370+00:00", "type": "commit_comment", "id": 5522857}], "page": 1, "size": 7}