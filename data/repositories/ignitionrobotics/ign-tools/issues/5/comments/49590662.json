{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-tools/issues/5/comments/49590662.json"}, "html": {"href": "#!/ignitionrobotics/ign-tools/issues/5#comment-49590662"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-tools/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-tools.json"}, "html": {"href": "#!/ignitionrobotics/ign-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1d3755e4-eb8f-4c81-9519-830fae2fbba8}ts=ruby"}}, "type": "repository", "name": "ign-tools", "full_name": "ignitionrobotics/ign-tools", "uuid": "{1d3755e4-eb8f-4c81-9519-830fae2fbba8}"}, "title": "ign tools echo command unable to output data from custom Protobuf messages."}, "content": {"raw": "The latests versions of  `PROTOBUF_GENERATE_CPP` can generate descriptor information but if I'm not wrong, you cannot pass  extra arguments, like `--include-imports`. I'm not 100% sure and it might be the case that the current `PROTOBUF_GENERATE_CPP` function is enough.\n\nIf you still need a custom CMake function, you can see how we do it in this line:\n\n\n```\n#!cmake\n\nset(_protobuf_protoc_flags\n        \"--include_imports\"\n        \"--descriptor_set_out=${_protobuf_protoc_desc}\")\n```\n\nand this variable is used in the following command:\n\n```\n#!cmake\n\n...\n COMMAND  protobuf::protoc\n               \"--cpp_out=${DLL_EXPORT_DECL}${protobuf_DESTINATION}\"\n               ${_protobuf_protoc_flags}\n               ${_protobuf_include_path} ${ABS_FIL}\n\n```", "markup": "markdown", "html": "<p>The latests versions of  <code>PROTOBUF_GENERATE_CPP</code> can generate descriptor information but if I'm not wrong, you cannot pass  extra arguments, like <code>--include-imports</code>. I'm not 100% sure and it might be the case that the current <code>PROTOBUF_GENERATE_CPP</code> function is enough.</p>\n<p>If you still need a custom CMake function, you can see how we do it in this line:</p>\n<div class=\"codehilite language-cmake\"><pre><span></span><span class=\"nb\">set</span><span class=\"p\">(</span><span class=\"s\">_protobuf_protoc_flags</span>\n        <span class=\"s2\">&quot;--include_imports&quot;</span>\n        <span class=\"s2\">&quot;--descriptor_set_out=${_protobuf_protoc_desc}&quot;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>and this variable is used in the following command:</p>\n<div class=\"codehilite language-cmake\"><pre><span></span><span class=\"err\">...</span>\n <span class=\"err\">COMMAND</span>  <span class=\"err\">protobuf::protoc</span>\n               <span class=\"err\">&quot;--cpp_out=${DLL_EXPORT_DECL}${protobuf_DESTINATION}&quot;</span>\n               <span class=\"err\">${_protobuf_protoc_flags}</span>\n               <span class=\"err\">${_protobuf_include_path}</span> <span class=\"err\">${ABS_FIL}</span>\n</pre></div>", "type": "rendered"}, "created_on": "2018-12-21T18:49:33.373189+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": null, "type": "issue_comment", "id": 49590662}