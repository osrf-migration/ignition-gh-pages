{"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-tools.json"}, "html": {"href": "#!/ignitionrobotics/ign-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1d3755e4-eb8f-4c81-9519-830fae2fbba8}ts=ruby"}}, "type": "repository", "name": "ign-tools", "full_name": "ignitionrobotics/ign-tools", "uuid": "{1d3755e4-eb8f-4c81-9519-830fae2fbba8}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-tools/issues/8/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-tools/issues/8.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-tools/issues/8/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-tools/issues/8/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-tools/issues/8/too-strict-looking-for-config-paths"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-tools/issues/8/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Too strict looking for config paths, difficult to combine different installs", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Prerequisites\r\n\r\n* [ X ] Put an X between the brackets on this line if you have done all of the following:\r\n    * Checked the Q&A board for common solutions: http://answers.gazebosim.org\r\n    * Checked that your issue isn't already filed.\r\n    * Checked that there is not already an Ignition package that provides the described functionality: https://ignitionrobotics.org/libs\r\n\r\n# Description \r\n\r\nBy default, `ign-tools` will look at its own installed path for yaml config files of other libraries. This works fine when all libraries have been installed from debs, because they all end up under the same directory structure under `/usr`. But it fails for example when one was installed from debs and the other was installed from source to `/usr/local` or some other custom path.\r\n\r\n# Steps to Reproduce\r\n\r\n1. Install `ign-tools` from debs: `sudo apt install libignition-tools-dev`\r\n1. Build another library from source, such as `ign-msgs`.\r\n1. Try to run `ign msg`, and `ign-tools` won't be able to find the `msg` command.\r\n\r\n**Expected behavior:**  \r\n\r\nIgnition tools should find the library, either by default, or with some documented configuration steps.\r\n\r\n**Actual behavior:**\r\n\r\nThe command can't be found.\r\n\r\n# Additional Information\r\n\r\nThis discussion started on issue #2, look there for more context.\r\n\r\nA partial solution is to set the `IGN_CONFIG_PATH` variable at runtime pointing at the library to be found. This works well if you only need to find libraries in a single path, but doesn't work for several libraries installed to different paths, because `IGN_CONFIG_PATH` only accepts a single path.\r\n\r\nAnother workaround is to use symlinks as described [here](#!/ignitionrobotics/ign-tools/issues/2/create-debian-package#comment-51546533), for example:\r\n\r\n~~~\r\nmkdir ~/.ignition/tools/configs -p\r\ncd ~/.ignition/tools/configs/\r\nln -s ~/ws/install/ignition-transport6/share/ignition/transport6.yaml .\r\nln -s ~/ws/install/ignition-gui1/share/ignition/gui1.yaml .\r\n...\r\nexport IGN_CONFIG_PATH=$HOME/.ignition/tools/configs\r\n~~~", "markup": "markdown", "html": "<h1 id=\"markdown-header-prerequisites\">Prerequisites</h1>\n<ul>\n<li>[ X ] Put an X between the brackets on this line if you have done all of the following:<ul>\n<li>Checked the Q&amp;A board for common solutions: <a href=\"http://answers.gazebosim.org\" rel=\"nofollow\" class=\"ap-connect-link\">http://answers.gazebosim.org</a></li>\n<li>Checked that your issue isn't already filed.</li>\n<li>Checked that there is not already an Ignition package that provides the described functionality: <a href=\"https://ignitionrobotics.org/libs\" rel=\"nofollow\" class=\"ap-connect-link\">https://ignitionrobotics.org/libs</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"markdown-header-description\">Description</h1>\n<p>By default, <code>ign-tools</code> will look at its own installed path for yaml config files of other libraries. This works fine when all libraries have been installed from debs, because they all end up under the same directory structure under <code>/usr</code>. But it fails for example when one was installed from debs and the other was installed from source to <code>/usr/local</code> or some other custom path.</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to Reproduce</h1>\n<ol>\n<li>Install <code>ign-tools</code> from debs: <code>sudo apt install libignition-tools-dev</code></li>\n<li>Build another library from source, such as <code>ign-msgs</code>.</li>\n<li>Try to run <code>ign msg</code>, and <code>ign-tools</code> won't be able to find the <code>msg</code> command.</li>\n</ol>\n<p><strong>Expected behavior:</strong>  </p>\n<p>Ignition tools should find the library, either by default, or with some documented configuration steps.</p>\n<p><strong>Actual behavior:</strong></p>\n<p>The command can't be found.</p>\n<h1 id=\"markdown-header-additional-information\">Additional Information</h1>\n<p>This discussion started on issue <a href=\"#!/ignitionrobotics/ign-tools/issues/2/create-debian-package\" rel=\"nofollow\" title=\"Create debian package\" class=\"ap-connect-link\"><s>#2</s></a>, look there for more context.</p>\n<p>A partial solution is to set the <code>IGN_CONFIG_PATH</code> variable at runtime pointing at the library to be found. This works well if you only need to find libraries in a single path, but doesn't work for several libraries installed to different paths, because <code>IGN_CONFIG_PATH</code> only accepts a single path.</p>\n<p>Another workaround is to use symlinks as described <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-tools/issues/2/create-debian-package#comment-51546533\" rel=\"nofollow\">here</a>, for example:</p>\n<div class=\"codehilite\"><pre><span></span>mkdir ~/.ignition/tools/configs -p\ncd ~/.ignition/tools/configs/\nln -s ~/ws/install/ignition-transport6/share/ignition/transport6.yaml .\nln -s ~/ws/install/ignition-gui1/share/ignition/gui1.yaml .\n...\nexport IGN_CONFIG_PATH=$HOME/.ignition/tools/configs\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-12-06T19:31:45.185222+00:00", "milestone": null, "updated_on": "2019-12-06T19:33:03.390399+00:00", "type": "issue", "id": 8}