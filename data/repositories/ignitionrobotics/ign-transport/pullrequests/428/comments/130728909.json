{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/428/comments/130728909.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/428/_/diff#comment-130728909"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 428, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/428.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/428"}}, "title": "Write to disk from a background thread in log recorder"}, "content": {"raw": "I'm a bit concerned about the max queue size, picking a good value for the queue size, and the possibility of loosing data.\n\nHow about we take some lessons from [rosbag](http://wiki.ros.org/rosbag/Commandline), which specifies a queue based on MB or zero for infinite queue. Rosbag also writes in chunks, not at every message. Both of these strategies might be beneficial here.\n\nI think the byte size queue limit, or zero for an infinite queue, would be pretty straight forward to implement.\n\nA chunk size could also be specified. When the queue is larger than the chunk size, then the conditional is triggered. \n\nWhat do you think?", "markup": "markdown", "html": "<p>I'm a bit concerned about the max queue size, picking a good value for the queue size, and the possibility of loosing data.</p>\n<p>How about we take some lessons from <a data-is-external-link=\"true\" href=\"http://wiki.ros.org/rosbag/Commandline\" rel=\"nofollow\">rosbag</a>, which specifies a queue based on MB or zero for infinite queue. Rosbag also writes in chunks, not at every message. Both of these strategies might be beneficial here.</p>\n<p>I think the byte size queue limit, or zero for an infinite queue, would be pretty straight forward to implement.</p>\n<p>A chunk size could also be specified. When the queue is larger than the chunk size, then the conditional is triggered. </p>\n<p>What do you think?</p>", "type": "rendered"}, "created_on": "2020-01-07T16:42:09.979298+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2020-01-07T16:42:09.986536+00:00", "type": "pullrequest_comment", "id": 130728909}