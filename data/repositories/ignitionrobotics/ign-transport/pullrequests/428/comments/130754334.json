{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/428/comments/130754334.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/428/_/diff#comment-130754334"}}, "parent": {"id": 130753423, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/428/comments/130753423.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/428/_/diff#comment-130753423"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 428, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/428.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/428"}}, "title": "Write to disk from a background thread in log recorder"}, "content": {"raw": "The separate process is good idea, but I think this change would deserve more careful planning. How about we scope this to subt's immediate needs, and push the extra stuff to a later time. So, I propose that this PR be modified to allow for an infinite queue size when the max queue size is zero, and set the default queue size to 1000. The 1000 value comes from zeromq, where is was the default buffer size. \n\nWe can save chunking for later. As you mentioned, it would be nice to measure or know if this is actually beneficial.\n\nAlso save the separate process work for later.\n\nIf that sounds good to you, then can you please create issues for chunking and the separate process?", "markup": "markdown", "html": "<p>The separate process is good idea, but I think this change would deserve more careful planning. How about we scope this to subt's immediate needs, and push the extra stuff to a later time. So, I propose that this PR be modified to allow for an infinite queue size when the max queue size is zero, and set the default queue size to 1000. The 1000 value comes from zeromq, where is was the default buffer size. </p>\n<p>We can save chunking for later. As you mentioned, it would be nice to measure or know if this is actually beneficial.</p>\n<p>Also save the separate process work for later.</p>\n<p>If that sounds good to you, then can you please create issues for chunking and the separate process?</p>", "type": "rendered"}, "created_on": "2020-01-07T20:18:36.135822+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2020-01-07T20:18:36.143460+00:00", "type": "pullrequest_comment", "id": 130754334}