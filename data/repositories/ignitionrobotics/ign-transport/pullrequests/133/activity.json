{"pagelen": 50, "values": [{"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any/14/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "b6f04f40e1f5", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/b6f04f40e1f5.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/b6f04f40e1f5"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8382500df1dd", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/8382500df1dd.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/8382500df1dd"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "MERGED", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-06-23T17:47:16.368397+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/20157532.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-20157532"}}, "parent": {"id": 20059311, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/20059311.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-20059311"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}, "content": {"raw": "Works for me", "markup": "markdown", "html": "<p>Works for me</p>", "type": "rendered"}, "created_on": "2016-06-23T14:49:54.076342+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-06-23T14:49:54.079101+00:00", "type": "pullrequest_comment", "id": 20157532}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"approval": {"date": "2016-06-23T14:49:38.046718+00:00", "pullrequest": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any/14/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "b6f04f40e1f5", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/b6f04f40e1f5.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/b6f04f40e1f5"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8382500df1dd", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/8382500df1dd.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/8382500df1dd"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-06-23T14:40:35.129554+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/20059311.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-20059311"}}, "parent": {"id": 20036450, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/20036450.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-20036450"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}, "content": {"raw": "I managed to reproduce the problem. 52b85d3 should fix it. Could you give it another try?\n\nAs a side note, I didn't manage to compile Ign Transport with cmake 3.5 on Windows 10. I had to install cmake 3.2.2 . I believe the FindProtobuf that is shipped with cmake 3.5 expects a different file structure than the one provided with our zipped protobuf version.", "markup": "markdown", "html": "<p>I managed to reproduce the problem. <a href=\"#!/ignitionrobotics/ign-transport/commits/52b85d3\" rel=\"nofollow\" class=\"ap-connect-link\">52b85d3</a> should fix it. Could you give it another try?</p>\n<p>As a side note, I didn't manage to compile Ign Transport with cmake 3.5 on Windows 10. I had to install cmake 3.2.2 . I believe the FindProtobuf that is shipped with cmake 3.5 expects a different file structure than the one provided with our zipped protobuf version.</p>", "type": "rendered"}, "created_on": "2016-06-22T01:49:49.374520+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2016-06-22T01:50:02.540479+00:00", "type": "pullrequest_comment", "id": 20059311}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any/14/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "89c76f331de7", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/89c76f331de7.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/89c76f331de7"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "52b85d35bd05", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/52b85d35bd05.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/52b85d35bd05"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-06-22T01:46:20.342318+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/20036450.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-20036450"}}, "parent": {"id": 20027297, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/20027297.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-20027297"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}, "content": {"raw": "Thanks. Let me try it on my Windows 10 VM.", "markup": "markdown", "html": "<p>Thanks. Let me try it on my Windows 10 VM.</p>", "type": "rendered"}, "created_on": "2016-06-21T15:57:05.531303+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2016-06-21T15:57:05.540095+00:00", "type": "pullrequest_comment", "id": 20036450}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/20027297.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-20027297"}}, "parent": {"id": 19459514, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/19459514.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-19459514"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}, "content": {"raw": "Windows 10.\n\nThe failures include:\n\n1. NodeTest.PubSubWrongTypesOnSubscription\n\n    * cbExecuted is true. Failure on line 935\n    * It looks like the subscriber receives data from old publishers.\n\n1. NodeTest.TopicList \n    * topics list size is 3, when 2 is expected.\n    * The topic list includes \"/foo\", \"/topic1\", and \"/topic2\"", "markup": "markdown", "html": "<p>Windows 10.</p>\n<p>The failures include:</p>\n<ol>\n<li>\n<p>NodeTest.PubSubWrongTypesOnSubscription</p>\n<ul>\n<li>cbExecuted is true. Failure on line 935</li>\n<li>It looks like the subscriber receives data from old publishers.</li>\n</ul>\n</li>\n<li>\n<p>NodeTest.TopicList </p>\n<ul>\n<li>topics list size is 3, when 2 is expected.</li>\n<li>The topic list includes \"/foo\", \"/topic1\", and \"/topic2\"</li>\n</ul>\n</li>\n</ol>", "type": "rendered"}, "created_on": "2016-06-21T14:07:24.970148+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-06-21T14:27:59.200142+00:00", "type": "pullrequest_comment", "id": 20027297}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any/14/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "89c76f331de7", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/89c76f331de7.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/89c76f331de7"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "61bc14450932", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/61bc14450932.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/61bc14450932"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-06-20T22:56:46.000368+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any/14/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "89c76f331de7", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/89c76f331de7.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/89c76f331de7"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0b787da0ac8b", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/0b787da0ac8b.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/0b787da0ac8b"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-06-20T22:36:28.576494+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/19805635.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-19805635"}}, "parent": {"id": 19453799, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/19453799.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-19453799"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}, "content": {"raw": "No reason, renamed. 6e61c18", "markup": "markdown", "html": "<p>No reason, renamed. <a href=\"#!/ignitionrobotics/ign-transport/commits/6e61c18\" rel=\"nofollow\" class=\"ap-connect-link\">6e61c18</a></p>", "type": "rendered"}, "created_on": "2016-06-15T17:51:00.993458+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2016-06-15T17:51:00.996461+00:00", "type": "pullrequest_comment", "id": 19805635}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/19805615.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-19805615"}}, "parent": {"id": 19453940, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/19453940.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-19453940"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}, "content": {"raw": "I don't remember why it was there but I removed it and all the test pass. Removed in 6e61c18", "markup": "markdown", "html": "<p>I don't remember why it was there but I removed it and all the test pass. Removed in <a href=\"#!/ignitionrobotics/ign-transport/commits/6e61c18\" rel=\"nofollow\" class=\"ap-connect-link\">6e61c18</a></p>", "type": "rendered"}, "created_on": "2016-06-15T17:50:45.913446+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2016-06-15T17:50:45.918380+00:00", "type": "pullrequest_comment", "id": 19805615}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any/14/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "dfbb1c1e7ae7", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/dfbb1c1e7ae7.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/dfbb1c1e7ae7"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "6e61c18e1dca", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/6e61c18e1dca.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/6e61c18e1dca"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-06-15T17:49:33.319728+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any/14/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "dfbb1c1e7ae7", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/dfbb1c1e7ae7.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/dfbb1c1e7ae7"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "34015eb58406", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/34015eb58406.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/34015eb58406"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-06-08T22:36:38.326602+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/19512155.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-19512155"}}, "parent": {"id": 19459514, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/19459514.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-19459514"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}, "content": {"raw": "All [tests are passing in Jenkins](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/237/)", "markup": "markdown", "html": "<p>All <a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/237/\" rel=\"nofollow\">tests are passing in Jenkins</a></p>", "type": "rendered"}, "created_on": "2016-06-08T19:17:14.447094+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": "2016-06-08T19:17:14.449338+00:00", "type": "pullrequest_comment", "id": 19512155}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/19459514.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-19459514"}}, "parent": {"id": 19457892, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/19457892.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-19457892"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}, "content": {"raw": "Which version of Windows and VS are you using? I run all the tests locally again on my VM and they pass.", "markup": "markdown", "html": "<p>Which version of Windows and VS are you using? I run all the tests locally again on my VM and they pass.</p>", "type": "rendered"}, "created_on": "2016-06-07T23:14:35.839685+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2016-06-07T23:14:35.842530+00:00", "type": "pullrequest_comment", "id": 19459514}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/19457892.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-19457892"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}, "content": {"raw": "`UNIT_Node_TEST` always segfaults on windows.", "markup": "markdown", "html": "<p><code>UNIT_Node_TEST</code> always segfaults on windows.</p>", "type": "rendered"}, "created_on": "2016-06-07T22:04:39.105297+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-06-07T22:04:39.107992+00:00", "type": "pullrequest_comment", "id": 19457892}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any/14/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "2c74204fd354", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/2c74204fd354.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/2c74204fd354"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d40e5151df30", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/d40e5151df30.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/d40e5151df30"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-06-07T22:04:14.335037+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any/14/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "2c74204fd354", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/2c74204fd354.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/2c74204fd354"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9500b0e8c8f2", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/9500b0e8c8f2.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/9500b0e8c8f2"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-06-07T21:11:17.985437+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/19453940.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-19453940"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}, "content": {"raw": "Is this sleep necessary? I get concerned about sleeps used to control program flow.", "markup": "markdown", "html": "<p>Is this sleep necessary? I get concerned about sleeps used to control program flow.</p>", "type": "rendered"}, "created_on": "2016-06-07T20:24:31.599832+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {}, "updated_on": "2016-06-07T20:24:31.602349+00:00", "type": "pullrequest_comment", "id": 19453940}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133/comments/19453799.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133/_/diff#comment-19453799"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}, "content": {"raw": "Is there a reason you use `_MSC_VER` here and `_WIN32` on line 50?", "markup": "markdown", "html": "<p>Is there a reason you use <code>_MSC_VER</code> here and <code>_WIN32</code> on line 50?</p>", "type": "rendered"}, "created_on": "2016-06-07T20:21:42.450095+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {}, "updated_on": "2016-06-07T20:21:42.457968+00:00", "type": "pullrequest_comment", "id": 19453799}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any/14/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "2c74204fd354", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/2c74204fd354.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/2c74204fd354"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "57794da3cc0c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/57794da3cc0c.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/57794da3cc0c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-06-07T20:15:26.184689+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any/14/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "8d21b3bf941a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/8d21b3bf941a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/8d21b3bf941a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1fbd172872a2", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1fbd172872a2.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1fbd172872a2"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-05-24T21:37:28.594084+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any/16/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "8d21b3bf941a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/8d21b3bf941a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/8d21b3bf941a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1fbd172872a2", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1fbd172872a2.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1fbd172872a2"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-05-24T21:36:56.064861+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/112/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :large_orange_diamond: It seems there's an unrelated problem on Jenkins. All tests passed on my local VM.", "title": "Discovery v2", "destination": {"commit": {"hash": "8d21b3bf941a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/8d21b3bf941a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/8d21b3bf941a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1fbd172872a2", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1fbd172872a2.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1fbd172872a2"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-05-11T23:54:21.956804+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/112/) :large_blue_circle: \r\n* [Homebrew](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/103/) :large_blue_circle: \r\n* [Windows](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/207/) :white_circle: ", "title": "Discovery v2", "destination": {"commit": {"hash": "8d21b3bf941a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/8d21b3bf941a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/8d21b3bf941a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1fbd172872a2", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1fbd172872a2.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1fbd172872a2"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-05-11T23:50:00.512861+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](Link URL) :white_circle: \r\n* [Homebrew](Link URL) :white_circle: \r\n* [Windows](Link URL) :white_circle: ", "title": "Discovery v2", "destination": {"commit": {"hash": "8d21b3bf941a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/8d21b3bf941a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/8d21b3bf941a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1fbd172872a2", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1fbd172872a2.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1fbd172872a2"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-05-11T23:45:58.953584+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor pattern waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](Link URL) :white_circle: \r\n* [Homebrew](Link URL) :white_circle: \r\n* [Windows](Link URL) :white_circle: ", "title": "Discovery v2", "destination": {"commit": {"hash": "8d21b3bf941a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/8d21b3bf941a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/8d21b3bf941a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2f2dfa23c2ef", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/2f2dfa23c2ef.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/2f2dfa23c2ef"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-05-11T23:43:50.805179+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant (`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor patter waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](Link URL) :white_circle: \r\n* [Homebrew](Link URL) :white_circle: \r\n* [Windows](Link URL) :white_circle: ", "title": "Discovery v2", "destination": {"commit": {"hash": "8d21b3bf941a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/8d21b3bf941a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/8d21b3bf941a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2f2dfa23c2ef", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/2f2dfa23c2ef.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/2f2dfa23c2ef"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-05-11T23:43:21.960857+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant(`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor patter waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](Link URL) :white_circle: \r\n* [Homebrew](Link URL) :white_circle: \r\n* [Windows](Link URL) :white_circle: ", "title": "Discovery v2", "destination": {"commit": {"hash": "8d21b3bf941a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/8d21b3bf941a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/8d21b3bf941a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2f2dfa23c2ef", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/2f2dfa23c2ef.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/2f2dfa23c2ef"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-05-11T23:42:59.174764+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant(`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor patter waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](Link URL) :white_circle: \r\n* [Homebrew](Link URL) :white_circle: \r\n* [Windows](Link URL) :white_circle: ", "title": "Discovery_v2", "destination": {"commit": {"hash": "8d21b3bf941a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/8d21b3bf941a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/8d21b3bf941a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2f2dfa23c2ef", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/2f2dfa23c2ef.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/2f2dfa23c2ef"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-05-11T23:42:42.711320+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}, {"update": {"description": "A better design for the discovery class:\r\n\r\n* Instead of having two variants per function (e.g.: `AdvertiseMsg()`, `AdvertiseSrv()`), we now have only one variant(`Advertise()`, `Subscribe()`, etc.). We now have two `Discovery` objects, one for topics and the other for services, operating on different ports.\r\n\r\n* The `Discovery` class is templated now, so I removed `Discovery.cc` and `DiscoveryPrivate.cc`\r\n\r\n* Instead of having three dedicated threads for each discovery object, there's now only one. It still works using a reactor patter waiting in `poll()` until there's activity in the socket or other things to do. The timeout is now dynamic, to make sure that we leave `poll()` if we have to send a heartbeat or check the validity of the discovery information (which was previously performed in separate threads).\r\n\r\n* I had to prefix `g_` to some global variables in test files to avoid warnings. I didn't rename all globals for not making this pull request even bigger. There's a bit of inconsistency in some global variables but I'll fix it in a separate pull request that will add `g_` prefix to all global variables.\r\n\r\n* Added a few `const` to some functions.\r\n\r\n* Remove `advertiseInterval` member variable and its accessors. It was unused.\r\n\r\nSorry for the size of this PR.\r\n\r\nCI results:\r\n\r\n* [Trusty](Link URL) :white_circle: \r\n* [Homebrew](Link URL) :white_circle: \r\n* [Windows](Link URL) :white_circle: ", "title": "Discovery_v2", "destination": {"commit": {"hash": "8d21b3bf941a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/8d21b3bf941a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/8d21b3bf941a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2f2dfa23c2ef", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/2f2dfa23c2ef.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/2f2dfa23c2ef"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "discovery_v2"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-05-11T23:42:42.686637+00:00"}, "pull_request": {"type": "pullrequest", "id": 133, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/133.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/133"}}, "title": "Discovery v2"}}]}