{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/343/comments/74284173.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/343/_/diff#comment-74284173"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 343, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/343.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/343"}}, "title": "Remove assert in Node destruction"}, "content": {"raw": "Thanks for the quick fix! Two questions:\n\n1. Should the assert for subscriptions also be removed?\n\n2. This test doesn't pass, should it?\n\n~~~\ndiff -r c1f222333280 src/Node_TEST.cc\n--- a/src/Node_TEST.cc  Tue Aug 28 10:39:28 2018 -0700\n+++ b/src/Node_TEST.cc  Tue Aug 28 10:49:41 2018 -0700\n@@ -2242,7 +2242,13 @@\n   {\n     transport::Node node;\n     pub = node.Advertise<ignition::msgs::Vector3d>(g_topic);\n+\n+    // Check publisher is valid\n+    EXPECT_TRUE(pub);\n   }\n+\n+  // Check publisher is invalid after node has been destroyed\n+  EXPECT_FALSE(pub);\n }\n~~~", "markup": "markdown", "html": "<p>Thanks for the quick fix! Two questions:</p>\n<ol>\n<li>\n<p>Should the assert for subscriptions also be removed?</p>\n</li>\n<li>\n<p>This test doesn't pass, should it?</p>\n</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r c1f222333280 src/Node_TEST.cc</span>\n<span class=\"gd\">--- a/src/Node_TEST.cc  Tue Aug 28 10:39:28 2018 -0700</span>\n<span class=\"gi\">+++ b/src/Node_TEST.cc  Tue Aug 28 10:49:41 2018 -0700</span>\n<span class=\"gu\">@@ -2242,7 +2242,13 @@</span>\n   {\n     transport::Node node;\n     pub = node.Advertise&lt;ignition::msgs::Vector3d&gt;(g_topic);\n<span class=\"gi\">+</span>\n<span class=\"gi\">+    // Check publisher is valid</span>\n<span class=\"gi\">+    EXPECT_TRUE(pub);</span>\n   }\n<span class=\"gi\">+</span>\n<span class=\"gi\">+  // Check publisher is invalid after node has been destroyed</span>\n<span class=\"gi\">+  EXPECT_FALSE(pub);</span>\n }\n</pre></div>", "type": "rendered"}, "created_on": "2018-08-28T17:51:20.620405+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2018-08-28T17:51:20.626790+00:00", "type": "pullrequest_comment", "id": 74284173}