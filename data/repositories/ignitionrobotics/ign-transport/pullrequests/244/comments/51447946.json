{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/244/comments/51447946.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/diff/ignitionrobotics/ign-transport:f2ae2c23cded..dc8d5c174529?path=tools%2Frecord%2Fschema%2F0.1.0.sql"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/244/_/diff#comment-51447946"}}, "parent": {"id": 51447302, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/244/comments/51447302.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/244/_/diff#comment-51447302"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 244, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/244.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/244"}}, "title": "Record schema 0.1.0"}, "content": {"raw": "That seems to be the role of the [DynamicMessageFactory](https://developers.google.com/protocol-buffers/docs/reference/cpp/google.protobuf.dynamic_message). I believe if we pass a blank [Descriptor](https://developers.google.com/protocol-buffers/docs/reference/cpp/google.protobuf.descriptor#Descriptor) object to `DynamicMessageFactory::GetPrototype(~)`, it should construct a completely generic message which we can then operate on using the [Reflection](https://developers.google.com/protocol-buffers/docs/reference/cpp/google.protobuf.message#Reflection) interface (although we'll only be able to do operations based on the field indices; we don't be able to do anything that uses the field names).\n\nI'm still in the process of getting 100% confirmation on this, but it's looking very promising. I plan on putting together a test of my findings very soon.", "markup": "markdown", "html": "<p>That seems to be the role of the <a data-is-external-link=\"true\" href=\"https://developers.google.com/protocol-buffers/docs/reference/cpp/google.protobuf.dynamic_message\" rel=\"nofollow\">DynamicMessageFactory</a>. I believe if we pass a blank <a data-is-external-link=\"true\" href=\"https://developers.google.com/protocol-buffers/docs/reference/cpp/google.protobuf.descriptor#Descriptor\" rel=\"nofollow\">Descriptor</a> object to <code>DynamicMessageFactory::GetPrototype(~)</code>, it should construct a completely generic message which we can then operate on using the <a data-is-external-link=\"true\" href=\"https://developers.google.com/protocol-buffers/docs/reference/cpp/google.protobuf.message#Reflection\" rel=\"nofollow\">Reflection</a> interface (although we'll only be able to do operations based on the field indices; we don't be able to do anything that uses the field names).</p>\n<p>I'm still in the process of getting 100% confirmation on this, but it's looking very promising. I plan on putting together a test of my findings very soon.</p>", "type": "rendered"}, "created_on": "2017-12-07T23:58:36.534278+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "outdated": true, "path": "tools/record/schema/0.1.0.sql"}, "updated_on": "2017-12-07T23:58:36.536930+00:00", "type": "pullrequest_comment", "id": 51447946}