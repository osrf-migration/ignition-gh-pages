{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/295/comments/59216219.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/diff/KavyaSharma7/ign-transport:af7c7ab2c7dc..d070978f7689?path=src%2FNode.cc"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/295/_/diff#comment-59216219"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 295, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/295.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/295"}}, "title": "Issue #75"}, "content": {"raw": "Calling `free(~)` on a function that was allocated with `new` is undefined behavior.\n\nSince we know that the object being passed to `myDeallocator` was originally a `char*`, it is reasonable (and necessary) to replace this `free(~)` with `delete[] reinterpret_cast<char*>(_buffer);`\n\nI wouldn't ordinarily encourage the use of `reinterpret_cast<T>()`, but it's often necessary when dealing with C-style void pointers.", "markup": "markdown", "html": "<p>Calling <code>free(~)</code> on a function that was allocated with <code>new</code> is undefined behavior.</p>\n<p>Since we know that the object being passed to <code>myDeallocator</code> was originally a <code>char*</code>, it is reasonable (and necessary) to replace this <code>free(~)</code> with <code>delete[] reinterpret_cast&lt;char*&gt;(_buffer);</code></p>\n<p>I wouldn't ordinarily encourage the use of <code>reinterpret_cast&lt;T&gt;()</code>, but it's often necessary when dealing with C-style void pointers.</p>", "type": "rendered"}, "created_on": "2018-03-19T15:19:20.612216+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": 460, "outdated": true, "path": "src/Node.cc"}, "updated_on": "2018-03-19T15:19:20.619129+00:00", "type": "pullrequest_comment", "id": 59216219}