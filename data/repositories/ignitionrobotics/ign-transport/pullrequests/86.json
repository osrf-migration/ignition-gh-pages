{"rendered": {"description": {"raw": "This is essentially reverting the changes that I made in pull request #84.\r\n\r\nI didn't realize the following scenario:\r\n\r\n1. Node1 advertises a topic and publishes a message periodically.\r\n1. Node2 subscribes to the topic advertised by node1.\r\n1. If node2 doesn't send hearbeats, after some time, node1 will interpret that the subscriber node2 is gone. If there are no other remote subscribers, node1 won't serialize or publish anything. This is wrong because node2 was still alive (but quiet).\r\n\r\nSo, all the nodes need to send heartbeats even if they're not advertising topics or services.\r\n\r\nCI results:\r\n\r\n* [Ubuntu trusty pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-trusty-amd64/40/).\r\n* [Mac OS X happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-homebrew-amd64/54/).\r\n* [Windows happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-windows7-amd64/68/).\r\n\r\n\r\nPriority increased in preparation for the upcoming releases.", "markup": "markdown", "html": "<p>This is essentially reverting the changes that I made in <a href=\"#!/ignitionrobotics/ign-transport/pull-requests/84/reduce-discovery-messages\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #84</a>.</p>\n<p>I didn't realize the following scenario:</p>\n<ol>\n<li>Node1 advertises a topic and publishes a message periodically.</li>\n<li>Node2 subscribes to the topic advertised by node1.</li>\n<li>If node2 doesn't send hearbeats, after some time, node1 will interpret that the subscriber node2 is gone. If there are no other remote subscribers, node1 won't serialize or publish anything. This is wrong because node2 was still alive (but quiet).</li>\n</ol>\n<p>So, all the nodes need to send heartbeats even if they're not advertising topics or services.</p>\n<p>CI results:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-trusty-amd64/40/\" rel=\"nofollow\">Ubuntu trusty pending</a>.</li>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-homebrew-amd64/54/\" rel=\"nofollow\">Mac OS X happy</a>.</li>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-windows7-amd64/68/\" rel=\"nofollow\">Windows happy</a>.</li>\n</ul>\n<p>Priority increased in preparation for the upcoming releases.</p>", "type": "rendered"}, "title": {"raw": "Send heartbeats even if nodes are not advertising messages", "markup": "markdown", "html": "<p>Send heartbeats even if nodes are not advertising messages</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This is essentially reverting the changes that I made in pull request #84.\r\n\r\nI didn't realize the following scenario:\r\n\r\n1. Node1 advertises a topic and publishes a message periodically.\r\n1. Node2 subscribes to the topic advertised by node1.\r\n1. If node2 doesn't send hearbeats, after some time, node1 will interpret that the subscriber node2 is gone. If there are no other remote subscribers, node1 won't serialize or publish anything. This is wrong because node2 was still alive (but quiet).\r\n\r\nSo, all the nodes need to send heartbeats even if they're not advertising topics or services.\r\n\r\nCI results:\r\n\r\n* [Ubuntu trusty pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-trusty-amd64/40/).\r\n* [Mac OS X happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-homebrew-amd64/54/).\r\n* [Windows happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-windows7-amd64/68/).\r\n\r\n\r\nPriority increased in preparation for the upcoming releases.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/pullrequests/86/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/diffstat/ignitionrobotics/ign-transport:4db067635b49%0Dfbce84ea5ba7?from_pullrequest_id=86"}, "commits": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/86/commits.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/86.json"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/86/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/pullrequests/86/merge"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/86"}, "activity": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/86/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/diff/ignitionrobotics/ign-transport:4db067635b49%0Dfbce84ea5ba7?from_pullrequest_id=86"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/pullrequests/86/approve"}, "statuses": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/86/statuses_page=1.json"}}, "title": "Send heartbeats even if nodes are not advertising messages", "close_source_branch": true, "reviewers": [], "id": 86, "destination": {"commit": {"hash": "fbce84ea5ba7", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/fbce84ea5ba7.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/fbce84ea5ba7"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "default"}}, "created_on": "2015-10-02T21:40:54.138722+00:00", "summary": {"raw": "This is essentially reverting the changes that I made in pull request #84.\r\n\r\nI didn't realize the following scenario:\r\n\r\n1. Node1 advertises a topic and publishes a message periodically.\r\n1. Node2 subscribes to the topic advertised by node1.\r\n1. If node2 doesn't send hearbeats, after some time, node1 will interpret that the subscriber node2 is gone. If there are no other remote subscribers, node1 won't serialize or publish anything. This is wrong because node2 was still alive (but quiet).\r\n\r\nSo, all the nodes need to send heartbeats even if they're not advertising topics or services.\r\n\r\nCI results:\r\n\r\n* [Ubuntu trusty pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-trusty-amd64/40/).\r\n* [Mac OS X happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-homebrew-amd64/54/).\r\n* [Windows happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-windows7-amd64/68/).\r\n\r\n\r\nPriority increased in preparation for the upcoming releases.", "markup": "markdown", "html": "<p>This is essentially reverting the changes that I made in <a href=\"#!/ignitionrobotics/ign-transport/pull-requests/84/reduce-discovery-messages\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #84</a>.</p>\n<p>I didn't realize the following scenario:</p>\n<ol>\n<li>Node1 advertises a topic and publishes a message periodically.</li>\n<li>Node2 subscribes to the topic advertised by node1.</li>\n<li>If node2 doesn't send hearbeats, after some time, node1 will interpret that the subscriber node2 is gone. If there are no other remote subscribers, node1 won't serialize or publish anything. This is wrong because node2 was still alive (but quiet).</li>\n</ol>\n<p>So, all the nodes need to send heartbeats even if they're not advertising topics or services.</p>\n<p>CI results:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-trusty-amd64/40/\" rel=\"nofollow\">Ubuntu trusty pending</a>.</li>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-homebrew-amd64/54/\" rel=\"nofollow\">Mac OS X happy</a>.</li>\n<li><a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-any-devel-windows7-amd64/68/\" rel=\"nofollow\">Windows happy</a>.</li>\n</ul>\n<p>Priority increased in preparation for the upcoming releases.</p>", "type": "rendered"}, "source": {"commit": {"hash": "e350b72c4fe5", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/e350b72c4fe5.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/e350b72c4fe5"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "revert_pr84"}}, "comment_count": 1, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2015-10-06T18:00:57.334905+00:00", "type": "participant", "approved": true, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, {"role": "PARTICIPANT", "participated_on": "2015-10-06T19:33:44.999835+00:00", "type": "participant", "approved": true, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}], "reason": "", "updated_on": "2015-10-06T19:50:37.336533+00:00", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "merge_commit": {"hash": "4db067635b49", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/4db067635b49.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/4db067635b49"}}}, "closed_by": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}