{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105/comments/16058114.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105/_/diff#comment-16058114"}}, "parent": {"id": 15931374, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105/comments/15931374.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105/_/diff#comment-15931374"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}, "content": {"raw": "Thanks, this PR should fix it.\n\n#!/ignitionrobotics/ign-transport/pull-requests/117", "markup": "markdown", "html": "<p>Thanks, this PR should fix it.</p>\n<p><a href=\"#!/ignitionrobotics/ign-transport/pull-requests/117\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-transport/pull-requests/117</a></p>", "type": "rendered"}, "created_on": "2016-03-21T20:57:36.016158+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2016-03-21T20:57:36.018867+00:00", "type": "pullrequest_comment", "id": 16058114}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105/comments/15931374.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105/_/diff#comment-15931374"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}, "content": {"raw": "This broke tests on homebrew:\n\n* http://build.osrfoundation.org/job/ignition_transport-ci-default-homebrew-amd64/27/", "markup": "markdown", "html": "<p>This broke tests on homebrew:</p>\n<ul>\n<li><a href=\"http://build.osrfoundation.org/job/ignition_transport-ci-default-homebrew-amd64/27/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/ignition_transport-ci-default-homebrew-amd64/27/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2016-03-18T01:09:21.562261+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-03-18T01:09:21.564385+00:00", "type": "pullrequest_comment", "id": 15931374}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"update": {"description": "Here's a problem:\r\n\r\nWhen you want to use `mynode.TopicList()` or `node.ServiceList()` you can be in one of these two scenarios, assuming that are existing nodes on the network running on different processes:\r\n\r\n* mynode's process has just started. For example, this is the case when you execute `ign topic -l` (`ign-tools` required). In this scenario, your discovery needs some time to receive the heartbeats from the rest of the nodes. This means that you needed to wait some time before calling `TopicList()` or `ServiceList()`, otherwise the list of topics/services would be empty most of the time.\r\n\r\n``` \r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::this_thread::sleep_for(std::chrono::milliseconds(someTime));\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\n* mynode's process has been running for a while and your discovery has a good picture of the other nodes on the network. In this case there was no need to wait if you wanted to call `TopicList()` or `ServiceList()`.\r\n\r\n```\r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\nBefore this pull request, Ignition Transport was not helping to differentiate in which situation you were.\r\nThis pull request makes the behavior of `TopicList()` or `ServiceList()` slightly different depending on the state of the discovery layer. If the discovery is starting, `TopicList()` and `ServiceList()` will block until the discovery is ready, to make sure that we have picture of the network before answering. If the discovery layer has been initialized, the functions won't block.\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Improve the behavior of TopicList and ServiceList", "destination": {"commit": {"hash": "04587706d9d1", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/04587706d9d1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/04587706d9d1"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "a8ef92d03d1e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/a8ef92d03d1e.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/a8ef92d03d1e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "improve_topic_list"}}, "state": "MERGED", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-03-17T15:57:58.541380+00:00"}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"update": {"description": "Here's a problem:\r\n\r\nWhen you want to use `mynode.TopicList()` or `node.ServiceList()` you can be in one of these two scenarios, assuming that are existing nodes on the network running on different processes:\r\n\r\n* mynode's process has just started. For example, this is the case when you execute `ign topic -l` (`ign-tools` required). In this scenario, your discovery needs some time to receive the heartbeats from the rest of the nodes. This means that you needed to wait some time before calling `TopicList()` or `ServiceList()`, otherwise the list of topics/services would be empty most of the time.\r\n\r\n``` \r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::this_thread::sleep_for(std::chrono::milliseconds(someTime));\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\n* mynode's process has been running for a while and your discovery has a good picture of the other nodes on the network. In this case there was no need to wait if you wanted to call `TopicList()` or `ServiceList()`.\r\n\r\n```\r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\nBefore this pull request, Ignition Transport was not helping to differentiate in which situation you were.\r\nThis pull request makes the behavior of `TopicList()` or `ServiceList()` slightly different depending on the state of the discovery layer. If the discovery is starting, `TopicList()` and `ServiceList()` will block until the discovery is ready, to make sure that we have picture of the network before answering. If the discovery layer has been initialized, the functions won't block.\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Improve the behavior of TopicList and ServiceList", "destination": {"commit": {"hash": "962c043f4bc1", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/962c043f4bc1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/962c043f4bc1"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "a8ef92d03d1e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/a8ef92d03d1e.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/a8ef92d03d1e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "improve_topic_list"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-03-10T21:18:16.552560+00:00"}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"approval": {"date": "2016-02-10T23:05:30.538038+00:00", "pullrequest": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"update": {"description": "Here's a problem:\r\n\r\nWhen you want to use `mynode.TopicList()` or `node.ServiceList()` you can be in one of these two scenarios, assuming that are existing nodes on the network running on different processes:\r\n\r\n* mynode's process has just started. For example, this is the case when you execute `ign topic -l` (`ign-tools` required). In this scenario, your discovery needs some time to receive the heartbeats from the rest of the nodes. This means that you needed to wait some time before calling `TopicList()` or `ServiceList()`, otherwise the list of topics/services would be empty most of the time.\r\n\r\n``` \r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::this_thread::sleep_for(std::chrono::milliseconds(someTime));\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\n* mynode's process has been running for a while and your discovery has a good picture of the other nodes on the network. In this case there was no need to wait if you wanted to call `TopicList()` or `ServiceList()`.\r\n\r\n```\r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\nBefore this pull request, Ignition Transport was not helping to differentiate in which situation you were.\r\nThis pull request makes the behavior of `TopicList()` or `ServiceList()` slightly different depending on the state of the discovery layer. If the discovery is starting, `TopicList()` and `ServiceList()` will block until the discovery is ready, to make sure that we have picture of the network before answering. If the discovery layer has been initialized, the functions won't block.\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Improve the behavior of TopicList and ServiceList", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "1c74c3c6452b", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1c74c3c6452b.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1c74c3c6452b"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "improve_topic_list"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T22:04:48.591387+00:00"}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"update": {"description": "Here's a problem:\r\n\r\nWhen you want to use `mynode.TopicList()` or `node.ServiceList()` you can be in one of these two scenarios, assuming that are existing nodes on the network running on different processes:\r\n\r\n* mynode's process has just started. For example, this is the case when you execute `ign topic -l` (`ign-tools` required). In this scenario, your discovery needs some time to receive the heartbeats from the rest of the nodes. This means that you needed to wait some time before calling `TopicList()` or `ServiceList()`, otherwise the list of topics/services would be empty most of the time.\r\n\r\n``` \r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::this_thread::sleep_for(std::chrono::milliseconds(someTime));\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\n* mynode's process has been running for a while and your discovery has a good picture of the other nodes on the network. In this case there was no need to wait if you wanted to call `TopicList()` or `ServiceList()`.\r\n\r\n```\r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\nBefore this pull request, Ignition Transport was not helping to differentiate in which situation you were.\r\nThis pull request makes the behavior of `TopicList()` or `ServiceList()` slightly different depending on the state of the discovery layer. If the discovery is starting, `TopicList()` and `ServiceList()` will block until the discovery is ready, to make sure that we have picture of the network before answering. If the discovery layer has been initialized, the functions won't block.\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Improve the behavior of TopicList and ServiceList", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "baf14cbb478d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/baf14cbb478d.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/baf14cbb478d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "improve_topic_list"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T22:03:54.929026+00:00"}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105/comments/14429782.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105/_/diff#comment-14429782"}}, "parent": {"id": 14420349, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105/comments/14420349.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105/_/diff#comment-14420349"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}, "content": {"raw": "Thanks, merged.", "markup": "markdown", "html": "<p>Thanks, merged.</p>", "type": "rendered"}, "created_on": "2016-02-10T20:48:02.872186+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2016-02-10T20:48:02.877783+00:00", "type": "pullrequest_comment", "id": 14429782}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"update": {"description": "Here's a problem:\r\n\r\nWhen you want to use `mynode.TopicList()` or `node.ServiceList()` you can be in one of these two scenarios, assuming that are existing nodes on the network running on different processes:\r\n\r\n* mynode's process has just started. For example, this is the case when you execute `ign topic -l` (`ign-tools` required). In this scenario, your discovery needs some time to receive the heartbeats from the rest of the nodes. This means that you needed to wait some time before calling `TopicList()` or `ServiceList()`, otherwise the list of topics/services would be empty most of the time.\r\n\r\n``` \r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::this_thread::sleep_for(std::chrono::milliseconds(someTime));\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\n* mynode's process has been running for a while and your discovery has a good picture of the other nodes on the network. In this case there was no need to wait if you wanted to call `TopicList()` or `ServiceList()`.\r\n\r\n```\r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\nBefore this pull request, Ignition Transport was not helping to differentiate in which situation you were.\r\nThis pull request makes the behavior of `TopicList()` or `ServiceList()` slightly different depending on the state of the discovery layer. If the discovery is starting, `TopicList()` and `ServiceList()` will block until the discovery is ready, to make sure that we have picture of the network before answering. If the discovery layer has been initialized, the functions won't block.\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Improve the behavior of TopicList and ServiceList", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "3906f7c724f6", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/3906f7c724f6.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/3906f7c724f6"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "improve_topic_list"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T20:47:44.535226+00:00"}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105/comments/14420349.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105/_/diff#comment-14420349"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}, "content": {"raw": "Made some updates in [improve_topic_list_nate](#!/ignitionrobotics/ign-transport/branch/improve_topic_list_nate?dest=improve_topic_list#diff)", "markup": "markdown", "html": "<p>Made some updates in <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/branch/improve_topic_list_nate?dest=improve_topic_list#diff\" rel=\"nofollow\">improve_topic_list_nate</a></p>", "type": "rendered"}, "created_on": "2016-02-10T17:00:58.227365+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2016-02-10T17:00:58.231721+00:00", "type": "pullrequest_comment", "id": 14420349}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"update": {"description": "Here's a problem:\r\n\r\nWhen you want to use `mynode.TopicList()` or `node.ServiceList()` you can be in one of these two scenarios, assuming that are existing nodes on the network running on different processes:\r\n\r\n* mynode's process has just started. For example, this is the case when you execute `ign topic -l` (`ign-tools` required). In this scenario, your discovery needs some time to receive the heartbeats from the rest of the nodes. This means that you needed to wait some time before calling `TopicList()` or `ServiceList()`, otherwise the list of topics/services would be empty most of the time.\r\n\r\n``` \r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::this_thread::sleep_for(std::chrono::milliseconds(someTime));\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\n* mynode's process has been running for a while and your discovery has a good picture of the other nodes on the network. In this case there was no need to wait if you wanted to call `TopicList()` or `ServiceList()`.\r\n\r\n```\r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\nBefore this pull request, Ignition Transport was not helping to differentiate in which situation you were.\r\nThis pull request makes the behavior of `TopicList()` or `ServiceList()` slightly different depending on the state of the discovery layer. If the discovery is starting, `TopicList()` and `ServiceList()` will block until the discovery is ready, to make sure that we have picture of the network before answering. If the discovery layer has been initialized, the functions won't block.\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Improve the behavior of TopicList and ServiceList", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "37c42ca2b9e5", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/37c42ca2b9e5.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/37c42ca2b9e5"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "improve_topic_list"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-02-10T15:39:55.028831+00:00"}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"update": {"description": "Here's a problem:\r\n\r\nWhen you want to use `mynode.TopicList()` or `node.ServiceList()` you can be in one of these two scenarios, assuming that are existing nodes on the network running on different processes:\r\n\r\n* mynode's process has just started. For example, this is the case when you execute `ign topic -l` (`ign-tools` required). In this scenario, your discovery needs some time to receive the heartbeats from the rest of the nodes. This means that you needed to wait some time before calling `TopicList()` or `ServiceList()`, otherwise the list of topics/services would be empty most of the time.\r\n\r\n``` \r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::this_thread::sleep_for(std::chrono::milliseconds(someTime));\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\n* mynode's process has been running for a while and your discovery has a good picture of the other nodes on the network. In this case there was no need to wait if you wanted to call `TopicList()` or `ServiceList()`.\r\n\r\n```\r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\nBefore this pull request, Ignition Transport was not helping to differentiate in which situation you were.\r\nThis pull request makes the behavior of `TopicList()` or `ServiceList()` slightly different depending on the state of the discovery layer. If the discovery is starting, `TopicList()` and `ServiceList()` will block until the discovery is ready, to make sure that we have picture of the network before answering. If the discovery layer has been initialized, the functions won't block.\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Improve the behavior of TopicList and ServiceList", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "37c42ca2b9e5", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/37c42ca2b9e5.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/37c42ca2b9e5"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "improve_topic_list"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2016-02-10T15:39:51.467825+00:00"}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"update": {"description": "Here's a problem:\r\n\r\nWhen you want to use `mynode.TopicList()` or `node.ServiceList()` you can be in one of these two scenarios, assuming that are existing nodes on the network running on different processes:\r\n\r\n* mynode's process has just started. For example, this is the case when you execute `ign topic -l` (`ign-tools` required). In this scenario, your discovery needs some time to receive the heartbeats from the rest of the nodes. This means that you needed to wait some time before calling `TopicList()` or `ServiceList()`, otherwise the list of topics/services would be empty most of the time.\r\n\r\n``` \r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::this_thread::sleep_for(std::chrono::milliseconds(someTime));\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\n* mynode's process has been running for a while and your discovery has a good picture of the other nodes on the network. In this case there was no need to wait if you wanted to call `TopicList()` or `ServiceList()`.\r\n\r\n```\r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\nBefore this pull request, Ignition Transport was not helping to differentiate in which situation you were.\r\nThis pull request makes the behavior of `TopicList()` or `ServiceList()` slightly different depending on the state of the discovery layer. If the discovery is starting, `TopicList()` and `ServiceList()` will block until the discovery is ready, to make sure that we have picture of the network before answering. If the discovery layer has been initialized, the functions won't block.\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Improve the behavior of TopicList and ServiceList", "destination": {"commit": {"hash": "d90869b1b2d5", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/d90869b1b2d5.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/d90869b1b2d5"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "25101350d37c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/25101350d37c.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/25101350d37c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "improve_topic_list"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-06T17:48:14.089388+00:00"}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"update": {"description": "Here's a problem:\r\n\r\nWhen you want to use `mynode.TopicList()` or `node.ServiceList()` you can be in one of these two scenarios, assuming that are existing nodes on the network running on different processes:\r\n\r\n* mynode's process has just started. For example, this is the case when you execute `ign topic -l` (`ign-tools` required). In this scenario, your discovery needs some time to receive the heartbeats from the rest of the nodes. This means that you needed to wait some time before calling `TopicList()` or `ServiceList()`, otherwise the list of topics/services would be empty most of the time.\r\n\r\n``` \r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::this_thread::sleep_for(std::chrono::milliseconds(someTime));\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\n* mynode's process has been running for a while and your discovery has a good picture of the other nodes on the network. In this case there was no need to wait if you wanted to call `TopicList()` or `ServiceList()`.\r\n\r\n```\r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\nBefore this pull request, Ignition Transport was not helping to differentiate in which situation you were.\r\nThis pull request makes the behavior of `TopicList()` or `ServiceList()` slightly different depending on the state of the discovery layer. If the discovery is starting, `TopicList()` and `ServiceList()` will block until the discovery is ready, to make sure that we have picture of the network before answering. If the discovery layer has been initialized, the functions won't block.\r\n\r\nCI results:\r\n\r\n* Trusty is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Improve the behavior of TopicList and ServiceList", "destination": {"commit": {"hash": "837e62512476", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/837e62512476.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/837e62512476"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "25101350d37c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/25101350d37c.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/25101350d37c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "improve_topic_list"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-06T03:00:10.777974+00:00"}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"update": {"description": "Here's a problem:\r\n\r\nWhen you want to use `mynode.TopicList()` or `node.ServiceList()` you can be in one of these two scenarios, assuming that are existing nodes on the network running on different processes:\r\n\r\n* mynode's process has just started. For example, this is the case when you execute `ign topic -l` (`ign-tools` required). In this scenario, your discovery needs some time to receive the heartbeats from the rest of the nodes. This means that you needed to wait some time before calling `TopicList()` or `ServiceList()`, otherwise the list of topics/services would be empty most of the time.\r\n\r\n``` \r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::this_thread::sleep_for(std::chrono::milliseconds(someTime));\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\n* mynode's process has been running for a while and your discovery has a good picture of the other nodes on the network. In this case there was no need to wait if you wanted to call `TopicList()` or `ServiceList()`.\r\n\r\n```\r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\nBefore this pull request, Ignition Transport was not helping to differentiate in which situation you were.\r\nThis pull request makes the behavior of `TopicList()` or `ServiceList()` slightly different depending on the state of the discovery layer. If the discovery is starting, `TopicList()` and `ServiceList()` will block until the discovery is ready, to make sure that we have picture of the network before answering. If the discovery layer has been initialized, the functions won't block.\r\n\r\nCI results:\r\n\r\n* Trusty is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/43/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/36/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/79/).", "title": "Improve the behavior of TopicList and ServiceList", "destination": {"commit": {"hash": "837e62512476", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/837e62512476.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/837e62512476"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "25101350d37c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/25101350d37c.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/25101350d37c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "improve_topic_list"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-06T02:57:24.184215+00:00"}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}, {"update": {"description": "Here's a problem:\r\n\r\nWhen you want to use `mynode.TopicList()` or `node.ServiceList()` you can be in one of these two scenarios, assuming that are existing nodes on the network running on different processes:\r\n\r\n* mynode's process has just started. For example, this is the case when you execute `ign topic -l` (`ign-tools` required). In this scenario, your discovery needs some time to receive the heartbeats from the rest of the nodes. This means that you needed to wait some time before calling `TopicList()` or `ServiceList()`, otherwise the list of topics/services would be empty most of the time.\r\n\r\n``` \r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::this_thread::sleep_for(std::chrono::milliseconds(someTime));\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\n* mynode's process has been running for a while and your discovery has a good picture of the other nodes on the network. In this case there was no need to wait if you wanted to call `TopicList()` or `ServiceList()`.\r\n\r\n```\r\n#!c++\r\n\r\nignition::transport::Node mynode;\r\nstd::vector<std::string> topics;\r\nnode.TopicList(topics);\r\n```\r\n\r\nBefore this pull request, Ignition Transport was not helping to differentiate in which situation you were.\r\nThis pull request makes the behavior of `TopicList()` or `ServiceList()` slightly different depending on the state of the discovery layer. If the discovery is starting, `TopicList()` and `ServiceList()` will block until the discovery is ready, to make sure that we have picture of the network before answering. If the discovery layer has been initialized, the functions won't block.\r\n\r\nCI results:\r\n\r\n* Trusty is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/43/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/36/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/79/).", "title": "Improve the behavior of TopicList and ServiceList", "destination": {"commit": {"hash": "837e62512476", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/837e62512476.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/837e62512476"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "25101350d37c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/25101350d37c.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/25101350d37c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "improve_topic_list"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-06T02:57:24.167446+00:00"}, "pull_request": {"type": "pullrequest", "id": 105, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/105.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/105"}}, "title": "Improve the behavior of TopicList and ServiceList"}}]}