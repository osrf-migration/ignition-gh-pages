{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/366/comments/98028256.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/366/_/diff#comment-98028256"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 366, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/366.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/366"}}, "title": "Start of C interface to transport"}, "content": {"raw": "I have a few suggestions in the [c\\_iface\\_caguero](#!/ignitionrobotics/ign-transport/branches/compare/c_iface_caguero%0Dc_iface#diff) branch. The main changes are:\n\n* Avoid the `static` variables.\n* Create a struct that stores the real transport node and all its publishers.\n* A new `ignTransportNodeCreate()` and `ignTransportNodeDestroy()` functions that create and destroy these C transport nodes.\n\nOne more comment about this interface. The examples are compiling using a C\\+\\+ compiler and not a C compiler. Protobuf doesn\u2019t officially generate C code. I know that there are unofficial options but are probably out of our scope. In my opinion the examples are still useful but might confuse some users if they think that they can actually compile them using a C compiler.\n\nMaybe is enough if we add a note at the top of these two examples clarifying that the code will not work with a C compiler unless you use Protobuf C generated code.", "markup": "markdown", "html": "<p>I have a few suggestions in the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/branches/compare/c_iface_caguero%0Dc_iface#diff\" rel=\"nofollow\">c_iface_caguero</a> branch. The main changes are:</p>\n<ul>\n<li>Avoid the <code>static</code> variables.</li>\n<li>Create a struct that stores the real transport node and all its publishers.</li>\n<li>A new <code>ignTransportNodeCreate()</code> and <code>ignTransportNodeDestroy()</code> functions that create and destroy these C transport nodes.</li>\n</ul>\n<p>One more comment about this interface. The examples are compiling using a C++ compiler and not a C compiler. Protobuf doesn\u2019t officially generate C code. I know that there are unofficial options but are probably out of our scope. In my opinion the examples are still useful but might confuse some users if they think that they can actually compile them using a C compiler.</p>\n<p>Maybe is enough if we add a note at the top of these two examples clarifying that the code will not work with a C compiler unless you use Protobuf C generated code.</p>", "type": "rendered"}, "created_on": "2019-04-08T23:55:19.354138+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2019-04-09T20:21:51.887605+00:00", "type": "pullrequest_comment", "id": 98028256}