{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/228/comments/53032175.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/228/_/diff#comment-53032175"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 228, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/228.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/228"}}, "title": "Update the signature of the responser callbacks"}, "content": {"raw": "On the [updated_service_cb_4_tictoc](#!/ignitionrobotics/ign-transport/branch/updated_service_cb_4_tictoc?dest=updated_service_cb_4#diff) branch you can find deprecated implementations of all the old functions (please let me know if any of them are missing).\n\nWhile working on this, I felt like we could improve the readability of the `Node` class a bit, so I created two more proposal branches:\n\n1. [updated_service_cb_4_tictoc_style](#!/ignitionrobotics/ign-transport/branch/updated_service_cb_4_tictoc_style?dest=updated_service_cb_4_tictoc#diff) changes the names of template parameters to hopefully make the functions easier for readers to understand.\n\n2. [updated_service_cb_4_tictoc_split_implementation](#!/ignitionrobotics/ign-transport/branch/updated_service_cb_4_tictoc_split_implementation?dest=updated_service_cb_4_tictoc_style#diff) goes a big step further and splits the function implementations into a header called `detail/Node.hh`. This reduces the size of `Node.hh` by ~37% and removes a lot of noise that is unnecessary (and potentially confusing) for users to look at. It's also much easier to skim through the file and see the many different signature options for functions like  `Subscribe`, `Advertise`, and `Request`.\n\nFor each of these branches I created an additional branch [[0](#!/ignitionrobotics/ign-transport/branch/updated_service_cb_4_tictoc_OldTest?dest=updated_service_cb_4_tictoc)], [[1](#!/ignitionrobotics/ign-transport/branch/updated_service_cb_4_tictoc_style_OldTest?dest=updated_service_cb_4_tictoc_style)], [[2](#!/ignitionrobotics/ign-transport/branch/updated_service_cb_4_tictoc_split_implementation_OldTest?dest=updated_service_cb_4_tictoc_split_implementation)] which ensures that these changes are backwards compatible with the old tests (note that the tests will correctly print out deprecation warnings while compiling). We should not merge any of these three test branches, but they are useful to have as a reference.\n\nI made three branches because I wasn't sure how much of these style changes we might want to keep. If we don't want any changes to style, then we can just merge in updated_service_cb_4_tictoc. If we're okay with changing the template parameter names, we can merge updated_service_cb_4_tictoc_style directly into this branch. If we want to split out the template function implementations, then we can merge updated_service_cb_4_tictoc_split_implementation directly into this branch.", "markup": "markdown", "html": "<p>On the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/branch/updated_service_cb_4_tictoc?dest=updated_service_cb_4#diff\" rel=\"nofollow\">updated_service_cb_4_tictoc</a> branch you can find deprecated implementations of all the old functions (please let me know if any of them are missing).</p>\n<p>While working on this, I felt like we could improve the readability of the <code>Node</code> class a bit, so I created two more proposal branches:</p>\n<ol>\n<li>\n<p><a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/branch/updated_service_cb_4_tictoc_style?dest=updated_service_cb_4_tictoc#diff\" rel=\"nofollow\">updated_service_cb_4_tictoc_style</a> changes the names of template parameters to hopefully make the functions easier for readers to understand.</p>\n</li>\n<li>\n<p><a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/branch/updated_service_cb_4_tictoc_split_implementation?dest=updated_service_cb_4_tictoc_style#diff\" rel=\"nofollow\">updated_service_cb_4_tictoc_split_implementation</a> goes a big step further and splits the function implementations into a header called <code>detail/Node.hh</code>. This reduces the size of <code>Node.hh</code> by ~37% and removes a lot of noise that is unnecessary (and potentially confusing) for users to look at. It's also much easier to skim through the file and see the many different signature options for functions like  <code>Subscribe</code>, <code>Advertise</code>, and <code>Request</code>.</p>\n</li>\n</ol>\n<p>For each of these branches I created an additional branch [<a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/branch/updated_service_cb_4_tictoc_OldTest?dest=updated_service_cb_4_tictoc\" rel=\"nofollow\">0</a>], [<a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/branch/updated_service_cb_4_tictoc_style_OldTest?dest=updated_service_cb_4_tictoc_style\" rel=\"nofollow\">1</a>], [<a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/branch/updated_service_cb_4_tictoc_split_implementation_OldTest?dest=updated_service_cb_4_tictoc_split_implementation\" rel=\"nofollow\">2</a>] which ensures that these changes are backwards compatible with the old tests (note that the tests will correctly print out deprecation warnings while compiling). We should not merge any of these three test branches, but they are useful to have as a reference.</p>\n<p>I made three branches because I wasn't sure how much of these style changes we might want to keep. If we don't want any changes to style, then we can just merge in updated_service_cb_4_tictoc. If we're okay with changing the template parameter names, we can merge updated_service_cb_4_tictoc_style directly into this branch. If we want to split out the template function implementations, then we can merge updated_service_cb_4_tictoc_split_implementation directly into this branch.</p>", "type": "rendered"}, "created_on": "2018-01-05T02:49:04.850734+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-01-05T02:50:46.006577+00:00", "type": "pullrequest_comment", "id": 53032175}