{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/172/comments/24217232.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/172/_/diff#comment-24217232"}}, "parent": {"id": 23877236, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/172/comments/23877236.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/172/_/diff#comment-23877236"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 172, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/172.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/172"}}, "title": "Request a service from the command line"}, "content": {"raw": "Agreed, we have the same problem when publishing messages from the command line using `ign`. It's only possible for messages declared in `ign-msgs`. I think your approach is doable but we can leave it for a future pull request if you agree, since it'll take some time, although is really interesting.\n\nThis was the first part of the problem and we solved it using the factory that `ign-msgs` provides at the cost of restricting the messages to the ones contained in the library. The second problem is the fact that `ReqHandler` requires a specific type and not a generic `google::protobuf::message`. This was tackled with the creation of a template specialization for `ReqHandler` when `[Req=google::protobuf::message]` and `[Rep=google::protobuf::message]`. It duplicates some code but I cannot think other solution right now. I leave it here for the record, because @nkoenig and I talked and seems reasonable.", "markup": "markdown", "html": "<p>Agreed, we have the same problem when publishing messages from the command line using <code>ign</code>. It's only possible for messages declared in <code>ign-msgs</code>. I think your approach is doable but we can leave it for a future pull request if you agree, since it'll take some time, although is really interesting.</p>\n<p>This was the first part of the problem and we solved it using the factory that <code>ign-msgs</code> provides at the cost of restricting the messages to the ones contained in the library. The second problem is the fact that <code>ReqHandler</code> requires a specific type and not a generic <code>google::protobuf::message</code>. This was tackled with the creation of a template specialization for <code>ReqHandler</code> when <code>[Req=google::protobuf::message]</code> and <code>[Rep=google::protobuf::message]</code>. It duplicates some code but I cannot think other solution right now. I leave it here for the record, because @nkoenig and I talked and seems reasonable.</p>", "type": "rendered"}, "created_on": "2016-09-23T21:00:35.211593+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2016-09-23T21:00:35.227775+00:00", "type": "pullrequest_comment", "id": 24217232}