{"pagelen": 50, "values": [{"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (6)\r\n     acquire Discovery mutex (7 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5)\r\n       NodeShared::OnNewSrvConnection() (8)\r\n         acquire NodeShared mutex (9 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (6-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5 - Wait)\r\n       NodeShared::OnNewSrvConnection() (7)\r\n         acquire NodeShared mutex (8)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/47/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/47/).\r\n* Windows is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/89/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "fad589bef008", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/fad589bef008.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/fad589bef008"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "Not needed. See pull request #111 instead.", "source": {"commit": {"hash": "bb350da12654", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/bb350da12654.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/bb350da12654"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "DECLINED", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-03-03T20:35:12.480454+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (6)\r\n     acquire Discovery mutex (7 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5)\r\n       NodeShared::OnNewSrvConnection() (8)\r\n         acquire NodeShared mutex (9 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (6-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5 - Wait)\r\n       NodeShared::OnNewSrvConnection() (7)\r\n         acquire NodeShared mutex (8)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/47/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/47/).\r\n* Windows is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/89/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "4be55254b5d6", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/4be55254b5d6.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/4be55254b5d6"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "bb350da12654", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/bb350da12654.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/bb350da12654"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-24T01:03:42.546935+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (6)\r\n     acquire Discovery mutex (7 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5)\r\n       NodeShared::OnNewSrvConnection() (8)\r\n         acquire NodeShared mutex (9 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (6-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5 - Wait)\r\n       NodeShared::OnNewSrvConnection() (7)\r\n         acquire NodeShared mutex (8)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/47/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/41/).\r\n* Windows is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/89/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "4be55254b5d6", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/4be55254b5d6.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/4be55254b5d6"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "bb350da12654", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/bb350da12654.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/bb350da12654"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-24T00:46:55.491713+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"approval": {"date": "2016-02-11T18:34:19.719917+00:00", "pullrequest": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (6)\r\n     acquire Discovery mutex (7 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5)\r\n       NodeShared::OnNewSrvConnection() (8)\r\n         acquire NodeShared mutex (9 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (6-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5 - Wait)\r\n       NodeShared::OnNewSrvConnection() (7)\r\n         acquire NodeShared mutex (8)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/47/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/41/).\r\n* Windows is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/89/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "cc2bf6f3282a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/cc2bf6f3282a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/cc2bf6f3282a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T22:07:20.238546+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (6)\r\n     acquire Discovery mutex (7 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5)\r\n       NodeShared::OnNewSrvConnection() (8)\r\n         acquire NodeShared mutex (9 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (6-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5 - Wait)\r\n       NodeShared::OnNewSrvConnection() (7)\r\n         acquire NodeShared mutex (8)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/47/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/40/).\r\n* Windows is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/89/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "cc2bf6f3282a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/cc2bf6f3282a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/cc2bf6f3282a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T22:06:13.081813+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (6)\r\n     acquire Discovery mutex (7 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5)\r\n       NodeShared::OnNewSrvConnection() (8)\r\n         acquire NodeShared mutex (9 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (6-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5 - Wait)\r\n       NodeShared::OnNewSrvConnection() (7)\r\n         acquire NodeShared mutex (8)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/47/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/40/).\r\n* Windows is [happy](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/89/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "1eca497eebd8", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1eca497eebd8.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1eca497eebd8"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T20:38:04.174627+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (6)\r\n     acquire Discovery mutex (7 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5)\r\n       NodeShared::OnNewSrvConnection() (8)\r\n         acquire NodeShared mutex (9 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (6-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5 - Wait)\r\n       NodeShared::OnNewSrvConnection() (7)\r\n         acquire NodeShared mutex (8)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/47/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/40/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/89/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "1eca497eebd8", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1eca497eebd8.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1eca497eebd8"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T19:50:02.654134+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (6)\r\n     acquire Discovery mutex (7 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5)\r\n       NodeShared::OnNewSrvConnection() (8)\r\n         acquire NodeShared mutex (9 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (6-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n RecvDiscoveryUpdate() (3)\r\n   DispatchDiscoveryMsg() (4)\r\n     acquire Discovery mutex (5 - Wait)\r\n       NodeShared::OnNewSrvConnection() (7)\r\n         acquire NodeShared mutex (8)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/47/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/40/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/89/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "1eca497eebd8", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1eca497eebd8.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1eca497eebd8"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T19:49:27.713979+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (7)\r\n     acquire Discovery mutex (8 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n Node::Publish() (3)\r\n   RecvDiscoveryUpdate() (4)\r\n     DispatchDiscoveryMsg() (5)\r\n       acquire Discovery mutex (6)\r\n         NodeShared::OnNewSrvConnection() (9)\r\n           acquire NodeShared mutex (10 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (7-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n Node::Publish() (3)\r\n   RecvDiscoveryUpdate() (4)\r\n     DispatchDiscoveryMsg() (5)\r\n       acquire Discovery mutex (6 - Wait)\r\n         NodeShared::OnNewSrvConnection() (8)\r\n           acquire NodeShared mutex (9)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/47/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/40/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/89/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "1eca497eebd8", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1eca497eebd8.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1eca497eebd8"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T19:47:55.259208+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (7)\r\n     acquire Discovery mutex (8 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n Node::Publish() (3)\r\n   RecvDiscoveryUpdate() (4)\r\n     DispatchDiscoveryMsg() (5)\r\n       acquire Discovery mutex (6)\r\n         NodeShared::OnNewSrvConnection() (9)\r\n           acquire NodeShared mutex (10 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (7-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n Node::Publish() (3)\r\n   RecvDiscoveryUpdate() (4)\r\n     DispatchDiscoveryMsg() (5)\r\n       acquire Discovery mutex (6 - Wait)\r\n         NodeShared::OnNewSrvConnection() (8)\r\n           acquire NodeShared mutex (9)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/40/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/47/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/48/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "1eca497eebd8", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1eca497eebd8.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1eca497eebd8"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T19:43:01.408821+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (7)\r\n     acquire Discovery mutex (8 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n Node::Publish() (3)\r\n   RecvDiscoveryUpdate() (4)\r\n     DispatchDiscoveryMsg() (5)\r\n       acquire Discovery mutex (6)\r\n         NodeShared::OnNewSrvConnection() (9)\r\n           acquire NodeShared mutex (10 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (7-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n Node::Publish() (3)\r\n   RecvDiscoveryUpdate() (4)\r\n     DispatchDiscoveryMsg() (5)\r\n       acquire Discovery mutex (6 - Wait)\r\n         NodeShared::OnNewSrvConnection() (8)\r\n           acquire NodeShared mutex (9)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "1eca497eebd8", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1eca497eebd8.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1eca497eebd8"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T19:42:13.590416+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (7)\r\n     acquire Discovery mutex (8 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n Node::Publish() (3)\r\n   RecvDiscoveryUpdate() (4)\r\n     DispatchDiscoveryMsg() (5)\r\n       acquire Discovery mutex (6)\r\n         NodeShared::OnNewSrvConnection() (9)\r\n           acquire NodeShared mutex (10 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (7-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n Node::Publish() (3)\r\n   RecvDiscoveryUpdate() (4)\r\n     DispatchDiscoveryMsg() (5)\r\n       acquire Discovery mutex (6 - Wait)\r\n         NodeShared::OnNewSrvConnection() (8)\r\n           acquire NodeShared mutex (9)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "29858615a6b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/29858615a6b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/29858615a6b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "1eca497eebd8", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1eca497eebd8.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1eca497eebd8"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T19:42:13.519901+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (7)\r\n     acquire Discovery mutex (8 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n Node::Publish() (3)\r\n   RecvDiscoveryUpdate() (4)\r\n     DispatchDiscoveryMsg() (5)\r\n       acquire Discovery mutex (6)\r\n         NodeShared::OnNewSrvConnection() (9)\r\n           acquire NodeShared mutex (10 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (7-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n Node::Publish() (3)\r\n   RecvDiscoveryUpdate() (4)\r\n     DispatchDiscoveryMsg() (5)\r\n       acquire Discovery mutex (6 - Wait)\r\n         NodeShared::OnNewSrvConnection() (8)\r\n           acquire NodeShared mutex (9)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "929a53af133a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/929a53af133a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/929a53af133a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "1eca497eebd8", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1eca497eebd8.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1eca497eebd8"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T19:42:00.906716+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}, {"update": {"description": "There's a potential deadlock in the following scenario (numbers show the order of execution):\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex (2)\r\n   Discovery::DiscoveryMsgInfo() (7)\r\n     acquire Discovery mutex (8 - Wait)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n Node::Publish() (3)\r\n   RecvDiscoveryUpdate() (4)\r\n     DispatchDiscoveryMsg() (5)\r\n       acquire Discovery mutex (6)\r\n         NodeShared::OnNewSrvConnection() (9)\r\n           acquire NodeShared mutex (10 - Deadlock!)\r\n```\r\n\r\nThis pull request modifies `Publish()` for acquiring NodeShared and Discovery mutexes at the same time:\r\n\r\n* Thread1 (userland):\r\n  \r\n```\r\n#!c++\r\n\r\n Node::Publish() (1)\r\n   acquire NodeShared mutex and Discovery (2)\r\n   Discovery::DiscoveryMsgInfo() (7-Release mutexes)\r\n```\r\n\r\n* Thread2 (Discovery):\r\n\r\n```\r\n#!c++\r\n\r\n Node::Publish() (3)\r\n   RecvDiscoveryUpdate() (4)\r\n     DispatchDiscoveryMsg() (5)\r\n       acquire Discovery mutex (6 - Wait)\r\n         NodeShared::OnNewSrvConnection() (8)\r\n           acquire NodeShared mutex (9)\r\n```\r\n\r\nCI results:\r\n\r\n* Trusty is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-trusty-amd64/45/).\r\n* Homebrew is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-homebrew-amd64/38/).\r\n* Windows is [pending](http://build.osrfoundation.org/view/main/view/ignition/job/ignition_transport-ci-pr_any-windows7-amd64/81/).", "title": "Fix potential deadlock during Publish()", "destination": {"commit": {"hash": "929a53af133a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/929a53af133a.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/929a53af133a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "ign-transport1"}}, "reason": "", "source": {"commit": {"hash": "1eca497eebd8", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/commit/1eca497eebd8.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/commits/1eca497eebd8"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "branch": {"name": "fix_deadlock"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2016-02-10T19:42:00.848957+00:00"}, "pull_request": {"type": "pullrequest", "id": 107, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/pullrequests/107.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/pull-requests/107"}}, "title": "Fix potential deadlock during Publish()"}}]}