{"pagelen": 100, "previous": "data/repositories/ignitionrobotics/ign-transport/issues_page=1.json", "values": [{"priority": "critical", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/101/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/101.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/101/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/101/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/101/remove-nodeshared-singleton"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/101/vote"}}, "reporter": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "title": "Remove NodeShared singleton", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Summary\r\n\r\nNodeShared is a singleton, which can lead to runtime problems particularly during shutdown. One problem occurs when two nodes are in the same process, with one node publishing messages that the other node consumes and then publishes new messages. I see a segfault when running this code (#!/ignitionrobotics/ign-launch/commits/11b5830128da4561711a043c6450545a7b90c0a4) with this configuration file( #!/ignitionrobotics/ign-launch/commits/11b5830128da4561711a043c6450545a7b90c0a4#chg-config/gazebo.ign). When this version of `ign-launch` is installed, you can test using `ign launch -f config/gazebo.ign`. \r\n\r\n\r\n# Motivation\r\n\r\nIn addition to the above error, we are trying to remove singletons from our code base. For reasons see https://stackoverflow.com/questions/137975/what-is-so-bad-about-singletons/138012#138012 and https://cocoacasts.com/are-singletons-bad.\r\n\r\n# Describe alternatives you've considered\r\n\r\nI think @caguero mentioned that we could potentially use features built into ZeroMq to avoid the NodeShared singleton.", "markup": "markdown", "html": "<h1 id=\"markdown-header-summary\">Summary</h1>\n<p>NodeShared is a singleton, which can lead to runtime problems particularly during shutdown. One problem occurs when two nodes are in the same process, with one node publishing messages that the other node consumes and then publishes new messages. I see a segfault when running this code (<a href=\"#!/ignitionrobotics/ign-launch/commits/11b5830128da4561711a043c6450545a7b90c0a4\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-launch/commits/11b5830128da4561711a043c6450545a7b90c0a4</a>) with this configuration file( <a href=\"#!/ignitionrobotics/ign-launch/commits/11b5830128da4561711a043c6450545a7b90c0a4#chg-config/gazebo.ign\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-launch/commits/11b5830128da4561711a043c6450545a7b90c0a4#chg-config/gazebo.ign</a>). When this version of <code>ign-launch</code> is installed, you can test using <code>ign launch -f config/gazebo.ign</code>. </p>\n<h1 id=\"markdown-header-motivation\">Motivation</h1>\n<p>In addition to the above error, we are trying to remove singletons from our code base. For reasons see <a href=\"https://stackoverflow.com/questions/137975/what-is-so-bad-about-singletons/138012#138012\" rel=\"nofollow\" class=\"ap-connect-link\">https://stackoverflow.com/questions/137975/what-is-so-bad-about-singletons/138012#138012</a> and <a href=\"https://cocoacasts.com/are-singletons-bad\" rel=\"nofollow\" class=\"ap-connect-link\">https://cocoacasts.com/are-singletons-bad</a>.</p>\n<h1 id=\"markdown-header-describe-alternatives-youve-considered\">Describe alternatives you've considered</h1>\n<p>I think @caguero mentioned that we could potentially use features built into ZeroMq to avoid the NodeShared singleton.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-02-04T20:52:15.260122+00:00", "milestone": null, "updated_on": "2019-02-04T20:52:15.260122+00:00", "type": "issue", "id": 101}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/102/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/102.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/102/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/102/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/102/installing-from-debs-doesnt-allow-to-use"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/102/vote"}}, "reporter": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "title": "Installing from debs doesn't allow to use ign topic commands", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Description \r\n\r\nInstalling from debs doesn't allow to use `ign topic` commands.\r\n\r\n# Steps to Reproduce\r\n\r\nInstall from debs `libignition-transport6` and `libignition-transport6-dev` in Ubuntu bionic (18.04)\r\n\r\n**Expected behavior:**  \r\n\r\nign help shows the topic plugin available. It is possible to listen to ign topics using `ign topic`\r\n\r\n**Actual behavior:**\r\n\r\n`ign topic` command is not recognized. Instead the following message appears:\r\n\r\n```\r\n$ ign topic --versions\r\nThe 'ign' command provides a command line interface to the ignition tools.\r\n\r\n  ign <command> [options]\r\n\r\nList of available commands:\r\n\r\n  help:          Print this help text.\r\n  msg:           Print information about messages.\r\n  sdf:           Utilities for SDF files.\r\n\r\nOptions:\r\n\r\n  --force-version <VERSION>  Use a specific library version.\r\n  --versions                 Show the available versions.\r\nUse 'ign help <command>' to print help for a command.\r\n```\r\n\r\n**Reproduces how often:** \r\n\r\nAlways\r\n\r\n# Versions\r\n\r\n6.0.0~pre2-2\r\n\r\n# Additional Information\r\n\r\nThe problem is fixed installing from sources with this settings:\r\n```\r\nexport IGN_CONFIG_PATH=/usr/local/share/ignition\r\n```\r\nTalking with @caguero we found out that this is because transport6.yaml is not installed into /usr/share/ignition/.\r\n\r\nIt is actually not in the deb package:\r\n\r\n```\r\n/tmp/trans6$ find .\r\n.\r\n./usr\r\n./usr/include\r\n./usr/include/ignition\r\n./usr/include/ignition/transport6\r\n./usr/include/ignition/transport6/ignition\r\n./usr/include/ignition/transport6/ignition/transport\r\n./usr/include/ignition/transport6/ignition/transport/ign.hh\r\n./usr/include/ignition/transport6/ignition/transport/ReqHandler.hh\r\n./usr/include/ignition/transport6/ignition/transport/TopicUtils.hh\r\n./usr/include/ignition/transport6/ignition/transport/AdvertiseOptions.hh\r\n./usr/include/ignition/transport6/ignition/transport/Packet.hh\r\n./usr/include/ignition/transport6/ignition/transport/Helpers.hh\r\n./usr/include/ignition/transport6/ignition/transport/NodeOptions.hh\r\n./usr/include/ignition/transport6/ignition/transport/Publisher.hh\r\n./usr/include/ignition/transport6/ignition/transport/TopicStorage.hh\r\n./usr/include/ignition/transport6/ignition/transport/SubscriptionHandler.hh\r\n./usr/include/ignition/transport6/ignition/transport/NetUtils.hh\r\n./usr/include/ignition/transport6/ignition/transport/Export.hh\r\n./usr/include/ignition/transport6/ignition/transport/Discovery.hh\r\n./usr/include/ignition/transport6/ignition/transport/Node.hh\r\n./usr/include/ignition/transport6/ignition/transport/HandlerStorage.hh\r\n./usr/include/ignition/transport6/ignition/transport/TransportTypes.hh\r\n./usr/include/ignition/transport6/ignition/transport/SubscribeOptions.hh\r\n./usr/include/ignition/transport6/ignition/transport/Clock.hh\r\n./usr/include/ignition/transport6/ignition/transport/RepHandler.hh\r\n./usr/include/ignition/transport6/ignition/transport/NodeShared.hh\r\n./usr/include/ignition/transport6/ignition/transport/log\r\n./usr/include/ignition/transport6/ignition/transport/log/QualifiedTime.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/SqlStatement.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Recorder.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Batch.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/MsgIter.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/QueryOptions.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Message.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Playback.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Export.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Log.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/detail\r\n./usr/include/ignition/transport6/ignition/transport/log/detail/QueryOptions.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/detail/Export.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Descriptor.hh\r\n./usr/include/ignition/transport6/ignition/transport/log.hh\r\n./usr/include/ignition/transport6/ignition/transport/MessageInfo.hh\r\n./usr/include/ignition/transport6/ignition/transport/Uuid.hh\r\n./usr/include/ignition/transport6/ignition/transport/detail\r\n./usr/include/ignition/transport6/ignition/transport/detail/Export.hh\r\n./usr/include/ignition/transport6/ignition/transport/detail/Node.hh\r\n./usr/include/ignition/transport6/ignition/transport/config.hh\r\n./usr/include/ignition/transport6/ignition/transport.hh\r\n./usr/lib\r\n./usr/lib/ruby\r\n./usr/lib/ruby/ignition\r\n./usr/lib/ruby/ignition/cmdtransport6.rb\r\n./usr/lib/ruby/ignition/cmdlog6.rb\r\n./usr/lib/x86_64-linux-gnu\r\n./usr/lib/x86_64-linux-gnu/libignition-transport6.so.6\r\n./usr/lib/x86_64-linux-gnu/libignition-transport6-log.so\r\n./usr/lib/x86_64-linux-gnu/cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-config.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-config-version.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-targets-relwithdebinfo.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-targets.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all/ignition-transport6-all-config.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all/ignition-transport6-all-targets.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all/ignition-transport6-all-config-version.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-config.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-targets.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-targets-relwithdebinfo.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-config-version.cmake\r\n./usr/lib/x86_64-linux-gnu/libignition-transport6-log.so.6.0.0~pre2\r\n./usr/lib/x86_64-linux-gnu/libignition-transport6.so\r\n./usr/lib/x86_64-linux-gnu/pkgconfig\r\n./usr/lib/x86_64-linux-gnu/pkgconfig/ignition-transport6.pc\r\n./usr/lib/x86_64-linux-gnu/pkgconfig/ignition-transport6-log.pc\r\n./usr/lib/x86_64-linux-gnu/libignition-transport6.so.6.0.0~pre2\r\n./usr/lib/x86_64-linux-gnu/libignition-transport6-log.so.6\r\n./usr/share\r\n./usr/share/doc\r\n./usr/share/doc/libignition-transport6\r\n./usr/share/doc/libignition-transport6/NEWS.gz\r\n./usr/share/doc/libignition-transport6/AUTHORS\r\n./usr/share/doc/libignition-transport6/changelog.Debian.gz\r\n./usr/share/doc/libignition-transport6/README.md\r\n./usr/share/doc/libignition-transport6/copyright\r\n./usr/share/doc/libignition-transport6-dev\r\n./usr/share/doc/libignition-transport6-dev/changelog.Debian.gz\r\n./usr/share/doc/libignition-transport6-dev/copyright\r\n./usr/share/ignition\r\n./usr/share/ignition/ignition-transport6_0\r\n./usr/share/ignition/ignition-transport6_0/ignition-transport6.tag.xml\r\n./usr/share/ignition/ignition-transport6\r\n./usr/share/ignition/ignition-transport6/sql\r\n./usr/share/ignition/ignition-transport6/sql/0.1.0.sql\r\n```\r\n\r\n@_jrivero_ any ideas what is hapening here?", "markup": "markdown", "html": "<h1 id=\"markdown-header-description\">Description</h1>\n<p>Installing from debs doesn't allow to use <code>ign topic</code> commands.</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to Reproduce</h1>\n<p>Install from debs <code>libignition-transport6</code> and <code>libignition-transport6-dev</code> in Ubuntu bionic (18.04)</p>\n<p><strong>Expected behavior:</strong>  </p>\n<p>ign help shows the topic plugin available. It is possible to listen to ign topics using <code>ign topic</code></p>\n<p><strong>Actual behavior:</strong></p>\n<p><code>ign topic</code> command is not recognized. Instead the following message appears:</p>\n<div class=\"codehilite\"><pre><span></span>$ ign topic --versions\nThe <span class=\"s1\">&#39;ign&#39;</span> <span class=\"nb\">command</span> provides a <span class=\"nb\">command</span> line interface to the ignition tools.\n\n  ign &lt;command&gt; <span class=\"o\">[</span>options<span class=\"o\">]</span>\n\nList of available commands:\n\n  help:          Print this <span class=\"nb\">help</span> text.\n  msg:           Print information about messages.\n  sdf:           Utilities <span class=\"k\">for</span> SDF files.\n\nOptions:\n\n  --force-version &lt;VERSION&gt;  Use a specific library version.\n  --versions                 Show the available versions.\nUse <span class=\"s1\">&#39;ign help &lt;command&gt;&#39;</span> to print <span class=\"nb\">help</span> <span class=\"k\">for</span> a command.\n</pre></div>\n\n\n<p><strong>Reproduces how often:</strong> </p>\n<p>Always</p>\n<h1 id=\"markdown-header-versions\">Versions</h1>\n<p>6.0.0~pre2-2</p>\n<h1 id=\"markdown-header-additional-information\">Additional Information</h1>\n<p>The problem is fixed installing from sources with this settings:</p>\n<div class=\"codehilite\"><pre><span></span>export IGN_CONFIG_PATH=/usr/local/share/ignition\n</pre></div>\n\n\n<p>Talking with @caguero we found out that this is because transport6.yaml is not installed into /usr/share/ignition/.</p>\n<p>It is actually not in the deb package:</p>\n<div class=\"codehilite\"><pre><span></span>/tmp/trans6$ find .\n.\n./usr\n./usr/include\n./usr/include/ignition\n./usr/include/ignition/transport6\n./usr/include/ignition/transport6/ignition\n./usr/include/ignition/transport6/ignition/transport\n./usr/include/ignition/transport6/ignition/transport/ign.hh\n./usr/include/ignition/transport6/ignition/transport/ReqHandler.hh\n./usr/include/ignition/transport6/ignition/transport/TopicUtils.hh\n./usr/include/ignition/transport6/ignition/transport/AdvertiseOptions.hh\n./usr/include/ignition/transport6/ignition/transport/Packet.hh\n./usr/include/ignition/transport6/ignition/transport/Helpers.hh\n./usr/include/ignition/transport6/ignition/transport/NodeOptions.hh\n./usr/include/ignition/transport6/ignition/transport/Publisher.hh\n./usr/include/ignition/transport6/ignition/transport/TopicStorage.hh\n./usr/include/ignition/transport6/ignition/transport/SubscriptionHandler.hh\n./usr/include/ignition/transport6/ignition/transport/NetUtils.hh\n./usr/include/ignition/transport6/ignition/transport/Export.hh\n./usr/include/ignition/transport6/ignition/transport/Discovery.hh\n./usr/include/ignition/transport6/ignition/transport/Node.hh\n./usr/include/ignition/transport6/ignition/transport/HandlerStorage.hh\n./usr/include/ignition/transport6/ignition/transport/TransportTypes.hh\n./usr/include/ignition/transport6/ignition/transport/SubscribeOptions.hh\n./usr/include/ignition/transport6/ignition/transport/Clock.hh\n./usr/include/ignition/transport6/ignition/transport/RepHandler.hh\n./usr/include/ignition/transport6/ignition/transport/NodeShared.hh\n./usr/include/ignition/transport6/ignition/transport/log\n./usr/include/ignition/transport6/ignition/transport/log/QualifiedTime.hh\n./usr/include/ignition/transport6/ignition/transport/log/SqlStatement.hh\n./usr/include/ignition/transport6/ignition/transport/log/Recorder.hh\n./usr/include/ignition/transport6/ignition/transport/log/Batch.hh\n./usr/include/ignition/transport6/ignition/transport/log/MsgIter.hh\n./usr/include/ignition/transport6/ignition/transport/log/QueryOptions.hh\n./usr/include/ignition/transport6/ignition/transport/log/Message.hh\n./usr/include/ignition/transport6/ignition/transport/log/Playback.hh\n./usr/include/ignition/transport6/ignition/transport/log/Export.hh\n./usr/include/ignition/transport6/ignition/transport/log/Log.hh\n./usr/include/ignition/transport6/ignition/transport/log/detail\n./usr/include/ignition/transport6/ignition/transport/log/detail/QueryOptions.hh\n./usr/include/ignition/transport6/ignition/transport/log/detail/Export.hh\n./usr/include/ignition/transport6/ignition/transport/log/Descriptor.hh\n./usr/include/ignition/transport6/ignition/transport/log.hh\n./usr/include/ignition/transport6/ignition/transport/MessageInfo.hh\n./usr/include/ignition/transport6/ignition/transport/Uuid.hh\n./usr/include/ignition/transport6/ignition/transport/detail\n./usr/include/ignition/transport6/ignition/transport/detail/Export.hh\n./usr/include/ignition/transport6/ignition/transport/detail/Node.hh\n./usr/include/ignition/transport6/ignition/transport/config.hh\n./usr/include/ignition/transport6/ignition/transport.hh\n./usr/lib\n./usr/lib/ruby\n./usr/lib/ruby/ignition\n./usr/lib/ruby/ignition/cmdtransport6.rb\n./usr/lib/ruby/ignition/cmdlog6.rb\n./usr/lib/x86_64-linux-gnu\n./usr/lib/x86_64-linux-gnu/libignition-transport6.so.6\n./usr/lib/x86_64-linux-gnu/libignition-transport6-log.so\n./usr/lib/x86_64-linux-gnu/cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-config.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-config-version.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-targets-relwithdebinfo.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-targets.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all/ignition-transport6-all-config.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all/ignition-transport6-all-targets.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all/ignition-transport6-all-config-version.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-config.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-targets.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-targets-relwithdebinfo.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-config-version.cmake\n./usr/lib/x86_64-linux-gnu/libignition-transport6-log.so.6.0.0~pre2\n./usr/lib/x86_64-linux-gnu/libignition-transport6.so\n./usr/lib/x86_64-linux-gnu/pkgconfig\n./usr/lib/x86_64-linux-gnu/pkgconfig/ignition-transport6.pc\n./usr/lib/x86_64-linux-gnu/pkgconfig/ignition-transport6-log.pc\n./usr/lib/x86_64-linux-gnu/libignition-transport6.so.6.0.0~pre2\n./usr/lib/x86_64-linux-gnu/libignition-transport6-log.so.6\n./usr/share\n./usr/share/doc\n./usr/share/doc/libignition-transport6\n./usr/share/doc/libignition-transport6/NEWS.gz\n./usr/share/doc/libignition-transport6/AUTHORS\n./usr/share/doc/libignition-transport6/changelog.Debian.gz\n./usr/share/doc/libignition-transport6/README.md\n./usr/share/doc/libignition-transport6/copyright\n./usr/share/doc/libignition-transport6-dev\n./usr/share/doc/libignition-transport6-dev/changelog.Debian.gz\n./usr/share/doc/libignition-transport6-dev/copyright\n./usr/share/ignition\n./usr/share/ignition/ignition-transport6_0\n./usr/share/ignition/ignition-transport6_0/ignition-transport6.tag.xml\n./usr/share/ignition/ignition-transport6\n./usr/share/ignition/ignition-transport6/sql\n./usr/share/ignition/ignition-transport6/sql/0.1.0.sql\n</pre></div>\n\n\n<p>@<em>jrivero</em> any ideas what is hapening here?</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-02-05T22:31:45.991008+00:00", "milestone": null, "updated_on": "2019-02-06T05:32:59.524796+00:00", "type": "issue", "id": 102}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/103/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/103.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/103/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/103/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/103/flaky-tests"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/103/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Flaky tests", "component": null, "votes": 0, "watches": 1, "content": {"raw": "## twoProcPubSub.SubThrottled on homebrew\r\n\r\nhttps://build.osrfoundation.org/job/ignition_transport-ci-default-homebrew-amd64/159/testReport/(root)/twoProcPubSub/SubThrottled/history/\r\n\r\n* As of 2019-04-15\r\n* Failed 2/4\r\n* Passed 2/4\r\n* 50% pass rate\r\n\r\n~~~\r\ntest/integration/twoProcsPubSub.cc:385\r\nExpected equality of these values:\r\n  counter\r\n    Which is: 3\r\n  2\r\n~~~\r\n\r\n## ignTest.TopicList on Ubuntu (Jenkins)\r\n\r\n* As of 2019-04-18\r\n* Failed 2/14\r\n* Passed 12/14\r\n* 86% pass rate\r\n\r\n~~~\r\n/var/lib/jenkins/workspace/ignition_transport-ci-pr_any-ubuntu_auto-amd64/ign-transport/src/ign_TEST.cc:100\r\nValue of: topicFound\r\n  Actual: false\r\nExpected: true\r\n~~~", "markup": "markdown", "html": "<h2 id=\"markdown-header-twoprocpubsubsubthrottled-on-homebrew\">twoProcPubSub.SubThrottled on homebrew</h2>\n<p><a href=\"https://build.osrfoundation.org/job/ignition_transport-ci-default-homebrew-amd64/159/testReport/(root)/twoProcPubSub/SubThrottled/history/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/ignition_transport-ci-default-homebrew-amd64/159/testReport/(root)/twoProcPubSub/SubThrottled/history/</a></p>\n<ul>\n<li>As of 2019-04-15</li>\n<li>Failed 2/4</li>\n<li>Passed 2/4</li>\n<li>50% pass rate</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>test/integration/twoProcsPubSub.cc:385\nExpected equality of these values:\n  counter\n    Which is: 3\n  2\n</pre></div>\n\n\n<h2 id=\"markdown-header-igntesttopiclist-on-ubuntu-jenkins\">ignTest.TopicList on Ubuntu (Jenkins)</h2>\n<ul>\n<li>As of 2019-04-18</li>\n<li>Failed 2/14</li>\n<li>Passed 12/14</li>\n<li>86% pass rate</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>/var/lib/jenkins/workspace/ignition_transport-ci-pr_any-ubuntu_auto-amd64/ign-transport/src/ign_TEST.cc:100\nValue of: topicFound\n  Actual: false\nExpected: true\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-04-16T02:30:17.377214+00:00", "milestone": null, "updated_on": "2019-04-18T22:43:28.687789+00:00", "type": "issue", "id": 103}, {"priority": "major", "kind": "task", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/104/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/104.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/104/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/104/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/104/command-line-tools-on-windows"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/104/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Command line tools on Windows", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Description \r\n\r\nWe haven't verified that the command line tools work on Windows, and on pull request #375 they're being skipped.\r\n\r\n# Steps to Reproduce\r\n\r\n1. Install on Windows\r\n1. Try some command, such as `ign topic -l`\r\n\r\n**Expected behavior:**  \r\n\r\nNo errors printed \r\n\r\n**Actual behavior:**\r\n\r\nUnknown\r\n\r\n**Reproduces how often:** \r\n\r\nUnknown\r\n\r\n# Versions\r\n\r\nAll", "markup": "markdown", "html": "<h1 id=\"markdown-header-description\">Description</h1>\n<p>We haven't verified that the command line tools work on Windows, and on <a href=\"#!/ignitionrobotics/ign-transport/pull-requests/375/testing-popen-pclose-fix-for-windows\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #375</a> they're being skipped.</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to Reproduce</h1>\n<ol>\n<li>Install on Windows</li>\n<li>Try some command, such as <code>ign topic -l</code></li>\n</ol>\n<p><strong>Expected behavior:</strong>  </p>\n<p>No errors printed </p>\n<p><strong>Actual behavior:</strong></p>\n<p>Unknown</p>\n<p><strong>Reproduces how often:</strong> </p>\n<p>Unknown</p>\n<h1 id=\"markdown-header-versions\">Versions</h1>\n<p>All</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-04-18T17:59:07.143830+00:00", "milestone": null, "updated_on": "2019-04-18T17:59:07.143830+00:00", "type": "issue", "id": 104}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/105/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/105.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/105/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/105/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/105/talking-across-versions"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/105/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Talking across versions", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Description \r\n\r\nIt's possible to install 2 ign-transport versions side-by-side, but they don't seem to be able to talk to each other. Not sure if that's expected.\r\n\r\n# Steps to Reproduce\r\n\r\n1. Install `ign-transport6` and `ign-transport7`\r\n1. Clone branch [multi-version](#!/ignitionrobotics/ign-transport/commits/044316ae2cb1c9519f3e137bf295f2d8aefede0f), where I created a little example that has 2 publishers and 2 subscribers\r\n1. Compile the example:\r\n\r\n        cd multi-version\r\n        mkdir build\r\n        cd build\r\n        cmake ..\r\n        make\r\n\r\n1. On one terminal, start `subscriber6`:\r\n\r\n        cd build\r\n        ./subscriber6\r\n\r\n1. On another terminal, start `subscriber7`:\r\n\r\n        cd build\r\n        ./subscriber7\r\n\r\n1. On another terminal, start `publisher6`:\r\n\r\n        cd build\r\n        ./publisher6\r\n\r\n    Only `subscriber6` will receive the message\r\n\r\n1. Now try `publisher7`, and only `subscriber7` will receive the message.\r\n\r\n**Expected behavior:**  \r\n\r\nBoth subscribers receive messages from both publishers.\r\n\r\n**Actual behavior:**\r\n\r\nOnly pub/sub with matching versions can see each other.\r\n\r\n**Reproduces how often:** \r\n\r\n100%\r\n\r\n# Versions\r\n\r\nTested with 6/7\r\n\r\n# Additional Information\r\n\r\nAgain, I'm not sure if this is expected. If it is, we can close this issue, but be more strict with our transport / msgs versions on all Ignition libraries.", "markup": "markdown", "html": "<h1 id=\"markdown-header-description\">Description</h1>\n<p>It's possible to install 2 ign-transport versions side-by-side, but they don't seem to be able to talk to each other. Not sure if that's expected.</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to Reproduce</h1>\n<ol>\n<li>Install <code>ign-transport6</code> and <code>ign-transport7</code></li>\n<li>Clone branch <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/commits/044316ae2cb1c9519f3e137bf295f2d8aefede0f\" rel=\"nofollow\">multi-version</a>, where I created a little example that has 2 publishers and 2 subscribers</li>\n<li>\n<p>Compile the example:</p>\n<div class=\"codehilite\"><pre><span></span>cd multi-version\nmkdir build\ncd build\ncmake ..\nmake\n</pre></div>\n\n\n</li>\n<li>\n<p>On one terminal, start <code>subscriber6</code>:</p>\n<div class=\"codehilite\"><pre><span></span>cd build\n./subscriber6\n</pre></div>\n\n\n</li>\n<li>\n<p>On another terminal, start <code>subscriber7</code>:</p>\n<div class=\"codehilite\"><pre><span></span>cd build\n./subscriber7\n</pre></div>\n\n\n</li>\n<li>\n<p>On another terminal, start <code>publisher6</code>:</p>\n<div class=\"codehilite\"><pre><span></span>cd build\n./publisher6\n</pre></div>\n\n\n<p>Only <code>subscriber6</code> will receive the message</p>\n</li>\n<li>\n<p>Now try <code>publisher7</code>, and only <code>subscriber7</code> will receive the message.</p>\n</li>\n</ol>\n<p><strong>Expected behavior:</strong>  </p>\n<p>Both subscribers receive messages from both publishers.</p>\n<p><strong>Actual behavior:</strong></p>\n<p>Only pub/sub with matching versions can see each other.</p>\n<p><strong>Reproduces how often:</strong> </p>\n<p>100%</p>\n<h1 id=\"markdown-header-versions\">Versions</h1>\n<p>Tested with 6/7</p>\n<h1 id=\"markdown-header-additional-information\">Additional Information</h1>\n<p>Again, I'm not sure if this is expected. If it is, we can close this issue, but be more strict with our transport / msgs versions on all Ignition libraries.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-04-18T21:57:36.310455+00:00", "milestone": null, "updated_on": "2019-04-18T22:29:51.199090+00:00", "type": "issue", "id": 105}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/106/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/106.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/106/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/106/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/106/discovery-ignoring-eperm-and-enobufs"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/106/vote"}}, "reporter": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "title": "Discovery ignoring EPERM and ENOBUFS", "component": null, "votes": 0, "watches": 2, "content": {"raw": "# Prerequisites\r\n\r\n* [X] Put an X between the brackets on this line if you have done all of the following:\r\n    * Checked the Q&A board for common solutions: http://answers.gazebosim.org\r\n    * Checked that your issue isn't already filed.\r\n    * Checked that there is not already an Ignition package that provides the described functionality: https://ignitionrobotics.org/libs\r\n\r\n# Description \r\n\r\nThe `sendto` function in Discovery.hh was generating console error messages. These error messages were causing CI failures, and might be safely ignored. See pull request #379. \r\n\r\nTransport seems to functional in the presence of the error message. However, it would be good to spend time to convince ourselves that the error messages are indeed spurious, or find the root cause.\r\n\r\n# Steps to Reproduce\r\n\r\nPull request #379 has steps to reproduce.\r\n\r\n**Expected behavior:**  \r\n\r\nNo console error message\r\n\r\n**Actual behavior:**\r\n\r\nSporadic output of \"Exception sending a multicast message\".\r\n\r\n**Reproduces how often:** \r\n\r\nPeriodically.\r\n\r\n# Versions\r\n\r\nAt least Transport 6+", "markup": "markdown", "html": "<h1 id=\"markdown-header-prerequisites\">Prerequisites</h1>\n<ul>\n<li>[X] Put an X between the brackets on this line if you have done all of the following:<ul>\n<li>Checked the Q&amp;A board for common solutions: <a href=\"http://answers.gazebosim.org\" rel=\"nofollow\" class=\"ap-connect-link\">http://answers.gazebosim.org</a></li>\n<li>Checked that your issue isn't already filed.</li>\n<li>Checked that there is not already an Ignition package that provides the described functionality: <a href=\"https://ignitionrobotics.org/libs\" rel=\"nofollow\" class=\"ap-connect-link\">https://ignitionrobotics.org/libs</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"markdown-header-description\">Description</h1>\n<p>The <code>sendto</code> function in Discovery.hh was generating console error messages. These error messages were causing CI failures, and might be safely ignored. See <a href=\"#!/ignitionrobotics/ign-transport/pull-requests/379/added-error-output\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #379</a>. </p>\n<p>Transport seems to functional in the presence of the error message. However, it would be good to spend time to convince ourselves that the error messages are indeed spurious, or find the root cause.</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to Reproduce</h1>\n<p><a href=\"#!/ignitionrobotics/ign-transport/pull-requests/379/added-error-output\" rel=\"nofollow\" class=\"ap-connect-link\">Pull request #379</a> has steps to reproduce.</p>\n<p><strong>Expected behavior:</strong>  </p>\n<p>No console error message</p>\n<p><strong>Actual behavior:</strong></p>\n<p>Sporadic output of \"Exception sending a multicast message\".</p>\n<p><strong>Reproduces how often:</strong> </p>\n<p>Periodically.</p>\n<h1 id=\"markdown-header-versions\">Versions</h1>\n<p>At least Transport 6+</p>", "type": "rendered"}, "assignee": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-05-03T01:39:42.683811+00:00", "milestone": null, "updated_on": "2019-05-03T19:14:43.026809+00:00", "type": "issue", "id": 106}, {"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/107/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/107.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/107/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/107/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/107/unit_ign_test-timeout"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/107/vote"}}, "reporter": {"display_name": "Aniket Satbhai", "uuid": "{64b15ed6-8844-4943-bb45-85f47adf4e2d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B64b15ed6-8844-4943-bb45-85f47adf4e2d%7D"}, "html": {"href": "https://bitbucket.org/%7B64b15ed6-8844-4943-bb45-85f47adf4e2d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a5e2e893e42bec42838546c824f4faa5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsAS-1.png"}}, "nickname": "Aniket Satbhai", "type": "user", "account_id": "5d18de41b3e96d0d1b9a065b"}, "title": "UNIT_ign_TEST (Timeout)", "component": null, "votes": 1, "watches": 1, "content": {"raw": "```\r\n* [X] Put an X between the brackets on this line if you have done all of the following:\r\n    * Checked the Q&A board for common solutions: http://answers.gazebosim.org\r\n    * Checked that your issue isn't already filed.\r\n    * Checked that there is not already an Ignition package that provides the described functionality: https://ignitionrobotics.org/libs\r\n\r\n# Description \r\n\r\nErrors while running CTest\r\n\r\n# Steps to Reproduce\r\n\r\n1. yay -S ignition-transport\r\n\r\n**Expected behavior:**  \r\n\r\nIt should pass the test.\r\n\r\n**Actual behavior:**\r\n\r\n99% tests passed, 1 tests failed out of 90\r\n\r\nTotal Test time (real) = 508.42 sec\r\n\r\nThe following tests FAILED:\r\n\t 33 - UNIT_ign_TEST (Timeout)\r\nErrors while running CTest\r\nmake: *** [Makefile:119: test] Error 8\r\n==> ERROR: Se produjo un fallo en check().\r\n    Cancelando...\r\nError making: ignition-transport\r\n\r\n**Reproduces how often:** \r\n\r\nAt each compilation.\r\n\r\n# Versions\r\n\r\nVersion: 7.0.0-4\r\nOS: Manjaro Linux\r\nKernel: 5.1.8-1-MANJARO x86_64\r\n\r\n# Additional Information\r\n\r\n[Any additional information, configuration or data that might be necessary to reproduce the issue.]\r\n```", "markup": "markdown", "html": "<div class=\"codehilite\"><pre><span></span>* [X] Put an X between the brackets on this line if you have done all of the following:\n    * Checked the Q&amp;A board for common solutions: http://answers.gazebosim.org\n    * Checked that your issue isn&#39;t already filed.\n    * Checked that there is not already an Ignition package that provides the described functionality: https://ignitionrobotics.org/libs\n\n# Description \n\nErrors while running CTest\n\n# Steps to Reproduce\n\n1. yay -S ignition-transport\n\n**Expected behavior:**  \n\nIt should pass the test.\n\n**Actual behavior:**\n\n99% tests passed, 1 tests failed out of 90\n\nTotal Test time (real) = 508.42 sec\n\nThe following tests FAILED:\n     33 - UNIT_ign_TEST (Timeout)\nErrors while running CTest\nmake: *** [Makefile:119: test] Error 8\n==&gt; ERROR: Se produjo un fallo en check().\n    Cancelando...\nError making: ignition-transport\n\n**Reproduces how often:** \n\nAt each compilation.\n\n# Versions\n\nVersion: 7.0.0-4\nOS: Manjaro Linux\nKernel: 5.1.8-1-MANJARO x86_64\n\n# Additional Information\n\n[Any additional information, configuration or data that might be necessary to reproduce the issue.]\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-06-30T16:40:45.990638+00:00", "milestone": null, "updated_on": "2019-06-30T16:40:45.990638+00:00", "type": "issue", "id": 107}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/108/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/108.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/108/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/108/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/108/functions-taken-by-reference-should-be"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/108/vote"}}, "reporter": {"display_name": "Trent Houliston", "uuid": "{820060dc-bbdd-4b53-994d-031ded31a54b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B820060dc-bbdd-4b53-994d-031ded31a54b%7D"}, "html": {"href": "https://bitbucket.org/%7B820060dc-bbdd-4b53-994d-031ded31a54b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/7a0a1d6b8b7a4fc6a94c967ff68f58e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTH-4.png"}}, "nickname": "TrentHouliston", "type": "user", "account_id": "557058:ac2b58dd-1007-4808-a39f-210f24cc2f0a"}, "title": "Functions taken by reference should be const reference", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Prerequisites\r\n\r\n* \\[X\\] Put an X between the brackets on this line if you have done all of the following:\r\n\r\n    * Checked the Q&A board for common solutions: [http://answers.gazebosim.org](http://answers.gazebosim.org)\r\n    * Checked that your issue isn't already filed.\r\n    * Checked that there is not already an Ignition package that provides the described functionality: [https://ignitionrobotics.org/libs](https://ignitionrobotics.org/libs)\r\n    \r\n\r\n# Description\r\n\r\nFunctions that take callbacks etc take their callback functions by reference instead of const reference. This prevents lambdas from being used without going through a secondary type. Additionally taking the functions by reference is misleading as you would never change a function object.\r\n\r\nI would do a PR to fix this, but I don\u2019t know how deep this rabbit hole would go\u2026\r\n\r\n# Steps to Reproduce\r\n\r\nCompile code that uses a lambda directly in these functions, e.g.\r\n\r\n```\r\ndiscoveryNode->ConnectionsCb([this](const ignition::transport::MessagePublisher& _publisher) {\r\n    std::cout \"Hello world!\" << std::endl;\r\n});\r\n```\r\n\r\nFails to compile as it cannot convert an R value reference into an L value reference.  \r\nThis could be resolved by taking the reference as const.\r\n\r\n**Expected behavior:**\r\n\r\nThe code should compile and run as expected.\r\n\r\n**Actual behavior:**\r\n\r\nThe code fails to compile as you are unable to pass an R value reference into a function that expects an L value reference. There is no reason these functions should be taken by l value reference over const reference which would allow r values to be passed also.\r\n\r\n**Reproduces how often:**\r\n\r\n100% of the time\r\n\r\n# Versions\r\n\r\nign-transport 4.0.0\\_3  \r\nMac OSX: 10.14.3  \r\nApple LLVM version 10.0.1 \\(clang-1001.0.46.4\\)", "markup": "markdown", "html": "<h1 id=\"markdown-header-prerequisites\">Prerequisites</h1>\n<ul>\n<li>\n<p>[X] Put an X between the brackets on this line if you have done all of the following:</p>\n<ul>\n<li>Checked the Q&amp;A board for common solutions: <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org\" rel=\"nofollow\">http://answers.gazebosim.org</a></li>\n<li>Checked that your issue isn't already filed.</li>\n<li>Checked that there is not already an Ignition package that provides the described functionality: <a data-is-external-link=\"true\" href=\"https://ignitionrobotics.org/libs\" rel=\"nofollow\">https://ignitionrobotics.org/libs</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"markdown-header-description\">Description</h1>\n<p>Functions that take callbacks etc take their callback functions by reference instead of const reference. This prevents lambdas from being used without going through a secondary type. Additionally taking the functions by reference is misleading as you would never change a function object.</p>\n<p>I would do a PR to fix this, but I don\u2019t know how deep this rabbit hole would go\u2026</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to Reproduce</h1>\n<p>Compile code that uses a lambda directly in these functions, e.g.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">discoveryNode-</span><span class=\"o\">&gt;</span><span class=\"nt\">ConnectionsCb</span><span class=\"o\">(</span><span class=\"cp\">[</span><span class=\"nx\">this</span><span class=\"cp\">]</span><span class=\"o\">(</span><span class=\"nt\">const</span> <span class=\"nt\">ignition</span><span class=\"p\">::</span><span class=\"nd\">transport</span><span class=\"p\">::</span><span class=\"nd\">MessagePublisher</span><span class=\"o\">&amp;</span> <span class=\"nt\">_publisher</span><span class=\"o\">)</span> <span class=\"p\">{</span>\n    <span class=\"n\">std</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"n\">cout</span> <span class=\"s2\">&quot;Hello world!&quot;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">endl</span><span class=\"p\">;</span>\n<span class=\"p\">}</span><span class=\"o\">);</span>\n</pre></div>\n\n\n<p>Fails to compile as it cannot convert an R value reference into an L value reference.<br />\nThis could be resolved by taking the reference as const.</p>\n<p><strong>Expected behavior:</strong></p>\n<p>The code should compile and run as expected.</p>\n<p><strong>Actual behavior:</strong></p>\n<p>The code fails to compile as you are unable to pass an R value reference into a function that expects an L value reference. There is no reason these functions should be taken by l value reference over const reference which would allow r values to be passed also.</p>\n<p><strong>Reproduces how often:</strong></p>\n<p>100% of the time</p>\n<h1 id=\"markdown-header-versions\">Versions</h1>\n<p>ign-transport 4.0.0_3<br />\nMac OSX: 10.14.3<br />\nApple LLVM version 10.0.1 (clang-1001.0.46.4)</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-07-21T07:03:11.364236+00:00", "milestone": null, "updated_on": "2019-07-22T08:38:44.760564+00:00", "type": "issue", "id": 108}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/109/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/109.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/109/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/109/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/109/expose-api-for-determining-when-throttled"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/109/vote"}}, "reporter": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "title": "Expose API for determining when throttled publishers are ready", "component": null, "votes": 1, "watches": 3, "content": {"raw": "It would be nice to have functionality that exposes the internal timekeeping of the throttled publishers.  I have a case where we are constructing a message more frequently than it is being published, and I would skip the construction of the message if I knew that publishing wasn\u2019t going to happen yet.\r\n\r\nThere is already an `UpdateThrottling` function, but it is currently private.", "markup": "markdown", "html": "<p>It would be nice to have functionality that exposes the internal timekeeping of the throttled publishers.  I have a case where we are constructing a message more frequently than it is being published, and I would skip the construction of the message if I knew that publishing wasn\u2019t going to happen yet.</p>\n<p>There is already an <code>UpdateThrottling</code> function, but it is currently private.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-08-02T18:11:13.542716+00:00", "milestone": null, "updated_on": "2019-08-03T00:49:37.191188+00:00", "type": "issue", "id": 109}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/110/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/110.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/110/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/110/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/110/throttle-based-on-custom-clock"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/110/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Throttle based on custom clock", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Summary\r\n\r\nIt's currently possible to throttle a publisher's update rate by setting the [SetMsgsPerSec](#!/ignitionrobotics/ign-transport/src/aeb86d615f4b50f2a2e09ec3e08c52ac1a9c5b09/include/ignition/transport/AdvertiseOptions.hh#lines-209) option. But the implementation is currently always using wall time. \r\n\r\n# Motivation\r\n\r\nIt would be useful to be able to throttle based on custom clocks, so a simulator could throttle based on the current simulation time, for example.\r\n\r\n# Describe alternatives you've considered\r\n\r\nThrottling from outside Ignition Transport, preventing the call to `Publish`.\r\n\r\n# Additional context\r\n\r\nThe [Clock](#!/ignitionrobotics/ign-transport/src/default/include/ignition/transport/Clock.hh) class is being used to timestamp logs with custom time. The same class could be used for throttling.", "markup": "markdown", "html": "<h1 id=\"markdown-header-summary\">Summary</h1>\n<p>It's currently possible to throttle a publisher's update rate by setting the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/src/aeb86d615f4b50f2a2e09ec3e08c52ac1a9c5b09/include/ignition/transport/AdvertiseOptions.hh#lines-209\" rel=\"nofollow\">SetMsgsPerSec</a> option. But the implementation is currently always using wall time. </p>\n<h1 id=\"markdown-header-motivation\">Motivation</h1>\n<p>It would be useful to be able to throttle based on custom clocks, so a simulator could throttle based on the current simulation time, for example.</p>\n<h1 id=\"markdown-header-describe-alternatives-youve-considered\">Describe alternatives you've considered</h1>\n<p>Throttling from outside Ignition Transport, preventing the call to <code>Publish</code>.</p>\n<h1 id=\"markdown-header-additional-context\">Additional context</h1>\n<p>The <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/src/default/include/ignition/transport/Clock.hh\" rel=\"nofollow\">Clock</a> class is being used to timestamp logs with custom time. The same class could be used for throttling.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-08-02T21:44:08.498929+00:00", "milestone": null, "updated_on": "2019-08-02T21:44:08.498929+00:00", "type": "issue", "id": 110}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/111/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/111.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/111/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/111/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/111/deprecation-warnings-on-homebrew-from"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/111/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Deprecation warnings on homebrew from cppzmq send and recv functions", "component": null, "votes": 0, "watches": 1, "content": {"raw": "There are lots of deprecation warnings on homebrew complaining that `send` and `recv` functions in zmq.hpp (from cppzmq) have been deprecated in some way:\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_transport-ci-ign-transport7-homebrew-amd64&build=6)](https://build.osrfoundation.org/view/os_homebrew/job/ignition_transport-ci-ign-transport7-homebrew-amd64/6/) https://build.osrfoundation.org/view/os_homebrew/job/ignition_transport-ci-ign-transport7-homebrew-amd64/6/warnings10Result/\r\n\r\n~~~\r\nsrc/Node.cc:635:14: warning: 'send' is deprecated: from 4.3.1, use send taking message_t and send_flags [-Wdeprecated-declarations]\r\n      socket.send(msg, ZMQ_SNDMORE);\r\n             ^\r\n/usr/local/include/zmq.hpp:1189:5: note: 'send' has been explicitly marked deprecated here\r\n    ZMQ_DEPRECATED(\"from 4.3.1, use send taking message_t and send_flags\")\r\n    ^\r\n/usr/local/include/zmq.hpp:41:31: note: expanded from macro 'ZMQ_DEPRECATED'\r\n#define ZMQ_DEPRECATED(msg) [[deprecated(msg)]]\r\n                              ^\r\n~~~", "markup": "markdown", "html": "<p>There are lots of deprecation warnings on homebrew complaining that <code>send</code> and <code>recv</code> functions in zmq.hpp (from cppzmq) have been deprecated in some way:</p>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/os_homebrew/job/ignition_transport-ci-ign-transport7-homebrew-amd64/6/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ignition_transport-ci-ign-transport7-homebrew-amd64&amp;build=6\" /></a> <a href=\"https://build.osrfoundation.org/view/os_homebrew/job/ignition_transport-ci-ign-transport7-homebrew-amd64/6/warnings10Result/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/view/os_homebrew/job/ignition_transport-ci-ign-transport7-homebrew-amd64/6/warnings10Result/</a></p>\n<div class=\"codehilite\"><pre><span></span>src/Node.cc:635:14: warning: &#39;send&#39; is deprecated: from 4.3.1, use send taking message_t and send_flags [-Wdeprecated-declarations]\n      socket.send(msg, ZMQ_SNDMORE);\n             ^\n/usr/local/include/zmq.hpp:1189:5: note: &#39;send&#39; has been explicitly marked deprecated here\n    ZMQ_DEPRECATED(&quot;from 4.3.1, use send taking message_t and send_flags&quot;)\n    ^\n/usr/local/include/zmq.hpp:41:31: note: expanded from macro &#39;ZMQ_DEPRECATED&#39;\n#define ZMQ_DEPRECATED(msg) [[deprecated(msg)]]\n                              ^\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-08-06T23:43:42.770831+00:00", "milestone": null, "updated_on": "2020-03-11T01:04:19.164733+00:00", "type": "issue", "id": 111}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/112/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/112.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/112/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/112/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/112/wrong-include-headers-for-uuid-on-ubuntu"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/112/vote"}}, "reporter": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "title": "Wrong include headers for uuid on Ubuntu 18.04", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Prerequisites\r\n\r\n* \\[x\\] Put an X between the brackets on this line if you have done all of the following:\r\n\r\n    * Checked the Q&A board for common solutions: [http://answers.gazebosim.org](http://answers.gazebosim.org)\r\n    * Checked that your issue isn't already filed.\r\n    * Checked that there is not already an Ignition package that provides the described functionality: [https://ignitionrobotics.org/libs](https://ignitionrobotics.org/libs)\r\n    \r\n\r\n# Description\r\n\r\nOn Ubuntu 18.04, ignition-transport4 includes the `uuid/uuid.h`, but it should include directly the `uuid.h` file as the UUID include directories are `<prefix>/include/uuid`, not `<prefix>/include`.\r\n\r\n# Steps to Reproduce\r\n\r\n1. Inspect the `UUID_INCLUDE_DIRS` CMake variable.\r\n\r\n**Expected behavior:**\r\n\r\nIt should contain a directory that contains a `uuid/uuid.h` file, that is then included in [#!/ignitionrobotics/ign-transport/src/aeb86d615f4b50f2a2e09ec3e08c52ac1a9c5b09/include/ignition/transport/Uuid.hh#lines-32](#!/ignitionrobotics/ign-transport/src/aeb86d615f4b50f2a2e09ec3e08c52ac1a9c5b09/include/ignition/transport/Uuid.hh#lines-32) . \r\n\r\n**Actual behavior:**\r\n\r\nThe directory contains a `uuid.h` file .\r\n\r\n**Reproduces how often:**\r\n\r\nAll the time.  \r\n\r\n# Versions\r\n\r\nUbuntu 18.04, ignition-transport 4. \r\n\r\n# Additional Information\r\n\r\nThe problem does not emerge because uuid is tipically installed either in the system prefix `/usr` or it shares the prefix with other dependencies, and so the `<prefix>/include` directory is added to the include paths in any case. However it could create problems if `uuid` is installed in a separated prefix.", "markup": "markdown", "html": "<h1 id=\"markdown-header-prerequisites\">Prerequisites</h1>\n<ul>\n<li>\n<p>[x] Put an X between the brackets on this line if you have done all of the following:</p>\n<ul>\n<li>Checked the Q&amp;A board for common solutions: <a data-is-external-link=\"true\" href=\"http://answers.gazebosim.org\" rel=\"nofollow\">http://answers.gazebosim.org</a></li>\n<li>Checked that your issue isn't already filed.</li>\n<li>Checked that there is not already an Ignition package that provides the described functionality: <a data-is-external-link=\"true\" href=\"https://ignitionrobotics.org/libs\" rel=\"nofollow\">https://ignitionrobotics.org/libs</a></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"markdown-header-description\">Description</h1>\n<p>On Ubuntu 18.04, ignition-transport4 includes the <code>uuid/uuid.h</code>, but it should include directly the <code>uuid.h</code> file as the UUID include directories are <code>&lt;prefix&gt;/include/uuid</code>, not <code>&lt;prefix&gt;/include</code>.</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to Reproduce</h1>\n<ol>\n<li>Inspect the <code>UUID_INCLUDE_DIRS</code> CMake variable.</li>\n</ol>\n<p><strong>Expected behavior:</strong></p>\n<p>It should contain a directory that contains a <code>uuid/uuid.h</code> file, that is then included in <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/src/aeb86d615f4b50f2a2e09ec3e08c52ac1a9c5b09/include/ignition/transport/Uuid.hh#lines-32\" rel=\"nofollow\">#!/ignitionrobotics/ign-transport/src/aeb86d615f4b50f2a2e09ec3e08c52ac1a9c5b09/include/ignition/transport/Uuid.hh#lines-32</a> . </p>\n<p><strong>Actual behavior:</strong></p>\n<p>The directory contains a <code>uuid.h</code> file .</p>\n<p><strong>Reproduces how often:</strong></p>\n<p>All the time.  </p>\n<h1 id=\"markdown-header-versions\">Versions</h1>\n<p>Ubuntu 18.04, ignition-transport 4. </p>\n<h1 id=\"markdown-header-additional-information\">Additional Information</h1>\n<p>The problem does not emerge because uuid is tipically installed either in the system prefix <code>/usr</code> or it shares the prefix with other dependencies, and so the <code>&lt;prefix&gt;/include</code> directory is added to the include paths in any case. However it could create problems if <code>uuid</code> is installed in a separated prefix.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-09-09T20:21:50.839255+00:00", "milestone": null, "updated_on": "2019-09-09T20:21:50.839255+00:00", "type": "issue", "id": 112}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/113/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/113.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/113/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/113/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/113/fedora-kde-tests-do-not-pass-on-fresh"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/113/vote"}}, "reporter": {"display_name": "Til Hoff", "uuid": "{5b5196a3-571e-4e4c-bed3-6f72e4dabba8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5b5196a3-571e-4e4c-bed3-6f72e4dabba8%7D"}, "html": {"href": "https://bitbucket.org/%7B5b5196a3-571e-4e4c-bed3-6f72e4dabba8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1835281ac000de88eb0ed5f38cd82eaed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTH-5.png"}}, "nickname": "turakar", "type": "user", "account_id": "557058:0928ff78-c705-4502-bf3b-52e34e5508f2"}, "title": "[Fedora KDE] Tests do not pass on fresh source install - Discovery fails", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Description\r\n\r\n`ign-transport` is compiled from source without errors. After that, `make test` is run. Some of the tests, most noticeably `UNIT_Discovery_TEST`, fails. Test `INTEGRATION_twoProcsSrvCallStress` hangs and blocks further tests.\r\n\r\n# Steps to reproduce\r\n\r\n* use Fedora KDE 29 / 30\r\n* install dependencies \\(migrated from the install instructions for ignition\\)\r\n\r\n```\r\nsudo dnf install cmake freeglut-devel ffmpeg-devel freeimage-devel gflags-devel glew-devel gts-devel ogre-devel protobuf-devel protobuf-c-devel qt5 tinyxml2-devel tinyxml-devel pkg-config protobuf-compiler python qt5-qtquickcontrols qt5-qtquickcontrols2 qt5-devel qt5-qtdeclarative-devel qt5-qtquickcontrols2-devel ruby rubygem-ronn uuid-devel libzip-devel jsoncpp-devel libcurl-devel libyaml-devel czmq-devel cppzmq-devel sqlite-devel libwebsockets-devel eigen3-devel openssl-devel git mercurial make g++\r\n```\r\n\r\n* build `dart`, `assimp` and `gflags` from source \\(unrelated to `ign-transport`, but important for the merge-install\\)\r\n\r\n    * On Fedora KDE 30 you can use `gflags-devel` from the repositories\r\n    \r\n* clone the sources as laid out in the official install instructions for ignition\r\n* build a merge-install\r\n\r\n```\r\ncolcon build --merge-install\r\n```\r\n\r\n* Execute the following:\r\n\r\n```shell\r\ncd ign-transport\r\nmkdir build && cd build\r\ncmake ..\r\nmake\r\nmake test\r\n```\r\n\r\n**Expected behaviour**\r\n\r\nCompilation works. All tests pass.\r\n\r\n**Actual behaviour**\r\n\r\nCompilation works \\(no severe warnings printed, no dependencies not found\\). Test results:\r\n\r\n```\r\nRunning tests...\r\nTest project /home/t/projects/debris/approach-simulator/ignitionrobotics/ign-transport/build\r\n      Start  1: UNIT_AdvertiseOptions_TEST\r\n 1/90 Test  #1: UNIT_AdvertiseOptions_TEST .............................   Passed    0.01 sec\r\n      Start  2: check_UNIT_AdvertiseOptions_TEST\r\n 2/90 Test  #2: check_UNIT_AdvertiseOptions_TEST .......................   Passed    0.02 sec\r\n      Start  3: UNIT_CIface_TEST\r\n 3/90 Test  #3: UNIT_CIface_TEST .......................................   Passed    0.37 sec\r\n      Start  4: check_UNIT_CIface_TEST\r\n 4/90 Test  #4: check_UNIT_CIface_TEST .................................   Passed    0.02 sec\r\n      Start  5: UNIT_Clock_TEST\r\n 5/90 Test  #5: UNIT_Clock_TEST ........................................   Passed    1.66 sec\r\n      Start  6: check_UNIT_Clock_TEST\r\n 6/90 Test  #6: check_UNIT_Clock_TEST ..................................   Passed    0.02 sec\r\n      Start  7: UNIT_Discovery_TEST\r\n 7/90 Test  #7: UNIT_Discovery_TEST ....................................***Failed   33.84 sec\r\n      Start  8: check_UNIT_Discovery_TEST\r\n 8/90 Test  #8: check_UNIT_Discovery_TEST ..............................   Passed    0.03 sec\r\n      Start  9: UNIT_HandlerStorage_TEST\r\n 9/90 Test  #9: UNIT_HandlerStorage_TEST ...............................   Passed    0.02 sec\r\n      Start 10: check_UNIT_HandlerStorage_TEST\r\n10/90 Test #10: check_UNIT_HandlerStorage_TEST .........................   Passed    0.03 sec\r\n      Start 11: UNIT_Helpers_TEST\r\n11/90 Test #11: UNIT_Helpers_TEST ......................................   Passed    0.01 sec\r\n      Start 12: check_UNIT_Helpers_TEST\r\n12/90 Test #12: check_UNIT_Helpers_TEST ................................   Passed    0.02 sec\r\n      Start 13: UNIT_MessageInfo_TEST\r\n13/90 Test #13: UNIT_MessageInfo_TEST ..................................   Passed    0.01 sec\r\n      Start 14: check_UNIT_MessageInfo_TEST\r\n14/90 Test #14: check_UNIT_MessageInfo_TEST ............................   Passed    0.02 sec\r\n      Start 15: UNIT_NetUtils_TEST\r\n15/90 Test #15: UNIT_NetUtils_TEST .....................................   Passed    0.02 sec\r\n      Start 16: check_UNIT_NetUtils_TEST\r\n16/90 Test #16: check_UNIT_NetUtils_TEST ...............................   Passed    0.03 sec\r\n      Start 17: UNIT_NodeOptions_TEST\r\n17/90 Test #17: UNIT_NodeOptions_TEST ..................................   Passed    0.01 sec\r\n      Start 18: check_UNIT_NodeOptions_TEST\r\n18/90 Test #18: check_UNIT_NodeOptions_TEST ............................   Passed    0.02 sec\r\n      Start 19: UNIT_Node_TEST\r\n19/90 Test #19: UNIT_Node_TEST .........................................   Passed   23.13 sec\r\n      Start 20: check_UNIT_Node_TEST\r\n20/90 Test #20: check_UNIT_Node_TEST ...................................   Passed    0.02 sec\r\n      Start 21: UNIT_Packet_TEST\r\n21/90 Test #21: UNIT_Packet_TEST .......................................   Passed    0.01 sec\r\n      Start 22: check_UNIT_Packet_TEST\r\n22/90 Test #22: check_UNIT_Packet_TEST .................................   Passed    0.03 sec\r\n      Start 23: UNIT_Publisher_TEST\r\n23/90 Test #23: UNIT_Publisher_TEST ....................................   Passed    0.01 sec\r\n      Start 24: check_UNIT_Publisher_TEST\r\n24/90 Test #24: check_UNIT_Publisher_TEST ..............................   Passed    0.02 sec\r\n      Start 25: UNIT_SubscribeOptions_TEST\r\n25/90 Test #25: UNIT_SubscribeOptions_TEST .............................   Passed    0.02 sec\r\n      Start 26: check_UNIT_SubscribeOptions_TEST\r\n26/90 Test #26: check_UNIT_SubscribeOptions_TEST .......................   Passed    0.02 sec\r\n      Start 27: UNIT_TopicStorage_TEST\r\n27/90 Test #27: UNIT_TopicStorage_TEST .................................   Passed    0.01 sec\r\n      Start 28: check_UNIT_TopicStorage_TEST\r\n28/90 Test #28: check_UNIT_TopicStorage_TEST ...........................   Passed    0.03 sec\r\n      Start 29: UNIT_TopicUtils_TEST\r\n29/90 Test #29: UNIT_TopicUtils_TEST ...................................   Passed    0.01 sec\r\n      Start 30: check_UNIT_TopicUtils_TEST\r\n30/90 Test #30: check_UNIT_TopicUtils_TEST .............................   Passed    0.02 sec\r\n      Start 31: UNIT_Uuid_TEST\r\n31/90 Test #31: UNIT_Uuid_TEST .........................................   Passed    0.01 sec\r\n      Start 32: check_UNIT_Uuid_TEST\r\n32/90 Test #32: check_UNIT_Uuid_TEST ...................................   Passed    0.02 sec\r\n      Start 33: UNIT_ign_TEST\r\n33/90 Test #33: UNIT_ign_TEST ..........................................***Timeout 240.03 sec\r\n      Start 34: check_UNIT_ign_TEST\r\n34/90 Test #34: check_UNIT_ign_TEST ....................................   Passed    0.02 sec\r\n      Start 35: UNIT_ign_src_TEST\r\n35/90 Test #35: UNIT_ign_src_TEST ......................................   Passed    6.45 sec\r\n      Start 36: check_UNIT_ign_src_TEST\r\n36/90 Test #36: check_UNIT_ign_src_TEST ................................   Passed    0.02 sec\r\n      Start 37: INTEGRATION_versioned_symbols\r\n37/90 Test #37: INTEGRATION_versioned_symbols ..........................   Passed    0.03 sec\r\n      Start 38: INTEGRATION_authPubSub\r\n38/90 Test #38: INTEGRATION_authPubSub .................................   Passed   10.81 sec\r\n      Start 39: check_INTEGRATION_authPubSub\r\n39/90 Test #39: check_INTEGRATION_authPubSub ...........................   Passed    0.03 sec\r\n      Start 40: INTEGRATION_scopedTopic\r\n40/90 Test #40: INTEGRATION_scopedTopic ................................   Passed   11.47 sec\r\n      Start 41: check_INTEGRATION_scopedTopic\r\n41/90 Test #41: check_INTEGRATION_scopedTopic ..........................   Passed    0.03 sec\r\n      Start 42: INTEGRATION_twoProcsPubSub\r\n42/90 Test #42: INTEGRATION_twoProcsPubSub .............................***Exception: SegFault 73.67 sec\r\n      Start 43: check_INTEGRATION_twoProcsPubSub\r\n43/90 Test #43: check_INTEGRATION_twoProcsPubSub .......................   Passed    0.03 sec\r\n      Start 44: INTEGRATION_twoProcsSrvCall\r\n44/90 Test #44: INTEGRATION_twoProcsSrvCall ............................***Exception: SegFault 35.44 sec\r\n      Start 45: check_INTEGRATION_twoProcsSrvCall\r\n45/90 Test #45: check_INTEGRATION_twoProcsSrvCall ......................   Passed    0.03 sec\r\n      Start 46: INTEGRATION_twoProcsSrvCallStress\r\n```\r\n\r\nThe tests hang here with low CPU usage for over one hour. There is a detailed log in the comments below.\r\n\r\n# Version\r\n\r\n* Fedora KDE 29 / 30\r\n* source install\r\n* latest ignition \\(blueprint\\)\r\n\r\n# Additional Information\r\n\r\n* I think this is the reason why [ign-gazebo does not start on my machine](#!/ignitionrobotics/ign-gazebo/issues/38/gazebo-hangs-at-requesting-list-of-world) \\(gazebo client cannot find the server and therefore waits forever\\).\r\n* The problem does not happen on classic Fedora \\(Gnome\\), as verified by spinning up several VMs\r\n* There is a workaround: Set `IGN_IP=127.0.0.1` environment variable.\r\n\r\n\u200c", "markup": "markdown", "html": "<h1 id=\"markdown-header-description\">Description</h1>\n<p><code>ign-transport</code> is compiled from source without errors. After that, <code>make test</code> is run. Some of the tests, most noticeably <code>UNIT_Discovery_TEST</code>, fails. Test <code>INTEGRATION_twoProcsSrvCallStress</code> hangs and blocks further tests.</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to reproduce</h1>\n<ul>\n<li>use Fedora KDE 29 / 30</li>\n<li>install dependencies (migrated from the install instructions for ignition)</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>sudo dnf install cmake freeglut-devel ffmpeg-devel freeimage-devel gflags-devel glew-devel gts-devel ogre-devel protobuf-devel protobuf-c-devel qt5 tinyxml2-devel tinyxml-devel pkg-config protobuf-compiler python qt5-qtquickcontrols qt5-qtquickcontrols2 qt5-devel qt5-qtdeclarative-devel qt5-qtquickcontrols2-devel ruby rubygem-ronn uuid-devel libzip-devel jsoncpp-devel libcurl-devel libyaml-devel czmq-devel cppzmq-devel sqlite-devel libwebsockets-devel eigen3-devel openssl-devel git mercurial make g++\n</pre></div>\n\n\n<ul>\n<li>\n<p>build <code>dart</code>, <code>assimp</code> and <code>gflags</code> from source (unrelated to <code>ign-transport</code>, but important for the merge-install)</p>\n<ul>\n<li>On Fedora KDE 30 you can use <code>gflags-devel</code> from the repositories</li>\n</ul>\n</li>\n<li>\n<p>clone the sources as laid out in the official install instructions for ignition</p>\n</li>\n<li>build a merge-install</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>colcon build --merge-install\n</pre></div>\n\n\n<ul>\n<li>Execute the following:</li>\n</ul>\n<div class=\"codehilite language-shell\"><pre><span></span><span class=\"nb\">cd</span> ign-transport\nmkdir build <span class=\"o\">&amp;&amp;</span> <span class=\"nb\">cd</span> build\ncmake ..\nmake\nmake <span class=\"nb\">test</span>\n</pre></div>\n\n\n<p><strong>Expected behaviour</strong></p>\n<p>Compilation works. All tests pass.</p>\n<p><strong>Actual behaviour</strong></p>\n<p>Compilation works (no severe warnings printed, no dependencies not found). Test results:</p>\n<div class=\"codehilite\"><pre><span></span>Running tests...\nTest project /home/t/projects/debris/approach-simulator/ignitionrobotics/ign-transport/build\n      Start  1: UNIT_AdvertiseOptions_TEST\n 1/90 Test  #1: UNIT_AdvertiseOptions_TEST .............................   Passed    0.01 sec\n      Start  2: check_UNIT_AdvertiseOptions_TEST\n 2/90 Test  #2: check_UNIT_AdvertiseOptions_TEST .......................   Passed    0.02 sec\n      Start  3: UNIT_CIface_TEST\n 3/90 Test  #3: UNIT_CIface_TEST .......................................   Passed    0.37 sec\n      Start  4: check_UNIT_CIface_TEST\n 4/90 Test  #4: check_UNIT_CIface_TEST .................................   Passed    0.02 sec\n      Start  5: UNIT_Clock_TEST\n 5/90 Test  #5: UNIT_Clock_TEST ........................................   Passed    1.66 sec\n      Start  6: check_UNIT_Clock_TEST\n 6/90 Test  #6: check_UNIT_Clock_TEST ..................................   Passed    0.02 sec\n      Start  7: UNIT_Discovery_TEST\n 7/90 Test  #7: UNIT_Discovery_TEST ....................................***Failed   33.84 sec\n      Start  8: check_UNIT_Discovery_TEST\n 8/90 Test  #8: check_UNIT_Discovery_TEST ..............................   Passed    0.03 sec\n      Start  9: UNIT_HandlerStorage_TEST\n 9/90 Test  #9: UNIT_HandlerStorage_TEST ...............................   Passed    0.02 sec\n      Start 10: check_UNIT_HandlerStorage_TEST\n10/90 Test #10: check_UNIT_HandlerStorage_TEST .........................   Passed    0.03 sec\n      Start 11: UNIT_Helpers_TEST\n11/90 Test #11: UNIT_Helpers_TEST ......................................   Passed    0.01 sec\n      Start 12: check_UNIT_Helpers_TEST\n12/90 Test #12: check_UNIT_Helpers_TEST ................................   Passed    0.02 sec\n      Start 13: UNIT_MessageInfo_TEST\n13/90 Test #13: UNIT_MessageInfo_TEST ..................................   Passed    0.01 sec\n      Start 14: check_UNIT_MessageInfo_TEST\n14/90 Test #14: check_UNIT_MessageInfo_TEST ............................   Passed    0.02 sec\n      Start 15: UNIT_NetUtils_TEST\n15/90 Test #15: UNIT_NetUtils_TEST .....................................   Passed    0.02 sec\n      Start 16: check_UNIT_NetUtils_TEST\n16/90 Test #16: check_UNIT_NetUtils_TEST ...............................   Passed    0.03 sec\n      Start 17: UNIT_NodeOptions_TEST\n17/90 Test #17: UNIT_NodeOptions_TEST ..................................   Passed    0.01 sec\n      Start 18: check_UNIT_NodeOptions_TEST\n18/90 Test #18: check_UNIT_NodeOptions_TEST ............................   Passed    0.02 sec\n      Start 19: UNIT_Node_TEST\n19/90 Test #19: UNIT_Node_TEST .........................................   Passed   23.13 sec\n      Start 20: check_UNIT_Node_TEST\n20/90 Test #20: check_UNIT_Node_TEST ...................................   Passed    0.02 sec\n      Start 21: UNIT_Packet_TEST\n21/90 Test #21: UNIT_Packet_TEST .......................................   Passed    0.01 sec\n      Start 22: check_UNIT_Packet_TEST\n22/90 Test #22: check_UNIT_Packet_TEST .................................   Passed    0.03 sec\n      Start 23: UNIT_Publisher_TEST\n23/90 Test #23: UNIT_Publisher_TEST ....................................   Passed    0.01 sec\n      Start 24: check_UNIT_Publisher_TEST\n24/90 Test #24: check_UNIT_Publisher_TEST ..............................   Passed    0.02 sec\n      Start 25: UNIT_SubscribeOptions_TEST\n25/90 Test #25: UNIT_SubscribeOptions_TEST .............................   Passed    0.02 sec\n      Start 26: check_UNIT_SubscribeOptions_TEST\n26/90 Test #26: check_UNIT_SubscribeOptions_TEST .......................   Passed    0.02 sec\n      Start 27: UNIT_TopicStorage_TEST\n27/90 Test #27: UNIT_TopicStorage_TEST .................................   Passed    0.01 sec\n      Start 28: check_UNIT_TopicStorage_TEST\n28/90 Test #28: check_UNIT_TopicStorage_TEST ...........................   Passed    0.03 sec\n      Start 29: UNIT_TopicUtils_TEST\n29/90 Test #29: UNIT_TopicUtils_TEST ...................................   Passed    0.01 sec\n      Start 30: check_UNIT_TopicUtils_TEST\n30/90 Test #30: check_UNIT_TopicUtils_TEST .............................   Passed    0.02 sec\n      Start 31: UNIT_Uuid_TEST\n31/90 Test #31: UNIT_Uuid_TEST .........................................   Passed    0.01 sec\n      Start 32: check_UNIT_Uuid_TEST\n32/90 Test #32: check_UNIT_Uuid_TEST ...................................   Passed    0.02 sec\n      Start 33: UNIT_ign_TEST\n33/90 Test #33: UNIT_ign_TEST ..........................................***Timeout 240.03 sec\n      Start 34: check_UNIT_ign_TEST\n34/90 Test #34: check_UNIT_ign_TEST ....................................   Passed    0.02 sec\n      Start 35: UNIT_ign_src_TEST\n35/90 Test #35: UNIT_ign_src_TEST ......................................   Passed    6.45 sec\n      Start 36: check_UNIT_ign_src_TEST\n36/90 Test #36: check_UNIT_ign_src_TEST ................................   Passed    0.02 sec\n      Start 37: INTEGRATION_versioned_symbols\n37/90 Test #37: INTEGRATION_versioned_symbols ..........................   Passed    0.03 sec\n      Start 38: INTEGRATION_authPubSub\n38/90 Test #38: INTEGRATION_authPubSub .................................   Passed   10.81 sec\n      Start 39: check_INTEGRATION_authPubSub\n39/90 Test #39: check_INTEGRATION_authPubSub ...........................   Passed    0.03 sec\n      Start 40: INTEGRATION_scopedTopic\n40/90 Test #40: INTEGRATION_scopedTopic ................................   Passed   11.47 sec\n      Start 41: check_INTEGRATION_scopedTopic\n41/90 Test #41: check_INTEGRATION_scopedTopic ..........................   Passed    0.03 sec\n      Start 42: INTEGRATION_twoProcsPubSub\n42/90 Test #42: INTEGRATION_twoProcsPubSub .............................***Exception: SegFault 73.67 sec\n      Start 43: check_INTEGRATION_twoProcsPubSub\n43/90 Test #43: check_INTEGRATION_twoProcsPubSub .......................   Passed    0.03 sec\n      Start 44: INTEGRATION_twoProcsSrvCall\n44/90 Test #44: INTEGRATION_twoProcsSrvCall ............................***Exception: SegFault 35.44 sec\n      Start 45: check_INTEGRATION_twoProcsSrvCall\n45/90 Test #45: check_INTEGRATION_twoProcsSrvCall ......................   Passed    0.03 sec\n      Start 46: INTEGRATION_twoProcsSrvCallStress\n</pre></div>\n\n\n<p>The tests hang here with low CPU usage for over one hour. There is a detailed log in the comments below.</p>\n<h1 id=\"markdown-header-version\">Version</h1>\n<ul>\n<li>Fedora KDE 29 / 30</li>\n<li>source install</li>\n<li>latest ignition (blueprint)</li>\n</ul>\n<h1 id=\"markdown-header-additional-information\">Additional Information</h1>\n<ul>\n<li>I think this is the reason why <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/issues/38/gazebo-hangs-at-requesting-list-of-world\" rel=\"nofollow\">ign-gazebo does not start on my machine</a> (gazebo client cannot find the server and therefore waits forever).</li>\n<li>The problem does not happen on classic Fedora (Gnome), as verified by spinning up several VMs</li>\n<li>There is a workaround: Set <code>IGN_IP=127.0.0.1</code> environment variable.</li>\n</ul>\n<p>\u200c</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-09-10T16:51:27.009868+00:00", "milestone": null, "updated_on": "2019-10-01T11:48:22.471056+00:00", "type": "issue", "id": 113}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/114/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/114.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/114/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/114/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/114/random-disconnect-during-transmission-over"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/114/vote"}}, "reporter": {"display_name": "Bart Cox", "uuid": "{e7963ca4-65ad-4b94-93f2-6687f4330a6e}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be7963ca4-65ad-4b94-93f2-6687f4330a6e%7D"}, "html": {"href": "https://bitbucket.org/%7Be7963ca4-65ad-4b94-93f2-6687f4330a6e%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/0feaa01a5c690cc3ccf5de57747ad7c9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsBC-5.png"}}, "nickname": "bcox_pv", "type": "user", "account_id": "5c1bb09a1c6a692feab9419c"}, "title": "Random disconnect during transmission over WiFi", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Description\r\n\r\nWhen we use ignition transport over WiFi we experience long delays on communication via \\(asynchronous\\) service calls and disconnects on pub/sub traffic. These seem to be accompanied with frequent detected disconnects and connects in the discovery layer. Interestingly, these delays seem to happen to a few nodes \\(but not all\\) at once and seem to resolve at the same time as well. We have been able to rule out any deadlock-like situations as our nodes will still accept and process service requests from nodes not affected by the delay in the network. Once the delay resolves, the messages seem to come in all at once.\r\n\r\nWe tested this problem with the basic example code from the source. When running the basic examples _publisher.cc_ and _subscriber.cc_ over WiFi, random disconnection callbacks are fired while both machines are still connected to the same network. We seem to experience similar problems with communication in the publisher/subscriber example which disconnects within a few minutes and in severe cases even seconds.\r\n\r\nTo rule out relevant external factors, we used an isolated network without any other active clients on a professional grade router and access-point but that seemed to have no influence on the robustness of the connections. We have also been able to exclude Ubuntu versions \\(16.04/18.04\\), client hardware/architecture and ignition-transport versions\\(5.xx - 7.xx\\), during our tests.\r\n\r\nWhen we run the same tests on the same machines over a wired network no long delays or disconnects are occurring, the connection is stable.\r\n\r\n# Steps to Reproduce\r\n\r\n* Use Ubuntu 18.04\r\n* Install dependencies\r\n\r\n```shell\r\nsudo apt-get update\\\r\n          && apt-get -y install\\\r\n            gnupg lsb-release\\\r\n            cmake pkg-config cppcheck git mercurial build-essential curl\\\r\n            libprotobuf-dev protobuf-compiler libprotoc-dev libzmq3-dev uuid-dev\\\r\n            doxygen ruby-ronn libsqlite3-dev g++-8\\\r\n          && update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-8 800 --slave /usr/bin/g++ g++ /usr/bin/g++-8 --slave /usr/bin/gcov gcov /usr/bin/gcov-8\r\necho \"deb <http://packages.osrfoundation.org/gazebo/ubuntu-stable> $(lsb_release -cs) main\" > /etc/apt/sources.list.d/gazebo-stable.list\r\necho \"deb <http://packages.osrfoundation.org/gazebo/ubuntu-prerelease> `lsb_release -cs` main\" > /etc/apt/sources.list.d/gazebo-prerelease.list\r\napt-key adv --keyserver keyserver.ubuntu.com --recv-keys D2486D2DD83DB69272AFE98867170598AF249743\r\n```\r\n\r\n* Install ignition libraries\r\n\r\n```\r\nsudo apt-get update \\\r\n          && sudo apt-get -y install \\\r\n            libignition-cmake2-dev \\\r\n            libignition-math6-dev \\\r\n            libignition-msgs4-dev \\\r\n            libignition-tools-dev\r\n```\r\n\r\n* Build ignition-transport 7.7.0 from source\r\n\r\n\u200c\r\n\r\n```shell\r\nhg clone #!/ignitionrobotics/ign-transport/ ign-transport \\ \r\n&& cd ign-transport \\ \r\n&& hg up ignition-transport7_7.0.0 \\ \r\n&& mkdir -p build \\ \r\n&& cd build \\ \r\n&& cmake ../ \\ \r\n&& make -j4 \\ \r\n&& sudo make install -j4 \\ \r\n&& cd ../example \\ \r\n&& mkdir -p build \\ \r\n&& cd build \\ \r\n&& cmake .. \\ \r\n&& make -j4\r\n```\r\n\r\n* Run the publisher example from the source code on machine A\r\n\r\n\u200c\r\n\r\n```\r\nexport IGN_PARTITION=transmission_test \r\nexport IGN_VERBOSE=1 \r\nexport IGN_IP=${OWN_IP} \r\n./build/publisher\r\n```\r\n\r\n* Run the subscriber example from the source code on machine B\r\n\r\n\u200c\r\n\r\n```\r\nexport IGN_PARTITION=transmission_test \r\nexport IGN_VERBOSE=1 \r\nexport IGN_IP=${OWN_IP} \r\n./build/subscriber\r\n```\r\n\r\n**Expected behavior:**\r\n\r\nNo disconnection callbacks when the machine is connected to the \\(wireless\\) network\r\n\r\n**Actual behavior:**\r\n\r\nAfter 2 minutes the subscriber gets a disconnect callback and stops receiving messages. The publisher keeps sending messages.\r\n\r\n**Reproduces how often:**\r\n\r\nPeriodically.\r\n\r\n# Versions\r\n\r\n* Ubuntu 18.04\r\n* source install\r\n* ignition-transport 7.7.0\r\n\r\n# Additional context\r\n\r\nOur first assumption was that UDP multicast traffic carrying discovery information might get lost over a WiFi connection. Therefore we have been experimenting with different parameter sets in the discovery layer such as a lower heartbeat interval, higher silence interval etc. Only a longer silence interval resulted in a better performance in our tests but only at large values of 20 seconds or more.\r\n\r\nWe have further tried forcing all the traffic over unicast through modifying the relay functionality such that all discovery related messages are send over unicast within the same network \\(but not relayed\\). We were hoping that this lead to more stable connections but we did not see any significant improvement.", "markup": "markdown", "html": "<h1 id=\"markdown-header-description\">Description</h1>\n<p>When we use ignition transport over WiFi we experience long delays on communication via (asynchronous) service calls and disconnects on pub/sub traffic. These seem to be accompanied with frequent detected disconnects and connects in the discovery layer. Interestingly, these delays seem to happen to a few nodes (but not all) at once and seem to resolve at the same time as well. We have been able to rule out any deadlock-like situations as our nodes will still accept and process service requests from nodes not affected by the delay in the network. Once the delay resolves, the messages seem to come in all at once.</p>\n<p>We tested this problem with the basic example code from the source. When running the basic examples <em>publisher.cc</em> and <em>subscriber.cc</em> over WiFi, random disconnection callbacks are fired while both machines are still connected to the same network. We seem to experience similar problems with communication in the publisher/subscriber example which disconnects within a few minutes and in severe cases even seconds.</p>\n<p>To rule out relevant external factors, we used an isolated network without any other active clients on a professional grade router and access-point but that seemed to have no influence on the robustness of the connections. We have also been able to exclude Ubuntu versions (16.04/18.04), client hardware/architecture and ignition-transport versions(5.xx - 7.xx), during our tests.</p>\n<p>When we run the same tests on the same machines over a wired network no long delays or disconnects are occurring, the connection is stable.</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to Reproduce</h1>\n<ul>\n<li>Use Ubuntu 18.04</li>\n<li>Install dependencies</li>\n</ul>\n<div class=\"codehilite language-shell\"><pre><span></span>sudo apt-get update<span class=\"se\">\\</span>\n          <span class=\"o\">&amp;&amp;</span> apt-get -y install<span class=\"se\">\\</span>\n            gnupg lsb-release<span class=\"se\">\\</span>\n            cmake pkg-config cppcheck git mercurial build-essential curl<span class=\"se\">\\</span>\n            libprotobuf-dev protobuf-compiler libprotoc-dev libzmq3-dev uuid-dev<span class=\"se\">\\</span>\n            doxygen ruby-ronn libsqlite3-dev g++-8<span class=\"se\">\\</span>\n          <span class=\"o\">&amp;&amp;</span> update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-8 <span class=\"m\">800</span> --slave /usr/bin/g++ g++ /usr/bin/g++-8 --slave /usr/bin/gcov gcov /usr/bin/gcov-8\n<span class=\"nb\">echo</span> <span class=\"s2\">&quot;deb &lt;http://packages.osrfoundation.org/gazebo/ubuntu-stable&gt; </span><span class=\"k\">$(</span>lsb_release -cs<span class=\"k\">)</span><span class=\"s2\"> main&quot;</span> &gt; /etc/apt/sources.list.d/gazebo-stable.list\n<span class=\"nb\">echo</span> <span class=\"s2\">&quot;deb &lt;http://packages.osrfoundation.org/gazebo/ubuntu-prerelease&gt; `lsb_release -cs` main&quot;</span> &gt; /etc/apt/sources.list.d/gazebo-prerelease.list\napt-key adv --keyserver keyserver.ubuntu.com --recv-keys D2486D2DD83DB69272AFE98867170598AF249743\n</pre></div>\n\n\n<ul>\n<li>Install ignition libraries</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>sudo apt-get update \\\n          &amp;&amp; sudo apt-get -y install \\\n            libignition-cmake2-dev \\\n            libignition-math6-dev \\\n            libignition-msgs4-dev \\\n            libignition-tools-dev\n</pre></div>\n\n\n<ul>\n<li>Build ignition-transport 7.7.0 from source</li>\n</ul>\n<p>\u200c</p>\n<div class=\"codehilite language-shell\"><pre><span></span>hg clone #!/ignitionrobotics/ign-transport/ ign-transport <span class=\"se\">\\ </span>\n<span class=\"o\">&amp;&amp;</span> <span class=\"nb\">cd</span> ign-transport <span class=\"se\">\\ </span>\n<span class=\"o\">&amp;&amp;</span> hg up ignition-transport7_7.0.0 <span class=\"se\">\\ </span>\n<span class=\"o\">&amp;&amp;</span> mkdir -p build <span class=\"se\">\\ </span>\n<span class=\"o\">&amp;&amp;</span> <span class=\"nb\">cd</span> build <span class=\"se\">\\ </span>\n<span class=\"o\">&amp;&amp;</span> cmake ../ <span class=\"se\">\\ </span>\n<span class=\"o\">&amp;&amp;</span> make -j4 <span class=\"se\">\\ </span>\n<span class=\"o\">&amp;&amp;</span> sudo make install -j4 <span class=\"se\">\\ </span>\n<span class=\"o\">&amp;&amp;</span> <span class=\"nb\">cd</span> ../example <span class=\"se\">\\ </span>\n<span class=\"o\">&amp;&amp;</span> mkdir -p build <span class=\"se\">\\ </span>\n<span class=\"o\">&amp;&amp;</span> <span class=\"nb\">cd</span> build <span class=\"se\">\\ </span>\n<span class=\"o\">&amp;&amp;</span> cmake .. <span class=\"se\">\\ </span>\n<span class=\"o\">&amp;&amp;</span> make -j4\n</pre></div>\n\n\n<ul>\n<li>Run the publisher example from the source code on machine A</li>\n</ul>\n<p>\u200c</p>\n<div class=\"codehilite\"><pre><span></span>export IGN_PARTITION=transmission_test \nexport IGN_VERBOSE=1 \nexport IGN_IP=<span class=\"cp\">${</span><span class=\"n\">OWN_IP</span><span class=\"cp\">}</span> \n./build/publisher\n</pre></div>\n\n\n<ul>\n<li>Run the subscriber example from the source code on machine B</li>\n</ul>\n<p>\u200c</p>\n<div class=\"codehilite\"><pre><span></span>export IGN_PARTITION=transmission_test \nexport IGN_VERBOSE=1 \nexport IGN_IP=<span class=\"cp\">${</span><span class=\"n\">OWN_IP</span><span class=\"cp\">}</span> \n./build/subscriber\n</pre></div>\n\n\n<p><strong>Expected behavior:</strong></p>\n<p>No disconnection callbacks when the machine is connected to the (wireless) network</p>\n<p><strong>Actual behavior:</strong></p>\n<p>After 2 minutes the subscriber gets a disconnect callback and stops receiving messages. The publisher keeps sending messages.</p>\n<p><strong>Reproduces how often:</strong></p>\n<p>Periodically.</p>\n<h1 id=\"markdown-header-versions\">Versions</h1>\n<ul>\n<li>Ubuntu 18.04</li>\n<li>source install</li>\n<li>ignition-transport 7.7.0</li>\n</ul>\n<h1 id=\"markdown-header-additional-context\">Additional context</h1>\n<p>Our first assumption was that UDP multicast traffic carrying discovery information might get lost over a WiFi connection. Therefore we have been experimenting with different parameter sets in the discovery layer such as a lower heartbeat interval, higher silence interval etc. Only a longer silence interval resulted in a better performance in our tests but only at large values of 20 seconds or more.</p>\n<p>We have further tried forcing all the traffic over unicast through modifying the relay functionality such that all discovery related messages are send over unicast within the same network (but not relayed). We were hoping that this lead to more stable connections but we did not see any significant improvement.</p>", "type": "rendered"}, "assignee": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-12-13T13:54:40.681868+00:00", "milestone": null, "updated_on": "2020-03-05T00:13:33.366748+00:00", "type": "issue", "id": 114}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/115/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/115.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/115/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/115/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/115/abi-broken-between-710-and-720"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/115/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "ABI broken between 7.1.0 and 7.2.0", "component": null, "votes": 0, "watches": 1, "content": {"raw": "A parameter with a default value was added to `ignition::transport::log::Playback::Start` in pull request #401. It was merged and released in 7.2.0, but we didn't notice the complaints by the ABI checking job:\r\n\r\n* [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_transport-abichecker-any_to_any-ubuntu_auto-amd64&build=103)](https://build.osrfoundation.org/job/ignition_transport-abichecker-any_to_any-ubuntu_auto-amd64/103/) https://build.osrfoundation.org/job/ignition_transport-abichecker-any_to_any-ubuntu_auto-amd64/103/API_5fABI_20report/\r\n\r\n* #!/ignitionrobotics/ign-transport/pull-requests/401/subt-enable-fast-log-playback/diff#comment-129364518\r\n\r\ncc @{557058:155a32e2-420c-4d50-98e0-0e722f63f906}", "markup": "markdown", "html": "<p>A parameter with a default value was added to <code>ignition::transport::log::Playback::Start</code> in <a href=\"#!/ignitionrobotics/ign-transport/pull-requests/401/subt-enable-fast-log-playback\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #401</a>. It was merged and released in 7.2.0, but we didn't notice the complaints by the ABI checking job:</p>\n<ul>\n<li>\n<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ignition_transport-abichecker-any_to_any-ubuntu_auto-amd64/103/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ignition_transport-abichecker-any_to_any-ubuntu_auto-amd64&amp;build=103\" /></a> <a href=\"https://build.osrfoundation.org/job/ignition_transport-abichecker-any_to_any-ubuntu_auto-amd64/103/API_5fABI_20report/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/ignition_transport-abichecker-any_to_any-ubuntu_auto-amd64/103/API_5fABI_20report/</a></p>\n</li>\n<li>\n<p><a href=\"#!/ignitionrobotics/ign-transport/pull-requests/401/subt-enable-fast-log-playback/diff#comment-129364518\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-transport/pull-requests/401/subt-enable-fast-log-playback/diff#comment-129364518</a></p>\n</li>\n</ul>\n<p>cc <span class=\"ap-mention\" data-atlassian-id=\"557058:155a32e2-420c-4d50-98e0-0e722f63f906\">@Jose Luis Rivero</span></p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-12-18T20:08:01.898477+00:00", "milestone": null, "updated_on": "2019-12-24T09:39:05.234481+00:00", "type": "issue", "id": 115}, {"priority": "major", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/116/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/116.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/116/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/116/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/116/configurable-send-recv-buffer-sizes"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/116/vote"}}, "reporter": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "title": "Configurable send/recv buffer sizes", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Summary\r\n\r\nPull request #416 set the send and receive zeromq buffers to infinite [here](#!/ignitionrobotics/ign-transport/pull-requests/416/subt-flood-testing/diff#Lsrc/NodeShared.ccT954). It would be nice if the buffer size was configurable.\r\n\r\nIf the buffer is too small we can loose messages but if the buffer is too big (or infinite), we can leak forever and run out of memory.\r\n\r\n# Motivation\r\n\r\nIt's possible to run out of memory with infinite sized buffers.\r\n\r\n# Additional context\r\n\r\nThe infinite buffer was needed by [subt](https://bitbucket.org/osrf/subt/issues/261/cloudsim-stops-sending-some-topics).", "markup": "markdown", "html": "<h1 id=\"markdown-header-summary\">Summary</h1>\n<p><a href=\"#!/ignitionrobotics/ign-transport/pull-requests/416/subt-flood-testing\" rel=\"nofollow\" class=\"ap-connect-link\">Pull request #416</a> set the send and receive zeromq buffers to infinite <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/pull-requests/416/subt-flood-testing/diff#Lsrc/NodeShared.ccT954\" rel=\"nofollow\">here</a>. It would be nice if the buffer size was configurable.</p>\n<p>If the buffer is too small we can loose messages but if the buffer is too big (or infinite), we can leak forever and run out of memory.</p>\n<h1 id=\"markdown-header-motivation\">Motivation</h1>\n<p>It's possible to run out of memory with infinite sized buffers.</p>\n<h1 id=\"markdown-header-additional-context\">Additional context</h1>\n<p>The infinite buffer was needed by <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/subt/issues/261/cloudsim-stops-sending-some-topics\" rel=\"nofollow\">subt</a>.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-12-20T21:36:12.455202+00:00", "milestone": null, "updated_on": "2020-01-15T17:31:07.707877+00:00", "type": "issue", "id": 116}, {"priority": "trivial", "kind": "task", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/117/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/117.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/117/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/117/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/117/cmake-error-at-cmakeliststxt-6"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/117/vote"}}, "reporter": null, "title": "CMake Error at CMakeLists.txt:6 (find_package):", "component": {"name": "logging", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/components/478826.json"}}}, "votes": 0, "watches": null, "content": {"raw": "CMake Error at CMakeLists.txt:6 (find_package):\r\n  By not providing \"Findignition-transport9.cmake\" in CMAKE_MODULE_PATH this\r\n  project has asked CMake to find a package configuration file provided by\r\n  \"ignition-transport9\", but CMake did not find one.", "markup": "markdown", "html": "<p>CMake Error at CMakeLists.txt:6 (find_package):\n  By not providing \"Findignition-transport9.cmake\" in CMAKE_MODULE_PATH this\n  project has asked CMake to find a package configuration file provided by\n  \"ignition-transport9\", but CMake did not find one.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2020-02-27T10:27:21.061237+00:00", "milestone": null, "updated_on": "2020-02-27T16:53:17.297888+00:00", "type": "issue", "id": 117}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/118/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/118.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/118/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/118/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/118/creating-node-sometimes-segfaults-in-linux"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/118/vote"}}, "reporter": {"display_name": "Poh Zhi-Ee", "uuid": "{0f9e52f8-3527-4ec6-9f81-b618bf1ce891}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0f9e52f8-3527-4ec6-9f81-b618bf1ce891%7D"}, "html": {"href": "https://bitbucket.org/%7B0f9e52f8-3527-4ec6-9f81-b618bf1ce891%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d8fdff74a679579375081904f622bc42d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPZ-3.png"}}, "nickname": "Poh Zhi-Ee", "type": "user", "account_id": "5e6f1dcbfad9000c325ce609"}, "title": "Creating node sometimes segfaults in linux", "component": null, "votes": 0, "watches": 1, "content": {"raw": "This is due to the lack of error handling for the `getpwuid_r()` call in the `username()` function in NetUtils.cc  \r\nAccording to the `getpwuid_r` [manpage](https://linux.die.net/man/3/getpwuid_r) the function is not always successful. Failing to handle the errors but continuing to use the `passwd` struct can result in the use of a corrupted data structure which causes a segfault.\r\n\r\nAdditional information:  \r\nStack trace of the segfault\r\n\r\n![](data/bitbucket.org/repo/og7EBq/images/2140815835-image.png)\r\n\u200c", "markup": "markdown", "html": "<p>This is due to the lack of error handling for the <code>getpwuid_r()</code> call in the <code>username()</code> function in NetUtils.cc<br />\nAccording to the <code>getpwuid_r</code> <a data-is-external-link=\"true\" href=\"https://linux.die.net/man/3/getpwuid_r\" rel=\"nofollow\">manpage</a> the function is not always successful. Failing to handle the errors but continuing to use the <code>passwd</code> struct can result in the use of a corrupted data structure which causes a segfault.</p>\n<p>Additional information:<br />\nStack trace of the segfault</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/og7EBq/images/2140815835-image.png\" />\n\u200c</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2020-03-16T07:00:09.966872+00:00", "milestone": null, "updated_on": "2020-04-07T00:26:04.982530+00:00", "type": "issue", "id": 118}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/119/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/119.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/119/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/119/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/119/add-partition-argument-to-the-c-interface"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/119/vote"}}, "reporter": {"display_name": "Juan Oxoby", "uuid": "{7d3743fc-bfd8-4e48-a53b-9cc0a264f66d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7d3743fc-bfd8-4e48-a53b-9cc0a264f66d%7D"}, "html": {"href": "https://bitbucket.org/%7B7d3743fc-bfd8-4e48-a53b-9cc0a264f66d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/3d4b2394d4fc0cf52ce2d5d797d60b25d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJO-0.png"}}, "nickname": "Juan Oxoby", "type": "user", "account_id": "5e544adb96f7d50ca05430ce"}, "title": "Add partition argument to the C interface of service requests", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Summary\r\n\r\nAdd a partition argument for the C interface of service requests.\r\n\r\n# Motivation\r\n\r\nI\u2019m working on creating Python bindings for service requests. I want to be able to start/pause a Server using the `/control` service. Furthermore, I want to be able to control multiple Servers in different processes.\r\n\r\nSince the `Node` 's method `Request` doesn\u2019t have a C interface in `CIface.h`, the only way to externally dealing with services is by using the function `cmdServiceReq` declared in `ign-transport/src/ign.hh`. The problem now is that `cmdServiceReq` doesn\u2019t take a partition as an argument.\r\n\r\n# Potential solution\r\n\r\nAdd partition argument to `cmdServiceReq`\r\n\r\n\u200c", "markup": "markdown", "html": "<h1 id=\"markdown-header-summary\">Summary</h1>\n<p>Add a partition argument for the C interface of service requests.</p>\n<h1 id=\"markdown-header-motivation\">Motivation</h1>\n<p>I\u2019m working on creating Python bindings for service requests. I want to be able to start/pause a Server using the <code>/control</code> service. Furthermore, I want to be able to control multiple Servers in different processes.</p>\n<p>Since the <code>Node</code> 's method <code>Request</code> doesn\u2019t have a C interface in <code>CIface.h</code>, the only way to externally dealing with services is by using the function <code>cmdServiceReq</code> declared in <code>ign-transport/src/ign.hh</code>. The problem now is that <code>cmdServiceReq</code> doesn\u2019t take a partition as an argument.</p>\n<h1 id=\"markdown-header-potential-solution\">Potential solution</h1>\n<p>Add partition argument to <code>cmdServiceReq</code></p>\n<p>\u200c</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2020-03-26T19:24:09.141503+00:00", "milestone": null, "updated_on": "2020-03-29T00:45:02.360519+00:00", "type": "issue", "id": 119}], "page": 2, "size": 119}