{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/45/comments/28504731.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/45#comment-28504731"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/45.json"}}, "type": "issue", "id": 45, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Service requests without input parameter"}, "content": {"raw": "Answer 1: The signature of the function and the body looks good to me.\n\nAnswer 2: This is because our library is not exporting the ignition::messages dependency yet. When pull request #130 is merged your code should work. In the meantime, add the following code to your example/CMakeLists.txt:\n\n\n```\n#!c++\n\n#################################################\n# Find ign msgs library\nfind_package(ignition-msgs0 QUIET)\nif (NOT ignition-msgs0_FOUND)\n  message(FATAL_ERROR \"Looking for ignition-msgs - not found\")\nelse()\n  message(STATUS \"Looking for ignition-msgs - found\")\n  include_directories(${IGNITION-MSGS_INCLUDE_DIRS})\n  link_directories(${IGNITION-MSGS_LIBRARY_DIRS})\nendif()\n```\n\nAlso add `${IGNITION-MSGS_LIBRARIES}` to the `target_link_libraries` section of each sample executable that needs to link against Ignition Msgs.\n\nThe other part missing is the `Advertise()` function for advertising a service without the input parameter. The callback signature should be:\n\n`void (T2 &_rep, bool &_result)`\n\nAlso, we should also allow an asynchronous `Request()`.", "markup": "markdown", "html": "<p>Answer 1: The signature of the function and the body looks good to me.</p>\n<p>Answer 2: This is because our library is not exporting the ignition::messages dependency yet. When <a href=\"#!/ignitionrobotics/ign-transport/pull-requests/130/pub_cmd\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #130</a> is merged your code should work. In the meantime, add the following code to your example/CMakeLists.txt:</p>\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"cp\">#################################################</span>\n<span class=\"cp\"># Find ign msgs library</span>\n<span class=\"n\">find_package</span><span class=\"p\">(</span><span class=\"n\">ignition</span><span class=\"o\">-</span><span class=\"n\">msgs0</span> <span class=\"n\">QUIET</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">NOT</span> <span class=\"n\">ignition</span><span class=\"o\">-</span><span class=\"n\">msgs0_FOUND</span><span class=\"p\">)</span>\n  <span class=\"n\">message</span><span class=\"p\">(</span><span class=\"n\">FATAL_ERROR</span> <span class=\"s\">&quot;Looking for ignition-msgs - not found&quot;</span><span class=\"p\">)</span>\n<span class=\"k\">else</span><span class=\"p\">()</span>\n  <span class=\"n\">message</span><span class=\"p\">(</span><span class=\"n\">STATUS</span> <span class=\"s\">&quot;Looking for ignition-msgs - found&quot;</span><span class=\"p\">)</span>\n  <span class=\"n\">include_directories</span><span class=\"p\">(</span><span class=\"err\">$</span><span class=\"p\">{</span><span class=\"n\">IGNITION</span><span class=\"o\">-</span><span class=\"n\">MSGS_INCLUDE_DIRS</span><span class=\"p\">})</span>\n  <span class=\"n\">link_directories</span><span class=\"p\">(</span><span class=\"err\">$</span><span class=\"p\">{</span><span class=\"n\">IGNITION</span><span class=\"o\">-</span><span class=\"n\">MSGS_LIBRARY_DIRS</span><span class=\"p\">})</span>\n<span class=\"n\">endif</span><span class=\"p\">()</span>\n</pre></div>\n\n\n<p>Also add <code>${IGNITION-MSGS_LIBRARIES}</code> to the <code>target_link_libraries</code> section of each sample executable that needs to link against Ignition Msgs.</p>\n<p>The other part missing is the <code>Advertise()</code> function for advertising a service without the input parameter. The callback signature should be:</p>\n<p><code>void (T2 &amp;_rep, bool &amp;_result)</code></p>\n<p>Also, we should also allow an asynchronous <code>Request()</code>.</p>", "type": "rendered"}, "created_on": "2016-06-14T17:53:18.153463+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2016-06-14T17:57:08.458347+00:00", "type": "issue_comment", "id": 28504731}