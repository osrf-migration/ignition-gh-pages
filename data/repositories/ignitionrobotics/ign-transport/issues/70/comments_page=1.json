{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/70/comments/39071045.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/70#comment-39071045"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/70.json"}}, "type": "issue", "id": 70, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Service with \"no\" request and empty reply hangs."}, "content": {"raw": "hi @hamzaethz , thanks for your question. Right now, Ignition Transport has three service request alternatives:\n\n1. Request a service with input and output parameters.\n2. Request a service with only input parameter. This is considered a `oneway` call and no reply or confirmation is sent to the original requester.\n3. Request a service with only output parameter. \n\nYou're trying option (3) but when the response is `Ignition::msgs::Empty`, we consider that the requester doesn't want anything else and we treat it as a oneway request. See the code [here](#!/ignitionrobotics/ign-transport/src/bda8c2ccb5f466972cd370f42c7476804af67949/src/NodeShared.cc?at=default&fileviewer=file-view-default#NodeShared.cc-484).\n\nThe easiest alternative is to do what you're already doing, choose any other message type and ignore it. \n\nFor your second question, most of the current Gazebo code uses `gazebo::transport`, so this is probably what you need to interact with Gazebo. Ignition Transport is used internally in some places but is not exposed to the users yet. If what you need is to reset the simulation you can publish a message on topic `~/world_control` of type `world_control`. This message has a field for triggering the world reset. See [here](https://bitbucket.org/osrf/gazebo/src/c1c50dc2390e9b1fc168ca41a501db5b57119212/gazebo/msgs/world_control.proto?at=default&fileviewer=file-view-default) the message definition.\n\nAnd about your last question, we don't have instructions to make Ignition Transport to work in Docker but it should be fine if you install a basic Ubuntu image and install the Ignition Transport `deb` package. That should be enough.", "markup": "markdown", "html": "<p>hi @hamzaethz , thanks for your question. Right now, Ignition Transport has three service request alternatives:</p>\n<ol>\n<li>Request a service with input and output parameters.</li>\n<li>Request a service with only input parameter. This is considered a <code>oneway</code> call and no reply or confirmation is sent to the original requester.</li>\n<li>Request a service with only output parameter. </li>\n</ol>\n<p>You're trying option (3) but when the response is <code>Ignition::msgs::Empty</code>, we consider that the requester doesn't want anything else and we treat it as a oneway request. See the code <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/src/bda8c2ccb5f466972cd370f42c7476804af67949/src/NodeShared.cc?at=default&amp;fileviewer=file-view-default#NodeShared.cc-484\" rel=\"nofollow\">here</a>.</p>\n<p>The easiest alternative is to do what you're already doing, choose any other message type and ignore it. </p>\n<p>For your second question, most of the current Gazebo code uses <code>gazebo::transport</code>, so this is probably what you need to interact with Gazebo. Ignition Transport is used internally in some places but is not exposed to the users yet. If what you need is to reset the simulation you can publish a message on topic <code>~/world_control</code> of type <code>world_control</code>. This message has a field for triggering the world reset. See <a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/gazebo/src/c1c50dc2390e9b1fc168ca41a501db5b57119212/gazebo/msgs/world_control.proto?at=default&amp;fileviewer=file-view-default\" rel=\"nofollow\">here</a> the message definition.</p>\n<p>And about your last question, we don't have instructions to make Ignition Transport to work in Docker but it should be fine if you install a basic Ubuntu image and install the Ignition Transport <code>deb</code> package. That should be enough.</p>", "type": "rendered"}, "created_on": "2017-08-14T12:45:54.632083+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": null, "type": "issue_comment", "id": 39071045}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/70/comments/39114849.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/70#comment-39114849"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/70.json"}}, "type": "issue", "id": 70, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Service with \"no\" request and empty reply hangs."}, "content": {"raw": "Dear @caguero thank you very much for your answer!\n\nRegarding the first part, that is now clear, thank you for the detailed explanation.\n\nRegarding the second part, I decided to go with ignition transport since I need to make sure that the message arrives on the other end, which is convenient for ignition services. On the other hand, gazebo transport api does not seem to provide services. \n\nRegarding ignition in Docker, I tried it and it did not work out of the box. What I noticed is (when running the client and server in verbose mode) that both client and server are spawned, the service request is sent, but it never gets received. In other words, it seems that they both get spawned, but they cannot establish a communication channel. I am not an expert, but I feel like some communication ports might need to be enabled in Docker first, or some additional setup needs to happen?\n\nEDIT: I figured out where the problem was. I used GZ_ASSERT(node.Advertise(...)) on some of the services, and this worked fine on my PC since I didn't compile with Release flag. In Docker on the other hand I compiled Release which removed these asserts and caused.", "markup": "markdown", "html": "<p>Dear @caguero thank you very much for your answer!</p>\n<p>Regarding the first part, that is now clear, thank you for the detailed explanation.</p>\n<p>Regarding the second part, I decided to go with ignition transport since I need to make sure that the message arrives on the other end, which is convenient for ignition services. On the other hand, gazebo transport api does not seem to provide services. </p>\n<p>Regarding ignition in Docker, I tried it and it did not work out of the box. What I noticed is (when running the client and server in verbose mode) that both client and server are spawned, the service request is sent, but it never gets received. In other words, it seems that they both get spawned, but they cannot establish a communication channel. I am not an expert, but I feel like some communication ports might need to be enabled in Docker first, or some additional setup needs to happen?</p>\n<p>EDIT: I figured out where the problem was. I used GZ_ASSERT(node.Advertise(...)) on some of the services, and this worked fine on my PC since I didn't compile with Release flag. In Docker on the other hand I compiled Release which removed these asserts and caused.</p>", "type": "rendered"}, "created_on": "2017-08-16T09:32:47.578563+00:00", "user": {"display_name": "Hamza Merzi\u0107", "uuid": "{2100f54d-6bc6-4db0-ada5-db7be9320606}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2100f54d-6bc6-4db0-ada5-db7be9320606%7D"}, "html": {"href": "https://bitbucket.org/%7B2100f54d-6bc6-4db0-ada5-db7be9320606%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:172a2e1e-2bf2-4054-9b9b-9d541ddc8e4e/ab842f18-c8ca-4a0c-a82a-6d4d39ffdb37/128"}}, "nickname": "hamzaethz", "type": "user", "account_id": "557058:172a2e1e-2bf2-4054-9b9b-9d541ddc8e4e"}, "updated_on": "2017-08-16T13:34:53.990742+00:00", "type": "issue_comment", "id": 39114849}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/70/comments/39464677.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/70#comment-39464677"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/70.json"}}, "type": "issue", "id": 70, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Service with \"no\" request and empty reply hangs."}, "content": {"raw": "I'm glad you figured out. Feel free to create a pull request if you want to enhance the documentation under `docs` with a tutorial about how to use Ignition Transport with Docker. I'm marking this issue as resolved, but reopen if necessary.", "markup": "markdown", "html": "<p>I'm glad you figured out. Feel free to create a pull request if you want to enhance the documentation under <code>docs</code> with a tutorial about how to use Ignition Transport with Docker. I'm marking this issue as resolved, but reopen if necessary.</p>", "type": "rendered"}, "created_on": "2017-08-29T11:02:15.606362+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": null, "type": "issue_comment", "id": 39464677}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/70/comments/39464695.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/70#comment-39464695"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/70.json"}}, "type": "issue", "id": 70, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Service with \"no\" request and empty reply hangs."}, "content": {"raw": "In the discussion.", "markup": "markdown", "html": "<p>In the discussion.</p>", "type": "rendered"}, "created_on": "2017-08-29T11:02:44.012721+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": null, "type": "issue_comment", "id": 39464695}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/70/comments/39464876.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/70#comment-39464876"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/70.json"}}, "type": "issue", "id": 70, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Service with \"no\" request and empty reply hangs."}, "content": {"raw": "@hamzaethz we do have plans to migrate service functionality in gazebo over to ignition transport and are tracking that in the following issue if you are interested:\n\n* https://bitbucket.org/osrf/gazebo/issues/2331/migrate-request-response-behavior-to", "markup": "markdown", "html": "<p>@hamzaethz we do have plans to migrate service functionality in gazebo over to ignition transport and are tracking that in the following issue if you are interested:</p>\n<ul>\n<li><a href=\"https://bitbucket.org/osrf/gazebo/issues/2331/migrate-request-response-behavior-to\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/gazebo/issues/2331/migrate-request-response-behavior-to</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-08-29T11:11:23.244890+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 39464876}], "page": 1, "size": 5}