{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/48/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/48.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/48/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/48/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/48/windows-compilation-broken-on-default"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/48/vote"}}, "reporter": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "title": "Windows compilation broken on default branch", "component": null, "votes": 0, "watches": 1, "content": {"raw": "http://build.osrfoundation.org/job/ignition_transport-ci-default-windows7-amd64/57/\r\n\r\n```\r\n#!msvc\r\n\r\n\r\n[ 14%] Building CXX object src/CMakeFiles/ignition-transport2.dir/Publisher.cc.obj\r\nPublisher.cc\r\nD:\\Jenkins\\workspace\\ignition_transport-ci-default-windows7-amd64\\workspace\\ign-transport\\src\\Publisher.cc(118) : warning C4267: 'initializing' : conversion from 'size_t' to 'uint16_t', possible loss of data\r\n[ 16%] Building CXX object src/CMakeFiles/ignition-transport2.dir/TopicUtils.cc.obj\r\nTopicUtils.cc\r\nD:\\Jenkins\\workspace\\ignition_transport-ci-default-windows7-amd64\\workspace\\ign-transport\\include\\ignition/transport/TopicUtils.hh(74) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\r\nD:\\Jenkins\\workspace\\ignition_transport-ci-default-windows7-amd64\\workspace\\ign-transport\\include\\ignition/transport/TopicUtils.hh(74) : error C2146: syntax error : missing ';' before identifier 'kMaxNameLength'\r\nD:\\Jenkins\\workspace\\ignition_transport-ci-default-windows7-amd64\\workspace\\ign-transport\\include\\ignition/transport/TopicUtils.hh(74) : error C2143: syntax error : missing ';' before '='\r\nD:\\Jenkins\\workspace\\ignition_transport-ci-default-windows7-amd64\\workspace\\ign-transport\\include\\ignition/transport/TopicUtils.hh(74) : error C2238: unexpected token(s) preceding ';'\r\nD:\\Jenkins\\workspace\\ignition_transport-ci-default-windows7-amd64\\workspace\\ign-transport\\src\\TopicUtils.cc(29) : error C2065: 'kMaxNameLength' : undeclared identifier\r\nD:\\Jenkins\\workspace\\ignition_transport-ci-default-windows7-amd64\\workspace\\ign-transport\\src\\TopicUtils.cc(113) : error C2065: 'kMaxNameLength' : undeclared identifier\r\nNMAKE : fatal error U1077: 'C:\\PROGRA~2\\MICROS~1.0\\VC\\bin\\X86_AM~1\\cl.exe' : return code '0x2'\r\nStop.\r\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\VC\\BIN\\nmake.exe\"' : return code '0x2'\r\nStop.\r\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\VC\\BIN\\nmake.exe\"' : return code '0x2'\r\nStop.\r\nFailed with error #2.\r\n```\r\n\r\n", "markup": "markdown", "html": "<p><a href=\"http://build.osrfoundation.org/job/ignition_transport-ci-default-windows7-amd64/57/\" rel=\"nofollow\" class=\"ap-connect-link\">http://build.osrfoundation.org/job/ignition_transport-ci-default-windows7-amd64/57/</a></p>\n<div class=\"codehilite language-msvc\"><pre><span></span><span class=\"cp\">[</span> <span class=\"mi\">14</span><span class=\"o\">%</span><span class=\"cp\">]</span> <span class=\"nt\">Building</span> <span class=\"nt\">CXX</span> <span class=\"nt\">object</span> <span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">CMakeFiles</span><span class=\"o\">/</span><span class=\"nt\">ignition-transport2</span><span class=\"p\">.</span><span class=\"nc\">dir</span><span class=\"o\">/</span><span class=\"nt\">Publisher</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">.</span><span class=\"nc\">obj</span>\n<span class=\"nt\">Publisher</span><span class=\"p\">.</span><span class=\"nc\">cc</span>\n<span class=\"nt\">D</span><span class=\"o\">:</span><span class=\"err\">\\</span><span class=\"nt\">Jenkins</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ignition_transport-ci-default-windows7-amd64</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ign-transport</span><span class=\"err\">\\</span><span class=\"nt\">src</span><span class=\"err\">\\</span><span class=\"nt\">Publisher</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"o\">(</span><span class=\"nt\">118</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"nt\">warning</span> <span class=\"nt\">C4267</span><span class=\"o\">:</span> <span class=\"s1\">&#39;initializing&#39;</span> <span class=\"o\">:</span> <span class=\"nt\">conversion</span> <span class=\"nt\">from</span> <span class=\"s1\">&#39;size_t&#39;</span> <span class=\"nt\">to</span> <span class=\"s1\">&#39;uint16_t&#39;</span><span class=\"o\">,</span> <span class=\"nt\">possible</span> <span class=\"nt\">loss</span> <span class=\"nt\">of</span> <span class=\"nt\">data</span>\n<span class=\"cp\">[</span> <span class=\"mi\">16</span><span class=\"o\">%</span><span class=\"cp\">]</span> <span class=\"nt\">Building</span> <span class=\"nt\">CXX</span> <span class=\"nt\">object</span> <span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">CMakeFiles</span><span class=\"o\">/</span><span class=\"nt\">ignition-transport2</span><span class=\"p\">.</span><span class=\"nc\">dir</span><span class=\"o\">/</span><span class=\"nt\">TopicUtils</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">.</span><span class=\"nc\">obj</span>\n<span class=\"nt\">TopicUtils</span><span class=\"p\">.</span><span class=\"nc\">cc</span>\n<span class=\"nt\">D</span><span class=\"o\">:</span><span class=\"err\">\\</span><span class=\"nt\">Jenkins</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ignition_transport-ci-default-windows7-amd64</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ign-transport</span><span class=\"err\">\\</span><span class=\"nt\">include</span><span class=\"err\">\\</span><span class=\"nt\">ignition</span><span class=\"o\">/</span><span class=\"nt\">transport</span><span class=\"o\">/</span><span class=\"nt\">TopicUtils</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"o\">(</span><span class=\"nt\">74</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"nt\">error</span> <span class=\"nt\">C4430</span><span class=\"o\">:</span> <span class=\"nt\">missing</span> <span class=\"nt\">type</span> <span class=\"nt\">specifier</span> <span class=\"nt\">-</span> <span class=\"nt\">int</span> <span class=\"nt\">assumed</span><span class=\"o\">.</span> <span class=\"nt\">Note</span><span class=\"o\">:</span> <span class=\"nt\">C</span><span class=\"o\">++</span> <span class=\"nt\">does</span> <span class=\"nt\">not</span> <span class=\"nt\">support</span> <span class=\"nt\">default-int</span>\n<span class=\"nt\">D</span><span class=\"o\">:</span><span class=\"err\">\\</span><span class=\"nt\">Jenkins</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ignition_transport-ci-default-windows7-amd64</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ign-transport</span><span class=\"err\">\\</span><span class=\"nt\">include</span><span class=\"err\">\\</span><span class=\"nt\">ignition</span><span class=\"o\">/</span><span class=\"nt\">transport</span><span class=\"o\">/</span><span class=\"nt\">TopicUtils</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"o\">(</span><span class=\"nt\">74</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"nt\">error</span> <span class=\"nt\">C2146</span><span class=\"o\">:</span> <span class=\"nt\">syntax</span> <span class=\"nt\">error</span> <span class=\"o\">:</span> <span class=\"nt\">missing</span> <span class=\"s1\">&#39;;&#39;</span> <span class=\"nt\">before</span> <span class=\"nt\">identifier</span> <span class=\"s1\">&#39;kMaxNameLength&#39;</span>\n<span class=\"nt\">D</span><span class=\"o\">:</span><span class=\"err\">\\</span><span class=\"nt\">Jenkins</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ignition_transport-ci-default-windows7-amd64</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ign-transport</span><span class=\"err\">\\</span><span class=\"nt\">include</span><span class=\"err\">\\</span><span class=\"nt\">ignition</span><span class=\"o\">/</span><span class=\"nt\">transport</span><span class=\"o\">/</span><span class=\"nt\">TopicUtils</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"o\">(</span><span class=\"nt\">74</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"nt\">error</span> <span class=\"nt\">C2143</span><span class=\"o\">:</span> <span class=\"nt\">syntax</span> <span class=\"nt\">error</span> <span class=\"o\">:</span> <span class=\"nt\">missing</span> <span class=\"s1\">&#39;;&#39;</span> <span class=\"nt\">before</span> <span class=\"s1\">&#39;=&#39;</span>\n<span class=\"nt\">D</span><span class=\"o\">:</span><span class=\"err\">\\</span><span class=\"nt\">Jenkins</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ignition_transport-ci-default-windows7-amd64</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ign-transport</span><span class=\"err\">\\</span><span class=\"nt\">include</span><span class=\"err\">\\</span><span class=\"nt\">ignition</span><span class=\"o\">/</span><span class=\"nt\">transport</span><span class=\"o\">/</span><span class=\"nt\">TopicUtils</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"o\">(</span><span class=\"nt\">74</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"nt\">error</span> <span class=\"nt\">C2238</span><span class=\"o\">:</span> <span class=\"nt\">unexpected</span> <span class=\"nt\">token</span><span class=\"o\">(</span><span class=\"nt\">s</span><span class=\"o\">)</span> <span class=\"nt\">preceding</span> <span class=\"s1\">&#39;;&#39;</span>\n<span class=\"nt\">D</span><span class=\"o\">:</span><span class=\"err\">\\</span><span class=\"nt\">Jenkins</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ignition_transport-ci-default-windows7-amd64</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ign-transport</span><span class=\"err\">\\</span><span class=\"nt\">src</span><span class=\"err\">\\</span><span class=\"nt\">TopicUtils</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"o\">(</span><span class=\"nt\">29</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"nt\">error</span> <span class=\"nt\">C2065</span><span class=\"o\">:</span> <span class=\"s1\">&#39;kMaxNameLength&#39;</span> <span class=\"o\">:</span> <span class=\"nt\">undeclared</span> <span class=\"nt\">identifier</span>\n<span class=\"nt\">D</span><span class=\"o\">:</span><span class=\"err\">\\</span><span class=\"nt\">Jenkins</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ignition_transport-ci-default-windows7-amd64</span><span class=\"err\">\\</span><span class=\"nt\">workspace</span><span class=\"err\">\\</span><span class=\"nt\">ign-transport</span><span class=\"err\">\\</span><span class=\"nt\">src</span><span class=\"err\">\\</span><span class=\"nt\">TopicUtils</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"o\">(</span><span class=\"nt\">113</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"nt\">error</span> <span class=\"nt\">C2065</span><span class=\"o\">:</span> <span class=\"s1\">&#39;kMaxNameLength&#39;</span> <span class=\"o\">:</span> <span class=\"nt\">undeclared</span> <span class=\"nt\">identifier</span>\n<span class=\"nt\">NMAKE</span> <span class=\"o\">:</span> <span class=\"nt\">fatal</span> <span class=\"nt\">error</span> <span class=\"nt\">U1077</span><span class=\"o\">:</span> <span class=\"s1\">&#39;C:\\PROGRA~2\\MICROS~1.0\\VC\\bin\\X86_AM~1\\cl.exe&#39;</span> <span class=\"o\">:</span> <span class=\"nt\">return</span> <span class=\"nt\">code</span> <span class=\"s1\">&#39;0x2&#39;</span>\n<span class=\"nt\">Stop</span><span class=\"o\">.</span>\n<span class=\"nt\">NMAKE</span> <span class=\"o\">:</span> <span class=\"nt\">fatal</span> <span class=\"nt\">error</span> <span class=\"nt\">U1077</span><span class=\"o\">:</span> <span class=\"s1\">&#39;&quot;C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\VC\\BIN\\nmake.exe&quot;&#39;</span> <span class=\"o\">:</span> <span class=\"nt\">return</span> <span class=\"nt\">code</span> <span class=\"s1\">&#39;0x2&#39;</span>\n<span class=\"nt\">Stop</span><span class=\"o\">.</span>\n<span class=\"nt\">NMAKE</span> <span class=\"o\">:</span> <span class=\"nt\">fatal</span> <span class=\"nt\">error</span> <span class=\"nt\">U1077</span><span class=\"o\">:</span> <span class=\"s1\">&#39;&quot;C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\VC\\BIN\\nmake.exe&quot;&#39;</span> <span class=\"o\">:</span> <span class=\"nt\">return</span> <span class=\"nt\">code</span> <span class=\"s1\">&#39;0x2&#39;</span>\n<span class=\"nt\">Stop</span><span class=\"o\">.</span>\n<span class=\"nt\">Failed</span> <span class=\"nt\">with</span> <span class=\"nt\">error</span> <span class=\"p\">#</span><span class=\"nn\">2</span><span class=\"o\">.</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2016-06-23T19:48:25.036453+00:00", "milestone": null, "updated_on": "2016-06-24T15:03:13.197943+00:00", "type": "issue", "id": 48}