{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90/comments/45531500.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/90#comment-45531500"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90.json"}}, "type": "issue", "id": 90, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Spurious crashes from the ign log record tool"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2018-05-16T17:25:49.807611+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 45531500}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90/comments/45532216.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/90#comment-45532216"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90.json"}}, "type": "issue", "id": 90, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Spurious crashes from the ign log record tool"}, "content": {"raw": "@nkoenig ~~How soon does this issue need to be solved?~~ Never mind, I see the due date in Asana", "markup": "markdown", "html": "<p>@nkoenig <del>How soon does this issue need to be solved?</del> Never mind, I see the due date in Asana</p>", "type": "rendered"}, "created_on": "2018-05-16T17:32:54.624335+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": "2018-05-16T17:34:48.104361+00:00", "type": "issue_comment", "id": 45532216}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90/comments/45546002.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/90#comment-45546002"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90.json"}}, "type": "issue", "id": 90, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Spurious crashes from the ign log record tool"}, "content": {"raw": "@sloretz It's something to work on starting in June.", "markup": "markdown", "html": "<p>@sloretz It's something to work on starting in June.</p>", "type": "rendered"}, "created_on": "2018-05-16T19:24:29.974821+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 45546002}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90/comments/46177595.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/90#comment-46177595"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90.json"}}, "type": "issue", "id": 90, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Spurious crashes from the ign log record tool"}, "content": {"raw": "@mxgrey Do you happen to have a link to a job where this crash happens? I haven't been able to reproduce it locally even  using colcon's `--retest-until-fail 1000`.\n\nIf there isn't a known way to reproduce it I would vote to close this issue when pull request #317 is merged.\n\n`std::bad_function_call` is only thrown by `std::function`. Starting from `ign log record` there are only two paths to `std::function`:\n\n1.  the `Discovery` class instance used by `Recorder`\n2. calls to `SubscribeRaw()`\n\nI didn't see a way to get an unset `std::function` in `SubscribeRaw()`, but there is a case in `Discovery::UpdateActivity()`. It requires a publisher to be discovered and then disappear without sending a `ByeType` message. I could see that happening on a developer machine where another process could be killed while a test is running, but would be surprised to see it on CI.", "markup": "markdown", "html": "<p>@mxgrey Do you happen to have a link to a job where this crash happens? I haven't been able to reproduce it locally even  using colcon's <code>--retest-until-fail 1000</code>.</p>\n<p>If there isn't a known way to reproduce it I would vote to close this issue when <a href=\"#!/ignitionrobotics/ign-transport/pull-requests/317/check-callback-is-valid-before-calling-it\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #317</a> is merged.</p>\n<p><code>std::bad_function_call</code> is only thrown by <code>std::function</code>. Starting from <code>ign log record</code> there are only two paths to <code>std::function</code>:</p>\n<ol>\n<li>the <code>Discovery</code> class instance used by <code>Recorder</code></li>\n<li>calls to <code>SubscribeRaw()</code></li>\n</ol>\n<p>I didn't see a way to get an unset <code>std::function</code> in <code>SubscribeRaw()</code>, but there is a case in <code>Discovery::UpdateActivity()</code>. It requires a publisher to be discovered and then disappear without sending a <code>ByeType</code> message. I could see that happening on a developer machine where another process could be killed while a test is running, but would be surprised to see it on CI.</p>", "type": "rendered"}, "created_on": "2018-06-12T23:19:30.823331+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": null, "type": "issue_comment", "id": 46177595}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90/comments/46179432.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/90#comment-46179432"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90.json"}}, "type": "issue", "id": 90, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Spurious crashes from the ign log record tool"}, "content": {"raw": "I wish I could offer more information, but I've never managed to reliably recreate it.\n\nThe only trend that I can remember is: The only time I've seen it happen on my own computer is if I attempt to run the `ign log record` tool before *any* ign-transport node has *ever* attempted to publish *anything* since the computer started up. I've never seen the spurious crash on my own computer after any node has actually published anything since startup.\n\nHowever, that \"trend\" might be a complete coincidence, since ign-transport is essentially peer-to-peer and doesn't maintain any history of prior publishers.\n\nI'm on board with assuming that the fix in PR #317 will take care of it. We can always reopen if someone experiences this again in the future.", "markup": "markdown", "html": "<p>I wish I could offer more information, but I've never managed to reliably recreate it.</p>\n<p>The only trend that I can remember is: The only time I've seen it happen on my own computer is if I attempt to run the <code>ign log record</code> tool before <em>any</em> ign-transport node has <em>ever</em> attempted to publish <em>anything</em> since the computer started up. I've never seen the spurious crash on my own computer after any node has actually published anything since startup.</p>\n<p>However, that \"trend\" might be a complete coincidence, since ign-transport is essentially peer-to-peer and doesn't maintain any history of prior publishers.</p>\n<p>I'm on board with assuming that the fix in <a href=\"#!/ignitionrobotics/ign-transport/pull-requests/317/check-callback-is-valid-before-calling-it\" rel=\"nofollow\" class=\"ap-connect-link\">PR #317</a> will take care of it. We can always reopen if someone experiences this again in the future.</p>", "type": "rendered"}, "created_on": "2018-06-13T03:54:16.486664+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 46179432}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90/comments/46197650.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/90#comment-46197650"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90.json"}}, "type": "issue", "id": 90, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Spurious crashes from the ign log record tool"}, "content": {"raw": "+1 to assuming pr #317 fixes the issue and reopen as needed.", "markup": "markdown", "html": "<p>+1 to assuming <a href=\"#!/ignitionrobotics/ign-transport/pull-requests/317/check-callback-is-valid-before-calling-it\" rel=\"nofollow\" class=\"ap-connect-link\">pr #317</a> fixes the issue and reopen as needed.</p>", "type": "rendered"}, "created_on": "2018-06-13T18:47:27.426100+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 46197650}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90/comments/46200584.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/90#comment-46200584"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/90.json"}}, "type": "issue", "id": 90, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Spurious crashes from the ign log record tool"}, "content": {"raw": "Fixed by pull request #317, merging forwards.", "markup": "markdown", "html": "<p>Fixed by <a href=\"#!/ignitionrobotics/ign-transport/pull-requests/317/check-callback-is-valid-before-calling-it\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #317</a>, merging forwards.</p>", "type": "rendered"}, "created_on": "2018-06-13T22:09:22.116950+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": null, "type": "issue_comment", "id": 46200584}], "page": 1, "size": 7}