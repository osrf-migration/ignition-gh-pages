{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/33/comments/17787299.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/33#comment-17787299"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/33.json"}}, "type": "issue", "id": 33, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "protobuf ParseFromString function return value not checked"}, "content": {"raw": "There are several instances in header files:\n\n* [Node.hh:603](#!/ignitionrobotics/ign-transport/src/89b09d95a1855e753d7a7e11eaf36466b783ac9e/include/ignition/transport/Node.hh?at=default#cl-603)\n* [RepHandler.hh:175](#!/ignitionrobotics/ign-transport/src/89b09d95a1855e753d7a7e11eaf36466b783ac9e/include/ignition/transport/RepHandler.hh?at=default#cl-175)\n* [ReqHandler.hh:179](#!/ignitionrobotics/ign-transport/src/89b09d95a1855e753d7a7e11eaf36466b783ac9e/include/ignition/transport/ReqHandler.hh?at=default#cl-179)\n* [SubscriptionHandler.hh:117](#!/ignitionrobotics/ign-transport/src/89b09d95a1855e753d7a7e11eaf36466b783ac9e/include/ignition/transport/SubscriptionHandler.hh?at=default#cl-117)\n\nThere's also one instance in HandlerStorage_TEST.cc, which is an easy fix:\n~~~\ndiff -r 89b09d95a185 src/HandlerStorage_TEST.cc\n--- a/src/HandlerStorage_TEST.cc\tThu Apr 16 08:24:54 2015 -0700\n+++ b/src/HandlerStorage_TEST.cc\tThu Apr 30 00:18:59 2015 -0700\n@@ -119,7 +119,7 @@\n   handler->RunCallback(topic, reqSerialized, repSerialized, result);\n   EXPECT_TRUE(cbExecuted);\n   EXPECT_TRUE(result);\n-  rep1Msg.ParseFromString(repSerialized);\n+  EXPECT_TRUE(rep1Msg.ParseFromString(repSerialized));\n   EXPECT_EQ(rep1Msg.data(), intResult);\n \n   // Create another REP handler without a callback for node1.\n~~~", "markup": "markdown", "html": "<p>There are several instances in header files:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/src/89b09d95a1855e753d7a7e11eaf36466b783ac9e/include/ignition/transport/Node.hh?at=default#cl-603\" rel=\"nofollow\">Node.hh:603</a></li>\n<li><a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/src/89b09d95a1855e753d7a7e11eaf36466b783ac9e/include/ignition/transport/RepHandler.hh?at=default#cl-175\" rel=\"nofollow\">RepHandler.hh:175</a></li>\n<li><a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/src/89b09d95a1855e753d7a7e11eaf36466b783ac9e/include/ignition/transport/ReqHandler.hh?at=default#cl-179\" rel=\"nofollow\">ReqHandler.hh:179</a></li>\n<li><a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-transport/src/89b09d95a1855e753d7a7e11eaf36466b783ac9e/include/ignition/transport/SubscriptionHandler.hh?at=default#cl-117\" rel=\"nofollow\">SubscriptionHandler.hh:117</a></li>\n</ul>\n<p>There's also one instance in HandlerStorage_TEST.cc, which is an easy fix:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 89b09d95a185 src/HandlerStorage_TEST.cc</span>\n<span class=\"gd\">--- a/src/HandlerStorage_TEST.cc    Thu Apr 16 08:24:54 2015 -0700</span>\n<span class=\"gi\">+++ b/src/HandlerStorage_TEST.cc    Thu Apr 30 00:18:59 2015 -0700</span>\n<span class=\"gu\">@@ -119,7 +119,7 @@</span>\n   handler-&gt;RunCallback(topic, reqSerialized, repSerialized, result);\n   EXPECT_TRUE(cbExecuted);\n   EXPECT_TRUE(result);\n<span class=\"gd\">-  rep1Msg.ParseFromString(repSerialized);</span>\n<span class=\"gi\">+  EXPECT_TRUE(rep1Msg.ParseFromString(repSerialized));</span>\n   EXPECT_EQ(rep1Msg.data(), intResult);\n\n   // Create another REP handler without a callback for node1.\n</pre></div>", "type": "rendered"}, "created_on": "2015-04-30T07:23:38.569788+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 17787299}