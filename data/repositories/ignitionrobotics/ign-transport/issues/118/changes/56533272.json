{"changes": {"content": {"new": "This is due to the lack of error handling for the `getpwuid_r()` call in the `username()` function in N[etUtils.cc.](http://NetUtils.cc)  \r\nAccording to the `getpwuid_r` [manpage](https://linux.die.net/man/3/getpwuid_r) the function is not always successful. Failing to handle the errors but continuing to use the `passwd` struct can result in the use of a corrupted data structure which causes a segfault.\r\n\r\nAdditional information:  \r\nStack trace of the segfault\r\n\r\n![](https://bitbucket.org/repo/og7EBq/images/2140815835-image.png)\r\n\u200c", "old": "This is due to the lack of error handling for the `getpwuid_r()` call in the `username()` function in N[etUtils.cc.](http://NetUtils.cc)  \r\nAccording to the `getpwuid_r` [manpage](https://linux.die.net/man/3/getpwuid_r) the function is not always successful. Failing to handle the errors but continuing to use the `passwd` struct can result in the use of a corrupted data structure which causes a segfault.\r\n\r\n\u200c"}}, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/118/changes/56533272.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/118#comment-56533272"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/118.json"}}, "type": "issue", "id": 118, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "title": "Creating node sometimes segfaults in linux"}, "created_on": "2020-03-16T07:04:58.201774+00:00", "user": {"display_name": "Poh Zhi-Ee", "uuid": "{0f9e52f8-3527-4ec6-9f81-b618bf1ce891}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0f9e52f8-3527-4ec6-9f81-b618bf1ce891%7D"}, "html": {"href": "https://bitbucket.org/%7B0f9e52f8-3527-4ec6-9f81-b618bf1ce891%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/d8fdff74a679579375081904f622bc42d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPZ-3.png"}}, "nickname": "Poh Zhi-Ee", "type": "user", "account_id": "5e6f1dcbfad9000c325ce609"}, "message": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "type": "issue_change", "id": 56533272}