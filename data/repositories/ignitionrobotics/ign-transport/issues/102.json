{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-transport.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport"}, "avatar": {"href": "data/bytebucket.org/ravatar/{4249390a-7f55-404b-990d-817ba94cc7ac}ts=1533306"}}, "type": "repository", "name": "ign-transport", "full_name": "ignitionrobotics/ign-transport", "uuid": "{4249390a-7f55-404b-990d-817ba94cc7ac}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/102/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/102.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/102/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-transport/issues/102/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-transport/issues/102/installing-from-debs-doesnt-allow-to-use"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-transport/issues/102/vote"}}, "reporter": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "title": "Installing from debs doesn't allow to use ign topic commands", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Description \r\n\r\nInstalling from debs doesn't allow to use `ign topic` commands.\r\n\r\n# Steps to Reproduce\r\n\r\nInstall from debs `libignition-transport6` and `libignition-transport6-dev` in Ubuntu bionic (18.04)\r\n\r\n**Expected behavior:**  \r\n\r\nign help shows the topic plugin available. It is possible to listen to ign topics using `ign topic`\r\n\r\n**Actual behavior:**\r\n\r\n`ign topic` command is not recognized. Instead the following message appears:\r\n\r\n```\r\n$ ign topic --versions\r\nThe 'ign' command provides a command line interface to the ignition tools.\r\n\r\n  ign <command> [options]\r\n\r\nList of available commands:\r\n\r\n  help:          Print this help text.\r\n  msg:           Print information about messages.\r\n  sdf:           Utilities for SDF files.\r\n\r\nOptions:\r\n\r\n  --force-version <VERSION>  Use a specific library version.\r\n  --versions                 Show the available versions.\r\nUse 'ign help <command>' to print help for a command.\r\n```\r\n\r\n**Reproduces how often:** \r\n\r\nAlways\r\n\r\n# Versions\r\n\r\n6.0.0~pre2-2\r\n\r\n# Additional Information\r\n\r\nThe problem is fixed installing from sources with this settings:\r\n```\r\nexport IGN_CONFIG_PATH=/usr/local/share/ignition\r\n```\r\nTalking with @caguero we found out that this is because transport6.yaml is not installed into /usr/share/ignition/.\r\n\r\nIt is actually not in the deb package:\r\n\r\n```\r\n/tmp/trans6$ find .\r\n.\r\n./usr\r\n./usr/include\r\n./usr/include/ignition\r\n./usr/include/ignition/transport6\r\n./usr/include/ignition/transport6/ignition\r\n./usr/include/ignition/transport6/ignition/transport\r\n./usr/include/ignition/transport6/ignition/transport/ign.hh\r\n./usr/include/ignition/transport6/ignition/transport/ReqHandler.hh\r\n./usr/include/ignition/transport6/ignition/transport/TopicUtils.hh\r\n./usr/include/ignition/transport6/ignition/transport/AdvertiseOptions.hh\r\n./usr/include/ignition/transport6/ignition/transport/Packet.hh\r\n./usr/include/ignition/transport6/ignition/transport/Helpers.hh\r\n./usr/include/ignition/transport6/ignition/transport/NodeOptions.hh\r\n./usr/include/ignition/transport6/ignition/transport/Publisher.hh\r\n./usr/include/ignition/transport6/ignition/transport/TopicStorage.hh\r\n./usr/include/ignition/transport6/ignition/transport/SubscriptionHandler.hh\r\n./usr/include/ignition/transport6/ignition/transport/NetUtils.hh\r\n./usr/include/ignition/transport6/ignition/transport/Export.hh\r\n./usr/include/ignition/transport6/ignition/transport/Discovery.hh\r\n./usr/include/ignition/transport6/ignition/transport/Node.hh\r\n./usr/include/ignition/transport6/ignition/transport/HandlerStorage.hh\r\n./usr/include/ignition/transport6/ignition/transport/TransportTypes.hh\r\n./usr/include/ignition/transport6/ignition/transport/SubscribeOptions.hh\r\n./usr/include/ignition/transport6/ignition/transport/Clock.hh\r\n./usr/include/ignition/transport6/ignition/transport/RepHandler.hh\r\n./usr/include/ignition/transport6/ignition/transport/NodeShared.hh\r\n./usr/include/ignition/transport6/ignition/transport/log\r\n./usr/include/ignition/transport6/ignition/transport/log/QualifiedTime.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/SqlStatement.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Recorder.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Batch.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/MsgIter.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/QueryOptions.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Message.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Playback.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Export.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Log.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/detail\r\n./usr/include/ignition/transport6/ignition/transport/log/detail/QueryOptions.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/detail/Export.hh\r\n./usr/include/ignition/transport6/ignition/transport/log/Descriptor.hh\r\n./usr/include/ignition/transport6/ignition/transport/log.hh\r\n./usr/include/ignition/transport6/ignition/transport/MessageInfo.hh\r\n./usr/include/ignition/transport6/ignition/transport/Uuid.hh\r\n./usr/include/ignition/transport6/ignition/transport/detail\r\n./usr/include/ignition/transport6/ignition/transport/detail/Export.hh\r\n./usr/include/ignition/transport6/ignition/transport/detail/Node.hh\r\n./usr/include/ignition/transport6/ignition/transport/config.hh\r\n./usr/include/ignition/transport6/ignition/transport.hh\r\n./usr/lib\r\n./usr/lib/ruby\r\n./usr/lib/ruby/ignition\r\n./usr/lib/ruby/ignition/cmdtransport6.rb\r\n./usr/lib/ruby/ignition/cmdlog6.rb\r\n./usr/lib/x86_64-linux-gnu\r\n./usr/lib/x86_64-linux-gnu/libignition-transport6.so.6\r\n./usr/lib/x86_64-linux-gnu/libignition-transport6-log.so\r\n./usr/lib/x86_64-linux-gnu/cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-config.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-config-version.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-targets-relwithdebinfo.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-targets.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all/ignition-transport6-all-config.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all/ignition-transport6-all-targets.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all/ignition-transport6-all-config-version.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-config.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-targets.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-targets-relwithdebinfo.cmake\r\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-config-version.cmake\r\n./usr/lib/x86_64-linux-gnu/libignition-transport6-log.so.6.0.0~pre2\r\n./usr/lib/x86_64-linux-gnu/libignition-transport6.so\r\n./usr/lib/x86_64-linux-gnu/pkgconfig\r\n./usr/lib/x86_64-linux-gnu/pkgconfig/ignition-transport6.pc\r\n./usr/lib/x86_64-linux-gnu/pkgconfig/ignition-transport6-log.pc\r\n./usr/lib/x86_64-linux-gnu/libignition-transport6.so.6.0.0~pre2\r\n./usr/lib/x86_64-linux-gnu/libignition-transport6-log.so.6\r\n./usr/share\r\n./usr/share/doc\r\n./usr/share/doc/libignition-transport6\r\n./usr/share/doc/libignition-transport6/NEWS.gz\r\n./usr/share/doc/libignition-transport6/AUTHORS\r\n./usr/share/doc/libignition-transport6/changelog.Debian.gz\r\n./usr/share/doc/libignition-transport6/README.md\r\n./usr/share/doc/libignition-transport6/copyright\r\n./usr/share/doc/libignition-transport6-dev\r\n./usr/share/doc/libignition-transport6-dev/changelog.Debian.gz\r\n./usr/share/doc/libignition-transport6-dev/copyright\r\n./usr/share/ignition\r\n./usr/share/ignition/ignition-transport6_0\r\n./usr/share/ignition/ignition-transport6_0/ignition-transport6.tag.xml\r\n./usr/share/ignition/ignition-transport6\r\n./usr/share/ignition/ignition-transport6/sql\r\n./usr/share/ignition/ignition-transport6/sql/0.1.0.sql\r\n```\r\n\r\n@_jrivero_ any ideas what is hapening here?", "markup": "markdown", "html": "<h1 id=\"markdown-header-description\">Description</h1>\n<p>Installing from debs doesn't allow to use <code>ign topic</code> commands.</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to Reproduce</h1>\n<p>Install from debs <code>libignition-transport6</code> and <code>libignition-transport6-dev</code> in Ubuntu bionic (18.04)</p>\n<p><strong>Expected behavior:</strong>  </p>\n<p>ign help shows the topic plugin available. It is possible to listen to ign topics using <code>ign topic</code></p>\n<p><strong>Actual behavior:</strong></p>\n<p><code>ign topic</code> command is not recognized. Instead the following message appears:</p>\n<div class=\"codehilite\"><pre><span></span>$ ign topic --versions\nThe <span class=\"s1\">&#39;ign&#39;</span> <span class=\"nb\">command</span> provides a <span class=\"nb\">command</span> line interface to the ignition tools.\n\n  ign &lt;command&gt; <span class=\"o\">[</span>options<span class=\"o\">]</span>\n\nList of available commands:\n\n  help:          Print this <span class=\"nb\">help</span> text.\n  msg:           Print information about messages.\n  sdf:           Utilities <span class=\"k\">for</span> SDF files.\n\nOptions:\n\n  --force-version &lt;VERSION&gt;  Use a specific library version.\n  --versions                 Show the available versions.\nUse <span class=\"s1\">&#39;ign help &lt;command&gt;&#39;</span> to print <span class=\"nb\">help</span> <span class=\"k\">for</span> a command.\n</pre></div>\n\n\n<p><strong>Reproduces how often:</strong> </p>\n<p>Always</p>\n<h1 id=\"markdown-header-versions\">Versions</h1>\n<p>6.0.0~pre2-2</p>\n<h1 id=\"markdown-header-additional-information\">Additional Information</h1>\n<p>The problem is fixed installing from sources with this settings:</p>\n<div class=\"codehilite\"><pre><span></span>export IGN_CONFIG_PATH=/usr/local/share/ignition\n</pre></div>\n\n\n<p>Talking with @caguero we found out that this is because transport6.yaml is not installed into /usr/share/ignition/.</p>\n<p>It is actually not in the deb package:</p>\n<div class=\"codehilite\"><pre><span></span>/tmp/trans6$ find .\n.\n./usr\n./usr/include\n./usr/include/ignition\n./usr/include/ignition/transport6\n./usr/include/ignition/transport6/ignition\n./usr/include/ignition/transport6/ignition/transport\n./usr/include/ignition/transport6/ignition/transport/ign.hh\n./usr/include/ignition/transport6/ignition/transport/ReqHandler.hh\n./usr/include/ignition/transport6/ignition/transport/TopicUtils.hh\n./usr/include/ignition/transport6/ignition/transport/AdvertiseOptions.hh\n./usr/include/ignition/transport6/ignition/transport/Packet.hh\n./usr/include/ignition/transport6/ignition/transport/Helpers.hh\n./usr/include/ignition/transport6/ignition/transport/NodeOptions.hh\n./usr/include/ignition/transport6/ignition/transport/Publisher.hh\n./usr/include/ignition/transport6/ignition/transport/TopicStorage.hh\n./usr/include/ignition/transport6/ignition/transport/SubscriptionHandler.hh\n./usr/include/ignition/transport6/ignition/transport/NetUtils.hh\n./usr/include/ignition/transport6/ignition/transport/Export.hh\n./usr/include/ignition/transport6/ignition/transport/Discovery.hh\n./usr/include/ignition/transport6/ignition/transport/Node.hh\n./usr/include/ignition/transport6/ignition/transport/HandlerStorage.hh\n./usr/include/ignition/transport6/ignition/transport/TransportTypes.hh\n./usr/include/ignition/transport6/ignition/transport/SubscribeOptions.hh\n./usr/include/ignition/transport6/ignition/transport/Clock.hh\n./usr/include/ignition/transport6/ignition/transport/RepHandler.hh\n./usr/include/ignition/transport6/ignition/transport/NodeShared.hh\n./usr/include/ignition/transport6/ignition/transport/log\n./usr/include/ignition/transport6/ignition/transport/log/QualifiedTime.hh\n./usr/include/ignition/transport6/ignition/transport/log/SqlStatement.hh\n./usr/include/ignition/transport6/ignition/transport/log/Recorder.hh\n./usr/include/ignition/transport6/ignition/transport/log/Batch.hh\n./usr/include/ignition/transport6/ignition/transport/log/MsgIter.hh\n./usr/include/ignition/transport6/ignition/transport/log/QueryOptions.hh\n./usr/include/ignition/transport6/ignition/transport/log/Message.hh\n./usr/include/ignition/transport6/ignition/transport/log/Playback.hh\n./usr/include/ignition/transport6/ignition/transport/log/Export.hh\n./usr/include/ignition/transport6/ignition/transport/log/Log.hh\n./usr/include/ignition/transport6/ignition/transport/log/detail\n./usr/include/ignition/transport6/ignition/transport/log/detail/QueryOptions.hh\n./usr/include/ignition/transport6/ignition/transport/log/detail/Export.hh\n./usr/include/ignition/transport6/ignition/transport/log/Descriptor.hh\n./usr/include/ignition/transport6/ignition/transport/log.hh\n./usr/include/ignition/transport6/ignition/transport/MessageInfo.hh\n./usr/include/ignition/transport6/ignition/transport/Uuid.hh\n./usr/include/ignition/transport6/ignition/transport/detail\n./usr/include/ignition/transport6/ignition/transport/detail/Export.hh\n./usr/include/ignition/transport6/ignition/transport/detail/Node.hh\n./usr/include/ignition/transport6/ignition/transport/config.hh\n./usr/include/ignition/transport6/ignition/transport.hh\n./usr/lib\n./usr/lib/ruby\n./usr/lib/ruby/ignition\n./usr/lib/ruby/ignition/cmdtransport6.rb\n./usr/lib/ruby/ignition/cmdlog6.rb\n./usr/lib/x86_64-linux-gnu\n./usr/lib/x86_64-linux-gnu/libignition-transport6.so.6\n./usr/lib/x86_64-linux-gnu/libignition-transport6-log.so\n./usr/lib/x86_64-linux-gnu/cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-config.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-config-version.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-targets-relwithdebinfo.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6/ignition-transport6-targets.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all/ignition-transport6-all-config.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all/ignition-transport6-all-targets.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-all/ignition-transport6-all-config-version.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-config.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-targets.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-targets-relwithdebinfo.cmake\n./usr/lib/x86_64-linux-gnu/cmake/ignition-transport6-log/ignition-transport6-log-config-version.cmake\n./usr/lib/x86_64-linux-gnu/libignition-transport6-log.so.6.0.0~pre2\n./usr/lib/x86_64-linux-gnu/libignition-transport6.so\n./usr/lib/x86_64-linux-gnu/pkgconfig\n./usr/lib/x86_64-linux-gnu/pkgconfig/ignition-transport6.pc\n./usr/lib/x86_64-linux-gnu/pkgconfig/ignition-transport6-log.pc\n./usr/lib/x86_64-linux-gnu/libignition-transport6.so.6.0.0~pre2\n./usr/lib/x86_64-linux-gnu/libignition-transport6-log.so.6\n./usr/share\n./usr/share/doc\n./usr/share/doc/libignition-transport6\n./usr/share/doc/libignition-transport6/NEWS.gz\n./usr/share/doc/libignition-transport6/AUTHORS\n./usr/share/doc/libignition-transport6/changelog.Debian.gz\n./usr/share/doc/libignition-transport6/README.md\n./usr/share/doc/libignition-transport6/copyright\n./usr/share/doc/libignition-transport6-dev\n./usr/share/doc/libignition-transport6-dev/changelog.Debian.gz\n./usr/share/doc/libignition-transport6-dev/copyright\n./usr/share/ignition\n./usr/share/ignition/ignition-transport6_0\n./usr/share/ignition/ignition-transport6_0/ignition-transport6.tag.xml\n./usr/share/ignition/ignition-transport6\n./usr/share/ignition/ignition-transport6/sql\n./usr/share/ignition/ignition-transport6/sql/0.1.0.sql\n</pre></div>\n\n\n<p>@<em>jrivero</em> any ideas what is hapening here?</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-02-05T22:31:45.991008+00:00", "milestone": null, "updated_on": "2019-02-06T05:32:59.524796+00:00", "type": "issue", "id": 102}