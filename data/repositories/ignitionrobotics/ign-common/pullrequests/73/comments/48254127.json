{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/73/comments/48254127.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/diff/ignitionrobotics/ign-common:a0916355a12b..76d416addd2f?path=include%2Fignition%2Fcommon%2Fdetail%2FPluginMacros.hh"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/73/_/diff#comment-48254127"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 73, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/73.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/73"}}, "title": "Slimmed down the Plugin pull request (no more template specializations)"}, "content": {"raw": "I'm confused about the message in this `static_assert` because the [DummyPlugin](#!/ignitionrobotics/ign-common/pull-requests/73/slimmed-down-the-plugin-pull-request-no/diff#Ltest/util/DummyPlugins.ccT74) isn't using fully qualified names:\n\n~~~\nIGN_COMMON_ADD_PLUGIN(test::util::DummySinglePlugin, test::util::DummyNameBase)\n~~~\n\nIf I try to give it a fully qualified name, it fails to compile:\n\n~~~\ndiff -r 6767db6c85ac test/util/DummyPlugins.cc\n--- a/test/util/DummyPlugins.cc Fri Oct 27 17:39:04 2017 -0700\n+++ b/test/util/DummyPlugins.cc Sat Oct 28 09:18:35 2017 -0700\n@@ -71,7 +71,7 @@\n }\n \n IGN_COMMON_BEGIN_ADDING_PLUGINS\n-  IGN_COMMON_ADD_PLUGIN(test::util::DummySinglePlugin, test::util::DummyNameBase)\n+  IGN_COMMON_ADD_PLUGIN(::test::util::DummySinglePlugin, test::util::DummyNameBase)\n   IGN_COMMON_ADD_PLUGIN(test::util::DummyMultiPlugin, test::util::DummyNameBase)\n   IGN_COMMON_ADD_PLUGIN(test::util::DummyMultiPlugin, test::util::DummyDoubleBase)\n   IGN_COMMON_ADD_PLUGIN(test::util::DummyMultiPlugin, test::util::DummyIntBase)\n~~~\n\n~~~\n[ 98%] Building CXX object test/util/CMakeFiles/IGNDummyPlugins.dir/DummyPlugins.cc.o\n/Users/scpeters/ws/ignition/src/ign-common/test/util/DummyPlugins.cc:74:25: error: expected unqualified-id\n  IGN_COMMON_ADD_PLUGIN(::test::util::DummySinglePlugin, test::util::DummyNameBase)\n                        ^\n/Users/scpeters/ws/ignition/src/ign-common/include/ignition/common/PluginMacros.hh:119:32: note: expanded from macro 'IGN_COMMON_ADD_PLUGIN'\n  DETAIL_IGN_COMMON_ADD_PLUGIN(plugin, interface)\n                               ^\n/Users/scpeters/ws/ignition/src/ign-common/include/ignition/common/detail/PluginMacros.hh:104:44: note: expanded from macro 'DETAIL_IGN_COMMON_ADD_PLUGIN'\n  static_assert(std::is_same<pluginName, ::pluginName>::value, \\\n                                           ^\n1 error generated.\n~~~", "markup": "markdown", "html": "<p>I'm confused about the message in this <code>static_assert</code> because the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-common/pull-requests/73/slimmed-down-the-plugin-pull-request-no/diff#Ltest/util/DummyPlugins.ccT74\" rel=\"nofollow\">DummyPlugin</a> isn't using fully qualified names:</p>\n<div class=\"codehilite\"><pre><span></span>IGN_COMMON_ADD_PLUGIN(test::util::DummySinglePlugin, test::util::DummyNameBase)\n</pre></div>\n\n\n<p>If I try to give it a fully qualified name, it fails to compile:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 6767db6c85ac test/util/DummyPlugins.cc</span>\n<span class=\"gd\">--- a/test/util/DummyPlugins.cc Fri Oct 27 17:39:04 2017 -0700</span>\n<span class=\"gi\">+++ b/test/util/DummyPlugins.cc Sat Oct 28 09:18:35 2017 -0700</span>\n<span class=\"gu\">@@ -71,7 +71,7 @@</span>\n }\n\n IGN_COMMON_BEGIN_ADDING_PLUGINS\n<span class=\"gd\">-  IGN_COMMON_ADD_PLUGIN(test::util::DummySinglePlugin, test::util::DummyNameBase)</span>\n<span class=\"gi\">+  IGN_COMMON_ADD_PLUGIN(::test::util::DummySinglePlugin, test::util::DummyNameBase)</span>\n   IGN_COMMON_ADD_PLUGIN(test::util::DummyMultiPlugin, test::util::DummyNameBase)\n   IGN_COMMON_ADD_PLUGIN(test::util::DummyMultiPlugin, test::util::DummyDoubleBase)\n   IGN_COMMON_ADD_PLUGIN(test::util::DummyMultiPlugin, test::util::DummyIntBase)\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>[ 98%] Building CXX object test/util/CMakeFiles/IGNDummyPlugins.dir/DummyPlugins.cc.o\n/Users/scpeters/ws/ignition/src/ign-common/test/util/DummyPlugins.cc:74:25: error: expected unqualified-id\n  IGN_COMMON_ADD_PLUGIN(::test::util::DummySinglePlugin, test::util::DummyNameBase)\n                        ^\n/Users/scpeters/ws/ignition/src/ign-common/include/ignition/common/PluginMacros.hh:119:32: note: expanded from macro &#39;IGN_COMMON_ADD_PLUGIN&#39;\n  DETAIL_IGN_COMMON_ADD_PLUGIN(plugin, interface)\n                               ^\n/Users/scpeters/ws/ignition/src/ign-common/include/ignition/common/detail/PluginMacros.hh:104:44: note: expanded from macro &#39;DETAIL_IGN_COMMON_ADD_PLUGIN&#39;\n  static_assert(std::is_same&lt;pluginName, ::pluginName&gt;::value, \\\n                                           ^\n1 error generated.\n</pre></div>", "type": "rendered"}, "created_on": "2017-10-28T16:21:31.516530+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 105, "from": null, "outdated": true, "path": "include/ignition/common/detail/PluginMacros.hh"}, "updated_on": "2017-10-28T16:21:31.520242+00:00", "type": "pullrequest_comment", "id": 48254127}