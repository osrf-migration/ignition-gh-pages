{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/73/comments/48994238.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/diff/ignitionrobotics/ign-common:67dc7b12b50f..76d416addd2f?path=src%2FPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/73/_/diff#comment-48994238"}}, "parent": {"id": 48993538, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/73/comments/48993538.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/73/_/diff#comment-48993538"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 73, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/73.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/73"}}, "title": "Slimmed down the Plugin pull request (no more template specializations)"}, "content": {"raw": "The `PluginPtr` is reference-counting to make sure we don't experience memory leaks from plugins. Those raw interface pointers will be invalidated if all of the references to the plugin are cleared.\n\nInstead, you should use `std::shared_ptr<Interface> myInterface = secondPlugin->as_shared_ptr<Interface>(\"YourInterfaceName\")` to get a reference-counting pointer to your interface. This will keep the interface pointer valid even if you clear or throw away the `PluginPtr` instance.", "markup": "markdown", "html": "<p>The <code>PluginPtr</code> is reference-counting to make sure we don't experience memory leaks from plugins. Those raw interface pointers will be invalidated if all of the references to the plugin are cleared.</p>\n<p>Instead, you should use <code>std::shared_ptr&lt;Interface&gt; myInterface = secondPlugin-&gt;as_shared_ptr&lt;Interface&gt;(\"YourInterfaceName\")</code> to get a reference-counting pointer to your interface. This will keep the interface pointer valid even if you clear or throw away the <code>PluginPtr</code> instance.</p>", "type": "rendered"}, "created_on": "2017-11-07T19:36:05.987388+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "outdated": true, "path": "src/Plugin.cc"}, "updated_on": "2017-11-07T19:41:48.764992+00:00", "type": "pullrequest_comment", "id": 48994238}