{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/73/comments/46642552.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/diff/ignitionrobotics/ign-common:208ec7610b0b..2f74d2f0ebe5?path=src%2FStringUtils.cc"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/73/_/diff#comment-46642552"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 73, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/73.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/73"}}, "title": "Slimmed down the Plugin pull request (no more template specializations)"}, "content": {"raw": "clang doesn't like this on macOS:\n\n~~~\n/Users/jenkins/workspace/ignition_common-ci-pr_any-homebrew-amd64/ign-common/src/StringUtils.cc:70:14: error: call to 'abs' is ambiguous\n      return std::abs(_N) == 1? _singular : _plural;\n             ^~~~~~~~\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cmath:664:1: note: candidate function\nabs(float __lcpp_x) _NOEXCEPT {return fabsf(__lcpp_x);}\n^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cmath:668:1: note: candidate function\nabs(double __lcpp_x) _NOEXCEPT {return fabs(__lcpp_x);}\n^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cmath:672:1: note: candidate function\nabs(long double __lcpp_x) _NOEXCEPT {return fabsl(__lcpp_x);}\n^\n1 error generated.\n~~~\n\nhttps://build.osrfoundation.org/job/ignition_common-ci-pr_any-homebrew-amd64/88/console\n\nI think maybe we want `<cstdlib>` instead of `<cmath>`?\n\n* http://en.cppreference.com/w/cpp/numeric/math/abs", "markup": "markdown", "html": "<p>clang doesn't like this on macOS:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">/</span><span class=\"nt\">Users</span><span class=\"o\">/</span><span class=\"nt\">jenkins</span><span class=\"o\">/</span><span class=\"nt\">workspace</span><span class=\"o\">/</span><span class=\"nt\">ignition_common-ci-pr_any-homebrew-amd64</span><span class=\"o\">/</span><span class=\"nt\">ign-common</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">StringUtils</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">70</span><span class=\"p\">:</span><span class=\"nd\">14</span><span class=\"o\">:</span> <span class=\"nt\">error</span><span class=\"o\">:</span> <span class=\"nt\">call</span> <span class=\"nt\">to</span> <span class=\"s1\">&#39;abs&#39;</span> <span class=\"nt\">is</span> <span class=\"nt\">ambiguous</span>\n      <span class=\"nt\">return</span> <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">abs</span><span class=\"o\">(</span><span class=\"nt\">_N</span><span class=\"o\">)</span> <span class=\"o\">==</span> <span class=\"nt\">1</span><span class=\"o\">?</span> <span class=\"nt\">_singular</span> <span class=\"o\">:</span> <span class=\"nt\">_plural</span><span class=\"o\">;</span>\n             <span class=\"o\">^~~~~~~~</span>\n<span class=\"o\">/</span><span class=\"nt\">Applications</span><span class=\"o\">/</span><span class=\"nt\">Xcode</span><span class=\"p\">.</span><span class=\"nc\">app</span><span class=\"o\">/</span><span class=\"nt\">Contents</span><span class=\"o\">/</span><span class=\"nt\">Developer</span><span class=\"o\">/</span><span class=\"nt\">Toolchains</span><span class=\"o\">/</span><span class=\"nt\">XcodeDefault</span><span class=\"p\">.</span><span class=\"nc\">xctoolchain</span><span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">bin</span><span class=\"o\">/../</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">c</span><span class=\"o\">++/</span><span class=\"nt\">v1</span><span class=\"o\">/</span><span class=\"nt\">cmath</span><span class=\"p\">:</span><span class=\"nd\">664</span><span class=\"p\">:</span><span class=\"nd\">1</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">candidate</span> <span class=\"nt\">function</span>\n<span class=\"nt\">abs</span><span class=\"o\">(</span><span class=\"nt\">float</span> <span class=\"nt\">__lcpp_x</span><span class=\"o\">)</span> <span class=\"nt\">_NOEXCEPT</span> <span class=\"p\">{</span><span class=\"err\">return</span> <span class=\"err\">fabsf(__lcpp_x)</span><span class=\"p\">;}</span>\n<span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"nt\">Applications</span><span class=\"o\">/</span><span class=\"nt\">Xcode</span><span class=\"p\">.</span><span class=\"nc\">app</span><span class=\"o\">/</span><span class=\"nt\">Contents</span><span class=\"o\">/</span><span class=\"nt\">Developer</span><span class=\"o\">/</span><span class=\"nt\">Toolchains</span><span class=\"o\">/</span><span class=\"nt\">XcodeDefault</span><span class=\"p\">.</span><span class=\"nc\">xctoolchain</span><span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">bin</span><span class=\"o\">/../</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">c</span><span class=\"o\">++/</span><span class=\"nt\">v1</span><span class=\"o\">/</span><span class=\"nt\">cmath</span><span class=\"p\">:</span><span class=\"nd\">668</span><span class=\"p\">:</span><span class=\"nd\">1</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">candidate</span> <span class=\"nt\">function</span>\n<span class=\"nt\">abs</span><span class=\"o\">(</span><span class=\"nt\">double</span> <span class=\"nt\">__lcpp_x</span><span class=\"o\">)</span> <span class=\"nt\">_NOEXCEPT</span> <span class=\"p\">{</span><span class=\"err\">return</span> <span class=\"err\">fabs(__lcpp_x)</span><span class=\"p\">;}</span>\n<span class=\"o\">^</span>\n<span class=\"o\">/</span><span class=\"nt\">Applications</span><span class=\"o\">/</span><span class=\"nt\">Xcode</span><span class=\"p\">.</span><span class=\"nc\">app</span><span class=\"o\">/</span><span class=\"nt\">Contents</span><span class=\"o\">/</span><span class=\"nt\">Developer</span><span class=\"o\">/</span><span class=\"nt\">Toolchains</span><span class=\"o\">/</span><span class=\"nt\">XcodeDefault</span><span class=\"p\">.</span><span class=\"nc\">xctoolchain</span><span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">bin</span><span class=\"o\">/../</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">c</span><span class=\"o\">++/</span><span class=\"nt\">v1</span><span class=\"o\">/</span><span class=\"nt\">cmath</span><span class=\"p\">:</span><span class=\"nd\">672</span><span class=\"p\">:</span><span class=\"nd\">1</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">candidate</span> <span class=\"nt\">function</span>\n<span class=\"nt\">abs</span><span class=\"o\">(</span><span class=\"nt\">long</span> <span class=\"nt\">double</span> <span class=\"nt\">__lcpp_x</span><span class=\"o\">)</span> <span class=\"nt\">_NOEXCEPT</span> <span class=\"p\">{</span><span class=\"err\">return</span> <span class=\"err\">fabsl(__lcpp_x)</span><span class=\"p\">;}</span>\n<span class=\"o\">^</span>\n<span class=\"nt\">1</span> <span class=\"nt\">error</span> <span class=\"nt\">generated</span><span class=\"o\">.</span>\n</pre></div>\n\n\n<p><a href=\"https://build.osrfoundation.org/job/ignition_common-ci-pr_any-homebrew-amd64/88/console\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/ignition_common-ci-pr_any-homebrew-amd64/88/console</a></p>\n<p>I think maybe we want <code>&lt;cstdlib&gt;</code> instead of <code>&lt;cmath&gt;</code>?</p>\n<ul>\n<li><a href=\"http://en.cppreference.com/w/cpp/numeric/math/abs\" rel=\"nofollow\" class=\"ap-connect-link\">http://en.cppreference.com/w/cpp/numeric/math/abs</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-10-06T23:36:35.878442+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 70, "from": null, "outdated": true, "path": "src/StringUtils.cc"}, "updated_on": "2017-10-06T23:36:35.880724+00:00", "type": "pullrequest_comment", "id": 46642552}