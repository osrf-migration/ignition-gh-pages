{"rendered": {"description": {"raw": "To be used with [ign-rendering PR](#!/ignitionrobotics/ign-rendering/pull-requests/238)\r\n\r\nThis PR sets default PBR properties \\(currently only metalness value\\) for mesh loaders that do not natively support PBR.\r\n\r\nThe main motivation behind this PR is to reduce the effort needed when porting models from gazebo-classic to ignition. There is a noticeable shading difference between ogre 1.x and ogre 2.x. One factor is ogre 2.x\u2019s default metalness value that causes objects to appear darker when compared to ogre 1.x. With these changes and the [ign-rendering PR](#!/ignitionrobotics/ign-rendering/pull-requests/238), the models should appear brighter.\r\n\r\nThe changes should not affect users who are already using PBR maps \\(metalness, normal, and roughness maps\\) for their models because the default values are overriden. e.g. subt should not be affected.\r\n\r\nOther thing I\u2019ve considered:\r\n\r\n* It is possible for users to override the metalness value through SDF but that involves modifying the model.sdf files of all assets. It is also not straight forward when there are multiple submeshes in a mesh with different textures.\r\n* Override metalness value in the ign-gazebo level. This is not desirable as we integrate new mesh formats with PBR support in the future, e.g. glTF2. The metalness value specified in the mesh would be overriden.\r\n\r\n**Update:**\r\n\r\nEnded up changing default metalness value in common::Pbr class.", "markup": "markdown", "html": "<p>To be used with <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/pull-requests/238\" rel=\"nofollow\">ign-rendering PR</a></p>\n<p>This PR sets default PBR properties (currently only metalness value) for mesh loaders that do not natively support PBR.</p>\n<p>The main motivation behind this PR is to reduce the effort needed when porting models from gazebo-classic to ignition. There is a noticeable shading difference between ogre 1.x and ogre 2.x. One factor is ogre 2.x\u2019s default metalness value that causes objects to appear darker when compared to ogre 1.x. With these changes and the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/pull-requests/238\" rel=\"nofollow\">ign-rendering PR</a>, the models should appear brighter.</p>\n<p>The changes should not affect users who are already using PBR maps (metalness, normal, and roughness maps) for their models because the default values are overriden. e.g. subt should not be affected.</p>\n<p>Other thing I\u2019ve considered:</p>\n<ul>\n<li>It is possible for users to override the metalness value through SDF but that involves modifying the model.sdf files of all assets. It is also not straight forward when there are multiple submeshes in a mesh with different textures.</li>\n<li>Override metalness value in the ign-gazebo level. This is not desirable as we integrate new mesh formats with PBR support in the future, e.g. glTF2. The metalness value specified in the mesh would be overriden.</li>\n</ul>\n<p><strong>Update:</strong></p>\n<p>Ended up changing default metalness value in common::Pbr class.</p>", "type": "rendered"}, "title": {"raw": "Set default PBR metalness value", "markup": "markdown", "html": "<p>Set default PBR metalness value</p>", "type": "rendered"}}, "type": "pullrequest", "description": "To be used with [ign-rendering PR](#!/ignitionrobotics/ign-rendering/pull-requests/238)\r\n\r\nThis PR sets default PBR properties \\(currently only metalness value\\) for mesh loaders that do not natively support PBR.\r\n\r\nThe main motivation behind this PR is to reduce the effort needed when porting models from gazebo-classic to ignition. There is a noticeable shading difference between ogre 1.x and ogre 2.x. One factor is ogre 2.x\u2019s default metalness value that causes objects to appear darker when compared to ogre 1.x. With these changes and the [ign-rendering PR](#!/ignitionrobotics/ign-rendering/pull-requests/238), the models should appear brighter.\r\n\r\nThe changes should not affect users who are already using PBR maps \\(metalness, normal, and roughness maps\\) for their models because the default values are overriden. e.g. subt should not be affected.\r\n\r\nOther thing I\u2019ve considered:\r\n\r\n* It is possible for users to override the metalness value through SDF but that involves modifying the model.sdf files of all assets. It is also not straight forward when there are multiple submeshes in a mesh with different textures.\r\n* Override metalness value in the ign-gazebo level. This is not desirable as we integrate new mesh formats with PBR support in the future, e.g. glTF2. The metalness value specified in the mesh would be overriden.\r\n\r\n**Update:**\r\n\r\nEnded up changing default metalness value in common::Pbr class.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/pullrequests/231/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/diffstat/ignitionrobotics/ign-common:14f8c551e1ab%0Db51b06b073df?from_pullrequest_id=231"}, "commits": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/231/commits.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/231.json"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/231/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/pullrequests/231/merge"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/231"}, "activity": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/231/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/diff/ignitionrobotics/ign-common:14f8c551e1ab%0Db51b06b073df?from_pullrequest_id=231"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/pullrequests/231/approve"}, "statuses": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/231/statuses_page=1.json"}}, "title": "Set default PBR metalness value", "close_source_branch": true, "reviewers": [{"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}], "id": 231, "destination": {"commit": {"hash": "b51b06b073df", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/b51b06b073df.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/b51b06b073df"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "ign-common3"}}, "created_on": "2020-02-29T21:33:00.633644+00:00", "summary": {"raw": "To be used with [ign-rendering PR](#!/ignitionrobotics/ign-rendering/pull-requests/238)\r\n\r\nThis PR sets default PBR properties \\(currently only metalness value\\) for mesh loaders that do not natively support PBR.\r\n\r\nThe main motivation behind this PR is to reduce the effort needed when porting models from gazebo-classic to ignition. There is a noticeable shading difference between ogre 1.x and ogre 2.x. One factor is ogre 2.x\u2019s default metalness value that causes objects to appear darker when compared to ogre 1.x. With these changes and the [ign-rendering PR](#!/ignitionrobotics/ign-rendering/pull-requests/238), the models should appear brighter.\r\n\r\nThe changes should not affect users who are already using PBR maps \\(metalness, normal, and roughness maps\\) for their models because the default values are overriden. e.g. subt should not be affected.\r\n\r\nOther thing I\u2019ve considered:\r\n\r\n* It is possible for users to override the metalness value through SDF but that involves modifying the model.sdf files of all assets. It is also not straight forward when there are multiple submeshes in a mesh with different textures.\r\n* Override metalness value in the ign-gazebo level. This is not desirable as we integrate new mesh formats with PBR support in the future, e.g. glTF2. The metalness value specified in the mesh would be overriden.\r\n\r\n**Update:**\r\n\r\nEnded up changing default metalness value in common::Pbr class.", "markup": "markdown", "html": "<p>To be used with <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/pull-requests/238\" rel=\"nofollow\">ign-rendering PR</a></p>\n<p>This PR sets default PBR properties (currently only metalness value) for mesh loaders that do not natively support PBR.</p>\n<p>The main motivation behind this PR is to reduce the effort needed when porting models from gazebo-classic to ignition. There is a noticeable shading difference between ogre 1.x and ogre 2.x. One factor is ogre 2.x\u2019s default metalness value that causes objects to appear darker when compared to ogre 1.x. With these changes and the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/pull-requests/238\" rel=\"nofollow\">ign-rendering PR</a>, the models should appear brighter.</p>\n<p>The changes should not affect users who are already using PBR maps (metalness, normal, and roughness maps) for their models because the default values are overriden. e.g. subt should not be affected.</p>\n<p>Other thing I\u2019ve considered:</p>\n<ul>\n<li>It is possible for users to override the metalness value through SDF but that involves modifying the model.sdf files of all assets. It is also not straight forward when there are multiple submeshes in a mesh with different textures.</li>\n<li>Override metalness value in the ign-gazebo level. This is not desirable as we integrate new mesh formats with PBR support in the future, e.g. glTF2. The metalness value specified in the mesh would be overriden.</li>\n</ul>\n<p><strong>Update:</strong></p>\n<p>Ended up changing default metalness value in common::Pbr class.</p>", "type": "rendered"}, "source": {"commit": {"hash": "ded89947370a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/ded89947370a.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/ded89947370a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "pbr_common3"}}, "comment_count": 8, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": "2020-03-03T05:33:39.126042+00:00", "type": "participant", "approved": true, "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}}, {"role": "REVIEWER", "participated_on": "2020-03-03T04:37:15.692656+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "PARTICIPANT", "participated_on": "2020-03-03T02:42:47.602635+00:00", "type": "participant", "approved": false, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2020-03-06T01:54:16.331780+00:00", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "merge_commit": {"hash": "14f8c551e1ab", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/14f8c551e1ab.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/14f8c551e1ab"}}}, "closed_by": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}