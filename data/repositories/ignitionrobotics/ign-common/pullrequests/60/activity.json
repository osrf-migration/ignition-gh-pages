{"pagelen": 50, "values": [{"update": {"description": "This fixes issue #20\r\n\r\nMy solution is to direct all logging output into a directory called `tmp-ign` and then delete `tmp-ign` at the end of each set of tests that use it. Most of the tests use the `AutoLogFixture`, so putting the cleanup in that class's destructor solved most of the problem cases.\r\n\r\nI decided to make the `tmp-ign` a visible directory (as opposed to making it something like `.tmp-ign`) to make it more noticeable for us to debug or cleanup if it fails to be removed at the end of any tests.", "title": "Cleanup log directories after tests are run", "destination": {"commit": {"hash": "b10206902d3f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/b10206902d3f.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/b10206902d3f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d2c7ac1eb60d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/d2c7ac1eb60d.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/d2c7ac1eb60d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "CleanupDirectoryOutput"}}, "state": "MERGED", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-08-29T17:32:44.342073+00:00"}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"approval": {"date": "2017-08-28T11:22:07.445047+00:00", "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/43685479.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-43685479"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "Added very minor tweak in d2c7ac1.", "markup": "markdown", "html": "<p>Added very minor tweak in <a href=\"#!/ignitionrobotics/ign-common/commits/d2c7ac1\" rel=\"nofollow\" class=\"ap-connect-link\">d2c7ac1</a>.</p>", "type": "rendered"}, "created_on": "2017-08-28T11:22:02.873392+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2017-08-28T11:22:02.876246+00:00", "type": "pullrequest_comment", "id": 43685479}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"update": {"description": "This fixes issue #20\r\n\r\nMy solution is to direct all logging output into a directory called `tmp-ign` and then delete `tmp-ign` at the end of each set of tests that use it. Most of the tests use the `AutoLogFixture`, so putting the cleanup in that class's destructor solved most of the problem cases.\r\n\r\nI decided to make the `tmp-ign` a visible directory (as opposed to making it something like `.tmp-ign`) to make it more noticeable for us to debug or cleanup if it fails to be removed at the end of any tests.", "title": "Cleanup log directories after tests are run", "destination": {"commit": {"hash": "f5c3b3b32f58", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/f5c3b3b32f58.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/f5c3b3b32f58"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d2c7ac1eb60d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/d2c7ac1eb60d.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/d2c7ac1eb60d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "CleanupDirectoryOutput"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2017-08-28T11:21:11.654018+00:00"}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/43629277.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-43629277"}}, "parent": {"id": 43625546, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/43625546.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-43625546"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "looks ok", "markup": "markdown", "html": "<p>looks ok</p>", "type": "rendered"}, "created_on": "2017-08-25T19:49:10.949398+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-25T19:49:10.951746+00:00", "type": "pullrequest_comment", "id": 43629277}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/43625546.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-43625546"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "I started another round of jenkins builds by rebuilding this:\n\n* https://build.osrfoundation.org/job/ignition_common-ci-pr_any/70/", "markup": "markdown", "html": "<p>I started another round of jenkins builds by rebuilding this:</p>\n<ul>\n<li><a href=\"https://build.osrfoundation.org/job/ignition_common-ci-pr_any/70/\" rel=\"nofollow\" class=\"ap-connect-link\">https://build.osrfoundation.org/job/ignition_common-ci-pr_any/70/</a></li>\n</ul>", "type": "rendered"}, "created_on": "2017-08-25T18:44:22.903694+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-08-25T18:44:22.905753+00:00", "type": "pullrequest_comment", "id": 43625546}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/43620041.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-43620041"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "The PR has been updated to use `ignition::common::Filesystem` instead of manually concatenating the strings of paths.", "markup": "markdown", "html": "<p>The PR has been updated to use <code>ignition::common::Filesystem</code> instead of manually concatenating the strings of paths.</p>", "type": "rendered"}, "created_on": "2017-08-25T17:22:23.698343+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-08-25T17:22:23.700978+00:00", "type": "pullrequest_comment", "id": 43620041}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/43619982.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-43619982"}}, "parent": {"id": 43093063, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/43093063.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-43093063"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "That's a good call. I've also applied that approach to other path concatenations that were already in the code, because I found it a bit jarring for the code to contain a mixture of proper use of the Filesystem library alongside manual string concatenation.", "markup": "markdown", "html": "<p>That's a good call. I've also applied that approach to other path concatenations that were already in the code, because I found it a bit jarring for the code to contain a mixture of proper use of the Filesystem library alongside manual string concatenation.</p>", "type": "rendered"}, "created_on": "2017-08-25T17:21:31.577087+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-08-25T17:21:31.579275+00:00", "type": "pullrequest_comment", "id": 43619982}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"update": {"description": "This fixes issue #20\r\n\r\nMy solution is to direct all logging output into a directory called `tmp-ign` and then delete `tmp-ign` at the end of each set of tests that use it. Most of the tests use the `AutoLogFixture`, so putting the cleanup in that class's destructor solved most of the problem cases.\r\n\r\nI decided to make the `tmp-ign` a visible directory (as opposed to making it something like `.tmp-ign`) to make it more noticeable for us to debug or cleanup if it fails to be removed at the end of any tests.", "title": "Cleanup log directories after tests are run", "destination": {"commit": {"hash": "f5c3b3b32f58", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/f5c3b3b32f58.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/f5c3b3b32f58"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "812295f32e3f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/812295f32e3f.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/812295f32e3f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "CleanupDirectoryOutput"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-08-25T17:19:43.162147+00:00"}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/43093063.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-43093063"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "Minor suggestion: use `ignition::common::Filesystem` for creating the paths instead of concatenating strings.", "markup": "markdown", "html": "<p>Minor suggestion: use <code>ignition::common::Filesystem</code> for creating the paths instead of concatenating strings.</p>", "type": "rendered"}, "created_on": "2017-08-18T10:42:52.939050+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2017-08-18T10:43:24.426548+00:00", "type": "pullrequest_comment", "id": 43093063}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"approval": {"date": "2017-08-16T20:19:37.263824+00:00", "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"approval": {"date": "2017-08-15T21:52:48.564449+00:00", "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/42868746.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-42868746"}}, "parent": {"id": 42868437, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/42868437.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-42868437"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "That looks good to me. Merged in b2ece2b", "markup": "markdown", "html": "<p>That looks good to me. Merged in <a href=\"#!/ignitionrobotics/ign-common/commits/b2ece2b\" rel=\"nofollow\" class=\"ap-connect-link\">b2ece2b</a></p>", "type": "rendered"}, "created_on": "2017-08-15T21:18:01.890925+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2017-08-15T21:18:01.894532+00:00", "type": "pullrequest_comment", "id": 42868746}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"update": {"description": "This fixes issue #20\r\n\r\nMy solution is to direct all logging output into a directory called `tmp-ign` and then delete `tmp-ign` at the end of each set of tests that use it. Most of the tests use the `AutoLogFixture`, so putting the cleanup in that class's destructor solved most of the problem cases.\r\n\r\nI decided to make the `tmp-ign` a visible directory (as opposed to making it something like `.tmp-ign`) to make it more noticeable for us to debug or cleanup if it fails to be removed at the end of any tests.", "title": "Cleanup log directories after tests are run", "destination": {"commit": {"hash": "276d8d9eff47", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/276d8d9eff47.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/276d8d9eff47"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b2ece2b91ed4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/b2ece2b91ed4.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/b2ece2b91ed4"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "CleanupDirectoryOutput"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-08-15T21:17:30.831074+00:00"}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/42868437.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-42868437"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "Just one suggestion [here](#!/ignitionrobotics/ign-common/branch/CleanupDirectoryOutput_Destruct?dest=CleanupDirectoryOutput#diff)", "markup": "markdown", "html": "<p>Just one suggestion <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-common/branch/CleanupDirectoryOutput_Destruct?dest=CleanupDirectoryOutput#diff\" rel=\"nofollow\">here</a></p>", "type": "rendered"}, "created_on": "2017-08-15T21:13:12.722609+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2017-08-15T21:13:12.727064+00:00", "type": "pullrequest_comment", "id": 42868437}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/42867955.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-42867955"}}, "parent": {"id": 42867701, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/42867701.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-42867701"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "Moved in bfa53dc", "markup": "markdown", "html": "<p>Moved in <a href=\"#!/ignitionrobotics/ign-common/commits/bfa53dc\" rel=\"nofollow\" class=\"ap-connect-link\">bfa53dc</a></p>", "type": "rendered"}, "created_on": "2017-08-15T21:04:05.299389+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-15T21:04:05.302820+00:00", "type": "pullrequest_comment", "id": 42867955}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"update": {"description": "This fixes issue #20\r\n\r\nMy solution is to direct all logging output into a directory called `tmp-ign` and then delete `tmp-ign` at the end of each set of tests that use it. Most of the tests use the `AutoLogFixture`, so putting the cleanup in that class's destructor solved most of the problem cases.\r\n\r\nI decided to make the `tmp-ign` a visible directory (as opposed to making it something like `.tmp-ign`) to make it more noticeable for us to debug or cleanup if it fails to be removed at the end of any tests.", "title": "Cleanup log directories after tests are run", "destination": {"commit": {"hash": "276d8d9eff47", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/276d8d9eff47.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/276d8d9eff47"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "bfa53dc0f75a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/bfa53dc0f75a.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/bfa53dc0f75a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "CleanupDirectoryOutput"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-08-15T21:03:34.073644+00:00"}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/42867701.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-42867701"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "Can you move this to `test/util.hh` and include `test/util.hh` in `Console_TEST.cc`?", "markup": "markdown", "html": "<p>Can you move this to <code>test/util.hh</code> and include <code>test/util.hh</code> in <code>Console_TEST.cc</code>?</p>", "type": "rendered"}, "created_on": "2017-08-15T20:59:48.973545+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {}, "updated_on": "2017-08-15T20:59:48.975920+00:00", "type": "pullrequest_comment", "id": 42867701}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/42863038.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-42863038"}}, "parent": {"id": 42862586, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/42862586.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-42862586"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "This is true. In this PR, I have all test logs cleared out at the end of each test, because I assumed we were not interested in keeping any of those logs. If there are tests whose logs we want to keep after completion, then it definitely makes sense to create separate log directories for each.", "markup": "markdown", "html": "<p>This is true. In this PR, I have all test logs cleared out at the end of each test, because I assumed we were not interested in keeping any of those logs. If there are tests whose logs we want to keep after completion, then it definitely makes sense to create separate log directories for each.</p>", "type": "rendered"}, "created_on": "2017-08-15T19:43:44.202797+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-15T19:43:44.206119+00:00", "type": "pullrequest_comment", "id": 42863038}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/42862586.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-42862586"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "this removes the directory containing logs from all other tests right, not just from this test? If we want to remove only logs from this test, maybe we can set the log path in this file to something like `IGN_TMP_DIR/Console_TEST`", "markup": "markdown", "html": "<p>this removes the directory containing logs from all other tests right, not just from this test? If we want to remove only logs from this test, maybe we can set the log path in this file to something like <code>IGN_TMP_DIR/Console_TEST</code></p>", "type": "rendered"}, "created_on": "2017-08-15T19:36:48.414879+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2017-08-15T19:36:48.418213+00:00", "type": "pullrequest_comment", "id": 42862586}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60/comments/42512934.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60/_/diff#comment-42512934"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}, "content": {"raw": "The above code block was not actually doing anything productive. It would create the directory `~/.ignition/test_logs`, but then `ignLogInit` would set the log directory to `~/test_logs` (although now I have it being set to `~/tmp-ign/test_logs`). So this above code block was just creating a directory that never gets used. `ignLogInit` will happily create the requested log directory if it doesn't exist.", "markup": "markdown", "html": "<p>The above code block was not actually doing anything productive. It would create the directory <code>~/.ignition/test_logs</code>, but then <code>ignLogInit</code> would set the log directory to <code>~/test_logs</code> (although now I have it being set to <code>~/tmp-ign/test_logs</code>). So this above code block was just creating a directory that never gets used. <code>ignLogInit</code> will happily create the requested log directory if it doesn't exist.</p>", "type": "rendered"}, "created_on": "2017-08-09T19:14:05.446742+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2017-08-09T19:14:05.449244+00:00", "type": "pullrequest_comment", "id": 42512934}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"update": {"description": "This fixes issue #20\r\n\r\nMy solution is to direct all logging output into a directory called `tmp-ign` and then delete `tmp-ign` at the end of each set of tests that use it. Most of the tests use the `AutoLogFixture`, so putting the cleanup in that class's destructor solved most of the problem cases.\r\n\r\nI decided to make the `tmp-ign` a visible directory (as opposed to making it something like `.tmp-ign`) to make it more noticeable for us to debug or cleanup if it fails to be removed at the end of any tests.", "title": "Cleanup log directories after tests are run", "destination": {"commit": {"hash": "619d95a26559", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/619d95a26559.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/619d95a26559"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "cb48ebf460a2", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/cb48ebf460a2.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/cb48ebf460a2"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "CleanupDirectoryOutput"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-08-09T19:10:21.331571+00:00"}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}, {"update": {"description": "This fixes issue #20\r\n\r\nMy solution is to direct all logging output into a directory called `tmp-ign` and then delete `tmp-ign` at the end of each set of tests that use it. Most of the tests use the `AutoLogFixture`, so putting the cleanup in that class's destructor solved most of the problem cases.\r\n\r\nI decided to make the `tmp-ign` a visible directory (as opposed to making it something like `.tmp-ign`) to make it more noticeable for us to debug or cleanup if it fails to be removed at the end of any tests.", "title": "Cleanup log directories after tests are run", "destination": {"commit": {"hash": "619d95a26559", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/619d95a26559.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/619d95a26559"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "cb48ebf460a2", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/commit/cb48ebf460a2.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/commits/cb48ebf460a2"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "branch": {"name": "CleanupDirectoryOutput"}}, "state": "OPEN", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "date": "2017-08-09T19:10:21.296919+00:00"}, "pull_request": {"type": "pullrequest", "id": 60, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/60.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/60"}}, "title": "Cleanup log directories after tests are run"}}]}