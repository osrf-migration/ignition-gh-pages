{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/225/comments/135693132.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/225/_/diff#comment-135693132"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 225, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/225.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/225"}}, "title": "Fix PRE_BUILD was treated as PRE_LINK causing building problems."}, "content": {"raw": "This is motivated by building `ign-common` with Ninja on Windows. According to CMake docs, the PRE\\_BUILD is actually treated as PRE\\_LINK for generators other than `msbuild`.\n\nAnd in this case, it will be too late to generate header for the compile stage. This pull request is attempting to use a custom target to be explicitly forcing the dependency order.\n\nThis fix was verified in conda-forge build [https://dev.azure.com/conda-forge/feedstock-builds/\\_build/results?buildId=111931&view=results](https://dev.azure.com/conda-forge/feedstock-builds/_build/results?buildId=111931&view=results) and hope it goes through the ignitionrobotics CI too.\n\n\u200c", "markup": "markdown", "html": "<p>This is motivated by building <code>ign-common</code> with Ninja on Windows. According to CMake docs, the PRE_BUILD is actually treated as PRE_LINK for generators other than <code>msbuild</code>.</p>\n<p>And in this case, it will be too late to generate header for the compile stage. This pull request is attempting to use a custom target to be explicitly forcing the dependency order.</p>\n<p>This fix was verified in conda-forge build <a data-is-external-link=\"true\" href=\"https://dev.azure.com/conda-forge/feedstock-builds/_build/results?buildId=111931&amp;view=results\" rel=\"nofollow\">https://dev.azure.com/conda-forge/feedstock-builds/_build/results?buildId=111931&amp;view=results</a> and hope it goes through the ignitionrobotics CI too.</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2020-02-12T23:00:53.353525+00:00", "user": {"display_name": "Sean Yen", "uuid": "{9f25a1e7-e37c-4707-a084-64e8be6f3785}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9f25a1e7-e37c-4707-a084-64e8be6f3785%7D"}, "html": {"href": "https://bitbucket.org/%7B9f25a1e7-e37c-4707-a084-64e8be6f3785%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/43d814e31d04558e27441fa34acea489d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSY-3.png"}}, "nickname": "seanyen-msft", "type": "user", "account_id": "5bee878f5416561374c46bd9"}, "updated_on": "2020-02-12T23:00:53.633031+00:00", "type": "pullrequest_comment", "id": 135693132}