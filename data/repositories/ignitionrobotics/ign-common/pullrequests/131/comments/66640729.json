{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/131/comments/66640729.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/diff/ignitionrobotics/ign-common:899340ca83f2..431caf625c94?path=include%2Fignition%2Fcommon%2Fdetail%2FPluginMacros.hh"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/131/_/diff#comment-66640729"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 131, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/131.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/131"}}, "title": "Upgrade to ign-cmake2 and fix bionic build warnings"}, "content": {"raw": "FYI @mxgrey \n\nI believe this is to fix the following warning from gcc8 on bionic\n\n~~~\nIn file included from include/ignition/common/PluginMacros.hh:22,\n                 from test/plugins/DummyPlugins.cc:18:\ntest/plugins/DummyPlugins.cc: In function \u2018std::size_t IGNCOMMONMultiPluginInfo(void**, std::size_t, std::size_t)\u2019:\ninclude/ignition/common/detail/PluginMacros.hh:100:77: warning: type qualifiers ignored on cast result type [-Wignored-qualifiers]\n         reinterpret_cast<ignition::common::PluginInfo * * const>(_outputInfo); \\\n                                                                             ^\ninclude/ignition/common/PluginMacros.hh:110:3: note: in expansion of macro \u2018DETAIL_IGN_COMMON_BEGIN_ADDING_PLUGINS\u2019\n   DETAIL_IGN_COMMON_BEGIN_ADDING_PLUGINS\n   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ntest/plugins/DummyPlugins.cc:82:1: note: in expansion of macro \u2018IGN_COMMON_BEGIN_ADDING_PLUGINS\u2019\n IGN_COMMON_BEGIN_ADDING_PLUGINS\n ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n~~~", "markup": "markdown", "html": "<p>FYI @mxgrey </p>\n<p>I believe this is to fix the following warning from gcc8 on bionic</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">In</span> <span class=\"nt\">file</span> <span class=\"nt\">included</span> <span class=\"nt\">from</span> <span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">ignition</span><span class=\"o\">/</span><span class=\"nt\">common</span><span class=\"o\">/</span><span class=\"nt\">PluginMacros</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"p\">:</span><span class=\"nd\">22</span><span class=\"o\">,</span>\n                 <span class=\"nt\">from</span> <span class=\"nt\">test</span><span class=\"o\">/</span><span class=\"nt\">plugins</span><span class=\"o\">/</span><span class=\"nt\">DummyPlugins</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">18</span><span class=\"o\">:</span>\n<span class=\"nt\">test</span><span class=\"o\">/</span><span class=\"nt\">plugins</span><span class=\"o\">/</span><span class=\"nt\">DummyPlugins</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"o\">:</span> <span class=\"nt\">In</span> <span class=\"nt\">function</span> <span class=\"err\">\u2018</span><span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">size_t</span> <span class=\"nt\">IGNCOMMONMultiPluginInfo</span><span class=\"o\">(</span><span class=\"nt\">void</span><span class=\"o\">**,</span> <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">size_t</span><span class=\"o\">,</span> <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">size_t</span><span class=\"o\">)</span><span class=\"err\">\u2019</span><span class=\"o\">:</span>\n<span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">ignition</span><span class=\"o\">/</span><span class=\"nt\">common</span><span class=\"o\">/</span><span class=\"nt\">detail</span><span class=\"o\">/</span><span class=\"nt\">PluginMacros</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"p\">:</span><span class=\"nd\">100</span><span class=\"p\">:</span><span class=\"nd\">77</span><span class=\"o\">:</span> <span class=\"nt\">warning</span><span class=\"o\">:</span> <span class=\"nt\">type</span> <span class=\"nt\">qualifiers</span> <span class=\"nt\">ignored</span> <span class=\"nt\">on</span> <span class=\"nt\">cast</span> <span class=\"nt\">result</span> <span class=\"nt\">type</span> <span class=\"cp\">[</span><span class=\"na\">-Wignored-qualifiers</span><span class=\"cp\">]</span>\n         <span class=\"nt\">reinterpret_cast</span><span class=\"o\">&lt;</span><span class=\"nt\">ignition</span><span class=\"p\">::</span><span class=\"nd\">common</span><span class=\"p\">::</span><span class=\"nd\">PluginInfo</span> <span class=\"o\">*</span> <span class=\"o\">*</span> <span class=\"nt\">const</span><span class=\"o\">&gt;(</span><span class=\"nt\">_outputInfo</span><span class=\"o\">);</span> <span class=\"err\">\\</span>\n                                                                             <span class=\"o\">^</span>\n<span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">ignition</span><span class=\"o\">/</span><span class=\"nt\">common</span><span class=\"o\">/</span><span class=\"nt\">PluginMacros</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"p\">:</span><span class=\"nd\">110</span><span class=\"p\">:</span><span class=\"nd\">3</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">in</span> <span class=\"nt\">expansion</span> <span class=\"nt\">of</span> <span class=\"nt\">macro</span> <span class=\"err\">\u2018</span><span class=\"nt\">DETAIL_IGN_COMMON_BEGIN_ADDING_PLUGINS</span><span class=\"err\">\u2019</span>\n   <span class=\"nt\">DETAIL_IGN_COMMON_BEGIN_ADDING_PLUGINS</span>\n   <span class=\"o\">^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>\n<span class=\"nt\">test</span><span class=\"o\">/</span><span class=\"nt\">plugins</span><span class=\"o\">/</span><span class=\"nt\">DummyPlugins</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">82</span><span class=\"p\">:</span><span class=\"nd\">1</span><span class=\"o\">:</span> <span class=\"nt\">note</span><span class=\"o\">:</span> <span class=\"nt\">in</span> <span class=\"nt\">expansion</span> <span class=\"nt\">of</span> <span class=\"nt\">macro</span> <span class=\"err\">\u2018</span><span class=\"nt\">IGN_COMMON_BEGIN_ADDING_PLUGINS</span><span class=\"err\">\u2019</span>\n <span class=\"nt\">IGN_COMMON_BEGIN_ADDING_PLUGINS</span>\n <span class=\"o\">^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>\n</pre></div>", "type": "rendered"}, "created_on": "2018-06-08T18:24:03.993839+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 100, "from": null, "outdated": true, "path": "include/ignition/common/detail/PluginMacros.hh"}, "updated_on": "2018-06-08T18:24:04.009467+00:00", "type": "pullrequest_comment", "id": 66640729}