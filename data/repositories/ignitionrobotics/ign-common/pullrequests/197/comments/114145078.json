{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/197/comments/114145078.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/197/_/diff#comment-114145078"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 197, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/pullrequests/197.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/pull-requests/197"}}, "title": "add bvh animation support for skeleton"}, "content": {"raw": "LGTM! I just have a few minor suggestions which can be done when merging:\n\n```\ndiff -r 60c1d7765226 graphics/include/ignition/common/Animation.hh\n--- a/graphics/include/ignition/common/Animation.hh     Fri Aug 23 01:16:31 2019 +0800\n+++ b/graphics/include/ignition/common/Animation.hh     Thu Aug 22 12:14:41 2019 -0700\n@@ -18,7 +18,6 @@\n #define IGNITION_COMMON_ANIMATION_HH_\n \n #include <map>\n-#include <memory>\n #include <string>\n #include <vector>\n \ndiff -r 60c1d7765226 graphics/src/Animation.cc\n--- a/graphics/src/Animation.cc Fri Aug 23 01:16:31 2019 +0800\n+++ b/graphics/src/Animation.cc Thu Aug 22 12:14:41 2019 -0700\n@@ -374,10 +374,8 @@\n {\n   this->dataPtr->id = _trajInfo.dataPtr->id;\n   this->dataPtr->animIndex = _trajInfo.dataPtr->animIndex;\n-  this->dataPtr->startTime = std::chrono::steady_clock::time_point(\n-                                _trajInfo.dataPtr->startTime);\n-  this->dataPtr->endTime = std::chrono::steady_clock::time_point(\n-                                _trajInfo.dataPtr->endTime);\n+  this->dataPtr->startTime = _trajInfo.dataPtr->startTime;\n+  this->dataPtr->endTime = _trajInfo.dataPtr->endTime;\n   this->dataPtr->translated = _trajInfo.dataPtr->translated;\n   this->dataPtr->waypoints = _trajInfo.dataPtr->waypoints;\n   this->dataPtr->segDistance = _trajInfo.dataPtr->segDistance;\ndiff -r 60c1d7765226 graphics/src/Animation_TEST.cc\n--- a/graphics/src/Animation_TEST.cc    Fri Aug 23 01:16:31 2019 +0800\n+++ b/graphics/src/Animation_TEST.cc    Thu Aug 22 12:14:41 2019 -0700\n@@ -160,7 +160,6 @@\n   EXPECT_DOUBLE_EQ(4.0, trajInfo.DistanceSoFar(500ms));\n \n   waypoints.clear();\n-  std::cout << waypoints.size() << std::endl;\n   // duration from start == 0\n   waypoints[TP(200ms)] = math::Pose3d(1, 0, 0, 0, 0, 0);\n   // duration from start == 2000ms\n```", "markup": "markdown", "html": "<p>LGTM! I just have a few minor suggestions which can be done when merging:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 60c1d7765226 graphics/include/ignition/common/Animation.hh</span>\n<span class=\"gd\">--- a/graphics/include/ignition/common/Animation.hh     Fri Aug 23 01:16:31 2019 +0800</span>\n<span class=\"gi\">+++ b/graphics/include/ignition/common/Animation.hh     Thu Aug 22 12:14:41 2019 -0700</span>\n<span class=\"gu\">@@ -18,7 +18,6 @@</span>\n #define IGNITION_COMMON_ANIMATION_HH_\n\n #include &lt;map&gt;\n<span class=\"gd\">-#include &lt;memory&gt;</span>\n #include &lt;string&gt;\n #include &lt;vector&gt;\n\n<span class=\"gh\">diff -r 60c1d7765226 graphics/src/Animation.cc</span>\n<span class=\"gd\">--- a/graphics/src/Animation.cc Fri Aug 23 01:16:31 2019 +0800</span>\n<span class=\"gi\">+++ b/graphics/src/Animation.cc Thu Aug 22 12:14:41 2019 -0700</span>\n<span class=\"gu\">@@ -374,10 +374,8 @@</span>\n {\n   this-&gt;dataPtr-&gt;id = _trajInfo.dataPtr-&gt;id;\n   this-&gt;dataPtr-&gt;animIndex = _trajInfo.dataPtr-&gt;animIndex;\n<span class=\"gd\">-  this-&gt;dataPtr-&gt;startTime = std::chrono::steady_clock::time_point(</span>\n<span class=\"gd\">-                                _trajInfo.dataPtr-&gt;startTime);</span>\n<span class=\"gd\">-  this-&gt;dataPtr-&gt;endTime = std::chrono::steady_clock::time_point(</span>\n<span class=\"gd\">-                                _trajInfo.dataPtr-&gt;endTime);</span>\n<span class=\"gi\">+  this-&gt;dataPtr-&gt;startTime = _trajInfo.dataPtr-&gt;startTime;</span>\n<span class=\"gi\">+  this-&gt;dataPtr-&gt;endTime = _trajInfo.dataPtr-&gt;endTime;</span>\n   this-&gt;dataPtr-&gt;translated = _trajInfo.dataPtr-&gt;translated;\n   this-&gt;dataPtr-&gt;waypoints = _trajInfo.dataPtr-&gt;waypoints;\n   this-&gt;dataPtr-&gt;segDistance = _trajInfo.dataPtr-&gt;segDistance;\n<span class=\"gh\">diff -r 60c1d7765226 graphics/src/Animation_TEST.cc</span>\n<span class=\"gd\">--- a/graphics/src/Animation_TEST.cc    Fri Aug 23 01:16:31 2019 +0800</span>\n<span class=\"gi\">+++ b/graphics/src/Animation_TEST.cc    Thu Aug 22 12:14:41 2019 -0700</span>\n<span class=\"gu\">@@ -160,7 +160,6 @@</span>\n   EXPECT_DOUBLE_EQ(4.0, trajInfo.DistanceSoFar(500ms));\n\n   waypoints.clear();\n<span class=\"gd\">-  std::cout &lt;&lt; waypoints.size() &lt;&lt; std::endl;</span>\n   // duration from start == 0\n   waypoints[TP(200ms)] = math::Pose3d(1, 0, 0, 0, 0, 0);\n   // duration from start == 2000ms\n</pre></div>", "type": "rendered"}, "created_on": "2019-08-22T19:15:27.627179+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-08-22T19:15:27.635189+00:00", "type": "pullrequest_comment", "id": 114145078}