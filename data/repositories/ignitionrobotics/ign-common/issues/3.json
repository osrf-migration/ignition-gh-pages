{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-common/issues/3/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-common/issues/3.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/issues/3/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-common/issues/3/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/issues/3/unit_audiodecoder_test-test-disabled"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/issues/3/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "UNIT_AudioDecoder_TEST test disabled", "component": null, "votes": 0, "watches": 1, "content": {"raw": "It fails in drone and on my desktop (see also #2):\r\n\r\n* https://drone.io/bitbucket.org/ignitionrobotics/ign-common/23\r\n\r\n~~~\r\n3: [==========] Running 6 tests from 1 test case.\r\n3: [----------] Global test environment set-up.\r\n3: [----------] 6 tests from AudioDecoder\r\n3: [ RUN      ] AudioDecoder.FileNotSet\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:32: Failure\r\n3: Value of: audio.Decode(&dataBuffer, &dataBufferSize)\r\n3:   Actual: true\r\n3: Expected: false\r\n3: [  FAILED  ] AudioDecoder.FileNotSet (0 ms)\r\n3: [ RUN      ] AudioDecoder.MissingFile\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:41: Failure\r\n3: Value of: audio.Decode(&dataBuffer, &dataBufferSize)\r\n3:   Actual: true\r\n3: Expected: false\r\n3: [  FAILED  ] AudioDecoder.MissingFile (0 ms)\r\n3: [ RUN      ] AudioDecoder.BufferSizeInvalid\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:50: Failure\r\n3: Value of: audio.SetFile(path)\r\n3:   Actual: false\r\n3: Expected: true\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:54: Failure\r\n3: Value of: audio.Decode(&dataBuffer, dataBufferSize)\r\n3:   Actual: true\r\n3: Expected: false\r\n3: [  FAILED  ] AudioDecoder.BufferSizeInvalid (1 ms)\r\n3: [ RUN      ] AudioDecoder.DataBuffer\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:64: Failure\r\n3: Value of: audio.SetFile(path)\r\n3:   Actual: false\r\n3: Expected: true\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:74: Failure\r\n3: Value of: dataBufferSize\r\n3:   Actual: 27\r\n3: Expected: dataBufferSize2\r\n3: Which is: 0\r\n3: [  FAILED  ] AudioDecoder.DataBuffer (0 ms)\r\n3: [ RUN      ] AudioDecoder.NoCodec\r\n3: [       OK ] AudioDecoder.NoCodec (0 ms)\r\n3: [ RUN      ] AudioDecoder.CheerFile\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:112: Failure\r\n3: Value of: audio.SetFile(path)\r\n3:   Actual: false\r\n3: Expected: true\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:113: Failure\r\n3: Value of: path\r\n3:   Actual: \"/home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/test/data/cheer.wav\"\r\n3: Expected: audio.GetFile()\r\n3: Which is: \"\"\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:114: Failure\r\n3: Value of: 48000\r\n3: Expected: audio.GetSampleRate()\r\n3: Which is: 0\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:117: Failure\r\n3: Value of: 5428692u\r\n3:   Actual: 5428692\r\n3: Expected: dataBufferSize\r\n3: Which is: 14431128\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:124: Failure\r\n3: Value of: audio.SetFile(path)\r\n3:   Actual: false\r\n3: Expected: true\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:125: Failure\r\n3: Value of: path\r\n3:   Actual: \"/home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/test/data/cheer.ogg\"\r\n3: Expected: audio.GetFile()\r\n3: Which is: \"\"\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:126: Failure\r\n3: Value of: 44100\r\n3: Expected: audio.GetSampleRate()\r\n3: Which is: 0\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:132: Failure\r\n3: Value of: dataBufferSize == 4989184u || dataBufferSize == 4989184u * 2u\r\n3:   Actual: false\r\n3: Expected: true\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:139: Failure\r\n3: Value of: audio.SetFile(path)\r\n3:   Actual: false\r\n3: Expected: true\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:140: Failure\r\n3: Value of: path\r\n3:   Actual: \"/home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/test/data/cheer.mp3\"\r\n3: Expected: audio.GetFile()\r\n3: Which is: \"\"\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:141: Failure\r\n3: Value of: 44100\r\n3: Expected: audio.GetSampleRate()\r\n3: Which is: 0\r\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:144: Failure\r\n3: Value of: 4995072u\r\n3:   Actual: 4995072\r\n3: Expected: dataBufferSize\r\n3: Which is: 14431128\r\n3: [  FAILED  ] AudioDecoder.CheerFile (2 ms)\r\n3: [----------] 6 tests from AudioDecoder (5 ms total)\r\n3: \r\n3: [----------] Global test environment tear-down\r\n3: [==========] 6 tests from 1 test case ran. (6 ms total)\r\n3: [  PASSED  ] 1 test.\r\n3: [  FAILED  ] 5 tests, listed below:\r\n3: [  FAILED  ] AudioDecoder.FileNotSet\r\n3: [  FAILED  ] AudioDecoder.MissingFile\r\n3: [  FAILED  ] AudioDecoder.BufferSizeInvalid\r\n3: [  FAILED  ] AudioDecoder.DataBuffer\r\n3: [  FAILED  ] AudioDecoder.CheerFile\r\n3: \r\n3:  5 FAILED TESTS\r\n 3/18 Test  #3: UNIT_AudioDecoder_TEST ...........***Failed    0.01 sec\r\n~~~", "markup": "markdown", "html": "<p>It fails in drone and on my desktop (see also <a href=\"#!/ignitionrobotics/ign-common/issues/2/unit_image_test-failure\" rel=\"nofollow\" title=\"UNIT_Image_TEST failure\" class=\"ap-connect-link\"><s>#2</s></a>):</p>\n<ul>\n<li><a href=\"https://drone.io/bitbucket.org/ignitionrobotics/ign-common/23\" rel=\"nofollow\" class=\"ap-connect-link\">https://drone.io/bitbucket.org/ignitionrobotics/ign-common/23</a></li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>3: [==========] Running 6 tests from 1 test case.\n3: [----------] Global test environment set-up.\n3: [----------] 6 tests from AudioDecoder\n3: [ RUN      ] AudioDecoder.FileNotSet\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:32: Failure\n3: Value of: audio.Decode(&amp;dataBuffer, &amp;dataBufferSize)\n3:   Actual: true\n3: Expected: false\n3: [  FAILED  ] AudioDecoder.FileNotSet (0 ms)\n3: [ RUN      ] AudioDecoder.MissingFile\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:41: Failure\n3: Value of: audio.Decode(&amp;dataBuffer, &amp;dataBufferSize)\n3:   Actual: true\n3: Expected: false\n3: [  FAILED  ] AudioDecoder.MissingFile (0 ms)\n3: [ RUN      ] AudioDecoder.BufferSizeInvalid\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:50: Failure\n3: Value of: audio.SetFile(path)\n3:   Actual: false\n3: Expected: true\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:54: Failure\n3: Value of: audio.Decode(&amp;dataBuffer, dataBufferSize)\n3:   Actual: true\n3: Expected: false\n3: [  FAILED  ] AudioDecoder.BufferSizeInvalid (1 ms)\n3: [ RUN      ] AudioDecoder.DataBuffer\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:64: Failure\n3: Value of: audio.SetFile(path)\n3:   Actual: false\n3: Expected: true\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:74: Failure\n3: Value of: dataBufferSize\n3:   Actual: 27\n3: Expected: dataBufferSize2\n3: Which is: 0\n3: [  FAILED  ] AudioDecoder.DataBuffer (0 ms)\n3: [ RUN      ] AudioDecoder.NoCodec\n3: [       OK ] AudioDecoder.NoCodec (0 ms)\n3: [ RUN      ] AudioDecoder.CheerFile\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:112: Failure\n3: Value of: audio.SetFile(path)\n3:   Actual: false\n3: Expected: true\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:113: Failure\n3: Value of: path\n3:   Actual: &quot;/home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/test/data/cheer.wav&quot;\n3: Expected: audio.GetFile()\n3: Which is: &quot;&quot;\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:114: Failure\n3: Value of: 48000\n3: Expected: audio.GetSampleRate()\n3: Which is: 0\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:117: Failure\n3: Value of: 5428692u\n3:   Actual: 5428692\n3: Expected: dataBufferSize\n3: Which is: 14431128\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:124: Failure\n3: Value of: audio.SetFile(path)\n3:   Actual: false\n3: Expected: true\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:125: Failure\n3: Value of: path\n3:   Actual: &quot;/home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/test/data/cheer.ogg&quot;\n3: Expected: audio.GetFile()\n3: Which is: &quot;&quot;\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:126: Failure\n3: Value of: 44100\n3: Expected: audio.GetSampleRate()\n3: Which is: 0\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:132: Failure\n3: Value of: dataBufferSize == 4989184u || dataBufferSize == 4989184u * 2u\n3:   Actual: false\n3: Expected: true\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:139: Failure\n3: Value of: audio.SetFile(path)\n3:   Actual: false\n3: Expected: true\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:140: Failure\n3: Value of: path\n3:   Actual: &quot;/home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/test/data/cheer.mp3&quot;\n3: Expected: audio.GetFile()\n3: Which is: &quot;&quot;\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:141: Failure\n3: Value of: 44100\n3: Expected: audio.GetSampleRate()\n3: Which is: 0\n3: /home/ubuntu/src/bitbucket.org/ignitionrobotics/ign-common/src/AudioDecoder_TEST.cc:144: Failure\n3: Value of: 4995072u\n3:   Actual: 4995072\n3: Expected: dataBufferSize\n3: Which is: 14431128\n3: [  FAILED  ] AudioDecoder.CheerFile (2 ms)\n3: [----------] 6 tests from AudioDecoder (5 ms total)\n3: \n3: [----------] Global test environment tear-down\n3: [==========] 6 tests from 1 test case ran. (6 ms total)\n3: [  PASSED  ] 1 test.\n3: [  FAILED  ] 5 tests, listed below:\n3: [  FAILED  ] AudioDecoder.FileNotSet\n3: [  FAILED  ] AudioDecoder.MissingFile\n3: [  FAILED  ] AudioDecoder.BufferSizeInvalid\n3: [  FAILED  ] AudioDecoder.DataBuffer\n3: [  FAILED  ] AudioDecoder.CheerFile\n3: \n3:  5 FAILED TESTS\n 3/18 Test  #3: UNIT_AudioDecoder_TEST ...........***Failed    0.01 sec\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2015-09-16T01:03:21.625137+00:00", "milestone": null, "updated_on": "2017-10-11T19:38:52.269590+00:00", "type": "issue", "id": 3}