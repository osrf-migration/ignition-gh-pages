{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/issues/34/comments/44753481.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/issues/34#comment-44753481"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/issues/34.json"}}, "type": "issue", "id": 34, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "title": "RTLD_LAZY vs RTLD_NOW in PluginLoader"}, "content": {"raw": "My main concern with `RTLD_LAZY` vs. `RTLD_NOW` isn't really with performance, but more with debugging.  As I see it, the big problem with `RTLD_LAZY` is that you don't find out if you can't resolve a symbol until you actually try to call that symbol.  That means that the program may be successfully running for a while, and then when some new functionality gets invoked the program crashes because it can't resolve the symbol.  If we did `RTLD_NOW`, then the symbol resolution would fail at program startup time and it is an easy thing for a developer to see, understand, debug, and fix.\n\nWith that said, I'd be in favor of just switching ignition to `RTLD_NOW` and leaving it at that.  If we want to make it configurable, I'm fine with that too, but would prefer `RTLD_NOW` to be the default.", "markup": "markdown", "html": "<p>My main concern with <code>RTLD_LAZY</code> vs. <code>RTLD_NOW</code> isn't really with performance, but more with debugging.  As I see it, the big problem with <code>RTLD_LAZY</code> is that you don't find out if you can't resolve a symbol until you actually try to call that symbol.  That means that the program may be successfully running for a while, and then when some new functionality gets invoked the program crashes because it can't resolve the symbol.  If we did <code>RTLD_NOW</code>, then the symbol resolution would fail at program startup time and it is an easy thing for a developer to see, understand, debug, and fix.</p>\n<p>With that said, I'd be in favor of just switching ignition to <code>RTLD_NOW</code> and leaving it at that.  If we want to make it configurable, I'm fine with that too, but would prefer <code>RTLD_NOW</code> to be the default.</p>", "type": "rendered"}, "created_on": "2018-04-17T12:46:44.290394+00:00", "user": {"display_name": "clalancette", "uuid": "{02b311e1-297d-4232-89c4-5485d0a02911}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B02b311e1-297d-4232-89c4-5485d0a02911%7D"}, "html": {"href": "https://bitbucket.org/%7B02b311e1-297d-4232-89c4-5485d0a02911%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ad6ed80b-ec66-45cb-9504-b1094a415b7f/048a0933-60ac-4910-a6a5-ed058bdea8eb/128"}}, "nickname": "clalancette", "type": "user", "account_id": "557058:ad6ed80b-ec66-45cb-9504-b1094a415b7f"}, "updated_on": null, "type": "issue_comment", "id": 44753481}