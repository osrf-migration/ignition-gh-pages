{"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-common/issues/19/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-common/issues/19.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/issues/19/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-common/issues/19/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/issues/19/recommend-using-std-ostream-instead-of"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-common/issues/19/vote"}}, "reporter": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "title": "Recommend using std::ostream& instead of enumeration for Logger", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The current implementation of the [`ignition::common::Logger`](#!/ignitionrobotics/ign-common/src/47f7af1d6a38066d8ebd5414bcd6bac053c87be4/include/ignition/common/Console.hh?at=default&fileviewer=file-view-default#Console.hh-125) class uses an enumeration to distinguish between whether it should print to `std::cout` or `std::cerr`. I think we can make the implementation a little nicer by forgoing that enumeration, and having `Logger` store a `std::ostream&`. This would make `Logger` more reusable, and I believe we could implement [`FileLogger`](#!/ignitionrobotics/ign-common/src/47f7af1d6a38066d8ebd5414bcd6bac053c87be4/include/ignition/common/Console.hh?at=default&fileviewer=file-view-default#Console.hh-62) by simply inheriting `Logger` and then adding the functions that are specifically relevant to file logging. Also, `FileLogger` would be responsible for the lifecycle of the `std::ostream` that is referenced by the `Logger`.\r\n\r\nIf these changes sound good, I could implement them pretty quickly.", "markup": "markdown", "html": "<p>The current implementation of the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-common/src/47f7af1d6a38066d8ebd5414bcd6bac053c87be4/include/ignition/common/Console.hh?at=default&amp;fileviewer=file-view-default#Console.hh-125\" rel=\"nofollow\"><code>ignition::common::Logger</code></a> class uses an enumeration to distinguish between whether it should print to <code>std::cout</code> or <code>std::cerr</code>. I think we can make the implementation a little nicer by forgoing that enumeration, and having <code>Logger</code> store a <code>std::ostream&amp;</code>. This would make <code>Logger</code> more reusable, and I believe we could implement <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-common/src/47f7af1d6a38066d8ebd5414bcd6bac053c87be4/include/ignition/common/Console.hh?at=default&amp;fileviewer=file-view-default#Console.hh-62\" rel=\"nofollow\"><code>FileLogger</code></a> by simply inheriting <code>Logger</code> and then adding the functions that are specifically relevant to file logging. Also, <code>FileLogger</code> would be responsible for the lifecycle of the <code>std::ostream</code> that is referenced by the <code>Logger</code>.</p>\n<p>If these changes sound good, I could implement them pretty quickly.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-07-31T23:12:46.017650+00:00", "milestone": null, "updated_on": "2017-07-31T23:12:46.017650+00:00", "type": "issue", "id": 19}