{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/issues/50/comments/51962123.json"}, "html": {"href": "#!/ignitionrobotics/ign-common/issues/50#comment-51962123"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common/issues/50.json"}}, "type": "issue", "id": 50, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-common.json"}, "html": {"href": "#!/ignitionrobotics/ign-common"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}ts=1533303"}}, "type": "repository", "name": "ign-common", "full_name": "ignitionrobotics/ign-common", "uuid": "{1dfbdd30-34c5-4b09-82ef-9bfe2917877b}"}, "title": "Flaky Test: GTSMeshUtils.DelaunayTriangulation"}, "content": {"raw": "I ran this test through the debugger with `devenv /debugexe UNIT_GTSMeshUtils_TEST` and it said the following:\n\n~~~\nException thrown at 0x00007FFE31322ACB (ignition-common3-graphics.dll) in\n UNIT_GTSMeshUtils_TEST.exe: 0xC0000005: Access violation writing location 0x00007FFE313E1D50.\n\nignition-common3-graphics.dll!ignition::common::GTSMeshUtils::DelaunayTriangulation(const std::vector<ignition::math::v6::Vector2<double>,std::allocator<ignition::math::v6::Vector2<double> > > & _vertices, const std::vector<ignition::math::v6::Vector2<int>,std::allocator<ignition::math::v6::Vector2<int> > > & _edges) Line 191\n  at C:\\Users\\scpet\\Desktop\\ws\\ignition\\src\\ign-common\\graphics\\src\\GTSMeshUtils.cc(191)\n~~~\n\n[Line 191 of GTSMeshUtils.cc](#!/ignitionrobotics/ign-common/src/24ed404ee6a53982d7e844c41a235b7cec8154e2/graphics/src/GTSMeshUtils.cc#lines-191) attempts to set the variable `gts_allow_floating_vertices` to true. That is a variable defined in gts.h:\n\n* https://fossies.org/dox/gts-snapshot-121130/gts_8h.html#acae4bc44e3393c1e00ddea5cadf53f10\n\nThat header file appears to [set some DLL macros](https://fossies.org/dox/gts-snapshot-121130/gts_8h_source.html), so I don't know if the problem is with the vcpkg build of gts or something we are doing.", "markup": "markdown", "html": "<p>I ran this test through the debugger with <code>devenv /debugexe UNIT_GTSMeshUtils_TEST</code> and it said the following:</p>\n<div class=\"codehilite\"><pre><span></span>Exception thrown at 0x00007FFE31322ACB (ignition-common3-graphics.dll) in\n UNIT_GTSMeshUtils_TEST.exe: 0xC0000005: Access violation writing location 0x00007FFE313E1D50.\n\nignition-common3-graphics.dll!ignition::common::GTSMeshUtils::DelaunayTriangulation(const std::vector&lt;ignition::math::v6::Vector2&lt;double&gt;,std::allocator&lt;ignition::math::v6::Vector2&lt;double&gt; &gt; &gt; &amp; _vertices, const std::vector&lt;ignition::math::v6::Vector2&lt;int&gt;,std::allocator&lt;ignition::math::v6::Vector2&lt;int&gt; &gt; &gt; &amp; _edges) Line 191\n  at C:\\Users\\scpet\\Desktop\\ws\\ignition\\src\\ign-common\\graphics\\src\\GTSMeshUtils.cc(191)\n</pre></div>\n\n\n<p><a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-common/src/24ed404ee6a53982d7e844c41a235b7cec8154e2/graphics/src/GTSMeshUtils.cc#lines-191\" rel=\"nofollow\">Line 191 of GTSMeshUtils.cc</a> attempts to set the variable <code>gts_allow_floating_vertices</code> to true. That is a variable defined in gts.h:</p>\n<ul>\n<li><a href=\"https://fossies.org/dox/gts-snapshot-121130/gts_8h.html#acae4bc44e3393c1e00ddea5cadf53f10\" rel=\"nofollow\" class=\"ap-connect-link\">https://fossies.org/dox/gts-snapshot-121130/gts_8h.html#acae4bc44e3393c1e00ddea5cadf53f10</a></li>\n</ul>\n<p>That header file appears to <a data-is-external-link=\"true\" href=\"https://fossies.org/dox/gts-snapshot-121130/gts_8h_source.html\" rel=\"nofollow\">set some DLL macros</a>, so I don't know if the problem is with the vcpkg build of gts or something we are doing.</p>", "type": "rendered"}, "created_on": "2019-05-04T01:14:56.095293+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 51962123}