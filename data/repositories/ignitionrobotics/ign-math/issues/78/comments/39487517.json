{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/issues/78/comments/39487517.json"}, "html": {"href": "#!/ignitionrobotics/ign-math/issues/78#comment-39487517"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/issues/78.json"}}, "type": "issue", "id": 78, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math.json"}, "html": {"href": "#!/ignitionrobotics/ign-math"}, "avatar": {"href": "data/bytebucket.org/ravatar/{18503e50-08ea-4d88-ab99-110fde3c7256}ts=1533305"}}, "type": "repository", "name": "ign-math", "full_name": "ignitionrobotics/ign-math", "uuid": "{18503e50-08ea-4d88-ab99-110fde3c7256}"}, "title": "Frustum incorrectly reports that it contains a box"}, "content": {"raw": "@nkoenig 2.5 is the far plane distance, holding y at zero, and  Z comes from the sensor height minus the z height of a right triangle with one angle being half of the vertical field of view and the opposite side being half the height of the intersection of the far plane and the frustum.\n\n```\nimport math\nhfov = 1.05\naspect_ratio = 1.8\nfar_dist = 2.5\nsensor_height = 2.0\nvfov = hfov / aspect_ratio\nsensor_height - far_dist * math.tan(vfov / 2) # 1.2494280622669767\n```", "markup": "markdown", "html": "<p>@nkoenig 2.5 is the far plane distance, holding y at zero, and  Z comes from the sensor height minus the z height of a right triangle with one angle being half of the vertical field of view and the opposite side being half the height of the intersection of the far plane and the frustum.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">math</span>\n<span class=\"n\">hfov</span> <span class=\"o\">=</span> <span class=\"mf\">1.05</span>\n<span class=\"n\">aspect_ratio</span> <span class=\"o\">=</span> <span class=\"mf\">1.8</span>\n<span class=\"n\">far_dist</span> <span class=\"o\">=</span> <span class=\"mf\">2.5</span>\n<span class=\"n\">sensor_height</span> <span class=\"o\">=</span> <span class=\"mf\">2.0</span>\n<span class=\"n\">vfov</span> <span class=\"o\">=</span> <span class=\"n\">hfov</span> <span class=\"o\">/</span> <span class=\"n\">aspect_ratio</span>\n<span class=\"n\">sensor_height</span> <span class=\"o\">-</span> <span class=\"n\">far_dist</span> <span class=\"o\">*</span> <span class=\"n\">math</span><span class=\"o\">.</span><span class=\"n\">tan</span><span class=\"p\">(</span><span class=\"n\">vfov</span> <span class=\"o\">/</span> <span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"c1\"># 1.2494280622669767</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-08-29T23:16:08.565702+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": null, "type": "issue_comment", "id": 39487517}