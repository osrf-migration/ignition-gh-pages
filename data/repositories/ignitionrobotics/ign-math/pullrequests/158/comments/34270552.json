{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/pullrequests/158/comments/34270552.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-math/diff/ignitionrobotics/ign-math:bf41af1ae3b6..826cd23c136c?path=include%2Fignition%2Fmath%2FGraph.hh"}, "html": {"href": "#!/ignitionrobotics/ign-math/pull-requests/158/_/diff#comment-34270552"}}, "parent": {"id": 34202757, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/pullrequests/158/comments/34202757.json"}, "html": {"href": "#!/ignitionrobotics/ign-math/pull-requests/158/_/diff#comment-34202757"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 158, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/pullrequests/158.json"}, "html": {"href": "#!/ignitionrobotics/ign-math/pull-requests/158"}}, "title": "Graph generic"}, "content": {"raw": "Similar points have been made on pull request #141. After reading some of the feedback on this pull request though, I'm now thinking there are two kinds of users of the Graph class:\n\n1. Functions which will traverse the graph to do things like finding paths, cycles and searches (they would live in `GraphAlgorithm`)\n1. Functions which will query the graph for data\n\nFor case 1, I think it should be fine to share ownership of some aspects of the graph. The scope of these functions should have a short life and during that life, we don't want the graph to be suddenly pulled away from them. If that's the case, we could make functions that return shared pointers be private members, and make `GraphAlgorithm` something like a `friend`. The downside I can see is that downstream users wouldn't be able to write their own functions to traverse a graph, unless the API provided by `GraphAlgorithms` is enough.\n\nI think functions on case 2 could live longer. In this case, maybe they can keep an ID to the specific vertex or edge they're interested in, and use that ID to query the Graph later? And in case they want to traverse the graph, they can use that ID in conjunction with functions in `GraphAlgorithm`.\n\n", "markup": "markdown", "html": "<p>Similar points have been made on <a href=\"#!/ignitionrobotics/ign-math/pull-requests/141/graph\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #141</a>. After reading some of the feedback on this pull request though, I'm now thinking there are two kinds of users of the Graph class:</p>\n<ol>\n<li>Functions which will traverse the graph to do things like finding paths, cycles and searches (they would live in <code>GraphAlgorithm</code>)</li>\n<li>Functions which will query the graph for data</li>\n</ol>\n<p>For case 1, I think it should be fine to share ownership of some aspects of the graph. The scope of these functions should have a short life and during that life, we don't want the graph to be suddenly pulled away from them. If that's the case, we could make functions that return shared pointers be private members, and make <code>GraphAlgorithm</code> something like a <code>friend</code>. The downside I can see is that downstream users wouldn't be able to write their own functions to traverse a graph, unless the API provided by <code>GraphAlgorithms</code> is enough.</p>\n<p>I think functions on case 2 could live longer. In this case, maybe they can keep an ID to the specific vertex or edge they're interested in, and use that ID to query the Graph later? And in case they want to traverse the graph, they can use that ID in conjunction with functions in <code>GraphAlgorithm</code>.</p>", "type": "rendered"}, "created_on": "2017-03-31T18:23:55.318159+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "outdated": true, "path": "include/ignition/math/Graph.hh"}, "updated_on": "2017-03-31T18:23:55.322023+00:00", "type": "pullrequest_comment", "id": 34270552}