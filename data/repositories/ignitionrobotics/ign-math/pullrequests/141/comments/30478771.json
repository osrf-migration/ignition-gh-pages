{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/pullrequests/141/comments/30478771.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-math/diff/ignitionrobotics/ign-math:f46276003076..3f9445be3466?path=include%2Fignition%2Fmath%2FGraph.hh"}, "html": {"href": "#!/ignitionrobotics/ign-math/pull-requests/141/_/diff#comment-30478771"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 141, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/pullrequests/141.json"}, "html": {"href": "#!/ignitionrobotics/ign-math/pull-requests/141"}}, "title": "Graph"}, "content": {"raw": "Once an edge has been removed from a graph, there's no way to put it back there, right? \n\nAn idea would be to return weak pointers rather than shared pointers. Once they're removed from the graph, they're destroyed. If anyone holding a weak pointer tries to access it in the future, they won't be able to. \n\nAs I understand it, this would make it clear that who owns edges and vertexes and is responsible for their lifetime is the graph. Others can borrow them for a bit to peek at the information, but they don't share ownership.\n\nI guess the only difference is that in your implementation, someone holding the pointer could still access the edge's data after the edge is removed.", "markup": "markdown", "html": "<p>Once an edge has been removed from a graph, there's no way to put it back there, right? </p>\n<p>An idea would be to return weak pointers rather than shared pointers. Once they're removed from the graph, they're destroyed. If anyone holding a weak pointer tries to access it in the future, they won't be able to. </p>\n<p>As I understand it, this would make it clear that who owns edges and vertexes and is responsible for their lifetime is the graph. Others can borrow them for a bit to peek at the information, but they don't share ownership.</p>\n<p>I guess the only difference is that in your implementation, someone holding the pointer could still access the edge's data after the edge is removed.</p>", "type": "rendered"}, "created_on": "2017-01-27T17:55:47.235073+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 160, "from": null, "outdated": true, "path": "include/ignition/math/Graph.hh"}, "updated_on": "2017-01-27T17:55:47.238437+00:00", "type": "pullrequest_comment", "id": 30478771}