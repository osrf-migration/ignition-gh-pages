{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/pullrequests/118/comments/21710955.json"}, "html": {"href": "#!/ignitionrobotics/ign-math/pull-requests/118/_/diff#comment-21710955"}}, "parent": {"id": 21697311, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/pullrequests/118/comments/21697311.json"}, "html": {"href": "#!/ignitionrobotics/ign-math/pull-requests/118/_/diff#comment-21697311"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 118, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/pullrequests/118.json"}, "html": {"href": "#!/ignitionrobotics/ign-math/pull-requests/118"}}, "title": "pass string literal to project() to make the project name parsable"}, "content": {"raw": "> The problem is that `ignition-math2-config.cmake` is not installed in the correct directory path with this pull request, correct?\n\nThe problem is that  `ignition-math2-config.cmake` is not installed in the correct directory path only when the default `CMAKE_INSTALL_PREFIX` is used. \nOn Windows  the default `CMAKE_INSTALL_PREFIX` is `C:\\Program Files\\${PROJECT_NAME}` , where `PROJECT_NAME` is the string passed to the `project` command [1][2]. \n\n`CMAKE_CONFIG_INSTALL_DIR` on Windows is `CMake`. \n\nThis PR changes the `PROJECT_NAME` from `ignition-math2` to `ignition-math`, and so the location of the installed `ignition-math2-config.cmake`\nchanges from:\n~~~\nC:\\Program Files\\ignition-math2\\CMake\\ignition-math2-config.cmake\n~~~\nto \n~~~\nC:\\Program Files\\ignition-math\\CMake\\ignition-math2-config.cmake\n~~~\n\nNote that as `CMAKE_CONFIG_INSTALL_DIR` defines only the `CMake` part of this path, so it can be used to fix the problem that the PROJECT_NAME is different from the PACKAGE_NAME used in `find_package` for this library.\n\n[1] : Note that this behavior is unfortunately bad documented : https://gitlab.kitware.com/cmake/cmake/issues/16211 \n\n[2] This is not always true, actually: the the `C:` drive letter can change, and also `Program Files` can be `Program Files (x86)` if the library is compiled as 32-bit on 64-bit. `Program Files` can also be localized.  ", "markup": "markdown", "html": "<blockquote>\n<p>The problem is that <code>ignition-math2-config.cmake</code> is not installed in the correct directory path with this pull request, correct?</p>\n</blockquote>\n<p>The problem is that  <code>ignition-math2-config.cmake</code> is not installed in the correct directory path only when the default <code>CMAKE_INSTALL_PREFIX</code> is used. \nOn Windows  the default <code>CMAKE_INSTALL_PREFIX</code> is <code>C:\\Program Files\\${PROJECT_NAME}</code> , where <code>PROJECT_NAME</code> is the string passed to the <code>project</code> command [1][2]. </p>\n<p><code>CMAKE_CONFIG_INSTALL_DIR</code> on Windows is <code>CMake</code>. </p>\n<p>This PR changes the <code>PROJECT_NAME</code> from <code>ignition-math2</code> to <code>ignition-math</code>, and so the location of the installed <code>ignition-math2-config.cmake</code>\nchanges from:</p>\n<div class=\"codehilite\"><pre><span></span>C:\\Program Files\\ignition-math2\\CMake\\ignition-math2-config.cmake\n</pre></div>\n\n\n<p>to </p>\n<div class=\"codehilite\"><pre><span></span>C:\\Program Files\\ignition-math\\CMake\\ignition-math2-config.cmake\n</pre></div>\n\n\n<p>Note that as <code>CMAKE_CONFIG_INSTALL_DIR</code> defines only the <code>CMake</code> part of this path, so it can be used to fix the problem that the PROJECT_NAME is different from the PACKAGE_NAME used in <code>find_package</code> for this library.</p>\n<p>[1] : Note that this behavior is unfortunately bad documented : <a href=\"https://gitlab.kitware.com/cmake/cmake/issues/16211\" rel=\"nofollow\" class=\"ap-connect-link\">https://gitlab.kitware.com/cmake/cmake/issues/16211</a> </p>\n<p>[2] This is not always true, actually: the the <code>C:</code> drive letter can change, and also <code>Program Files</code> can be <code>Program Files (x86)</code> if the library is compiled as 32-bit on 64-bit. <code>Program Files</code> can also be localized.  </p>", "type": "rendered"}, "created_on": "2016-07-30T16:57:23.489745+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2016-07-30T16:58:05.782894+00:00", "type": "pullrequest_comment", "id": 21710955}