{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/pullrequests/86/comments/14158817.json"}, "html": {"href": "#!/ignitionrobotics/ign-math/pull-requests/86/_/diff#comment-14158817"}}, "parent": {"id": 14148484, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/pullrequests/86/comments/14148484.json"}, "html": {"href": "#!/ignitionrobotics/ign-math/pull-requests/86/_/diff#comment-14148484"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 86, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-math/pullrequests/86.json"}, "html": {"href": "#!/ignitionrobotics/ign-math/pull-requests/86"}}, "title": "Pairing and ray box intersection"}, "content": {"raw": "I disabled most of the test expectations and added some print statements in\n[branch pairing_scpeters](#!/ignitionrobotics/ign-math/branches/compare/pairing_scpeters%0Dpairing#diff)\nand triggered a\n[new windows build](http://build.osrfoundation.org/view/sw_ignition/job/ignition_math-ci-pr_any-windows7-amd64/58/).\n\nA failure is caused when trying to `Unpair(IGN_UINT64_MAX)` \n\n~~~\n9: [ RUN      ] HelpersTest.Pair\n9: _key 18446744073709551615, sqrt 4294967296, sq 0\n9: D:\\Jenkins\\workspace\\ignition_math-ci-pr_any-windows7-amd64@2\\workspace\\ign-math\\src\\Helpers_TEST.cc(336): error: Value of: maxA\n9:   Actual: 4294967295\n9: Expected: maxC\n9: Which is: 0\n~~~\n\nOn my mac, the `sqrt` value is printed as `4294967295` (`2^32 - 1`), while on windows it prints as `4294967296` (`2^32`).\nIt seems like the windows compiler has less precision?", "markup": "markdown", "html": "<p>I disabled most of the test expectations and added some print statements in\n<a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-math/branches/compare/pairing_scpeters%0Dpairing#diff\" rel=\"nofollow\">branch pairing_scpeters</a>\nand triggered a\n<a data-is-external-link=\"true\" href=\"http://build.osrfoundation.org/view/sw_ignition/job/ignition_math-ci-pr_any-windows7-amd64/58/\" rel=\"nofollow\">new windows build</a>.</p>\n<p>A failure is caused when trying to <code>Unpair(IGN_UINT64_MAX)</code> </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"mi\">9</span><span class=\"o\">:</span> <span class=\"p\">[</span> <span class=\"n\">RUN</span>      <span class=\"p\">]</span> <span class=\"n\">HelpersTest</span><span class=\"p\">.</span><span class=\"n\">Pair</span>\n<span class=\"mi\">9</span><span class=\"o\">:</span> <span class=\"n\">_key</span> <span class=\"mi\">18446744073709551615</span><span class=\"p\">,</span> <span class=\"n\">sqrt</span> <span class=\"mi\">4294967296</span><span class=\"p\">,</span> <span class=\"n\">sq</span> <span class=\"mi\">0</span>\n<span class=\"mi\">9</span><span class=\"o\">:</span> <span class=\"nl\">D</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Jenkins</span><span class=\"err\">\\</span><span class=\"n\">workspace</span><span class=\"err\">\\</span><span class=\"n\">ignition_math</span><span class=\"o\">-</span><span class=\"n\">ci</span><span class=\"o\">-</span><span class=\"n\">pr_any</span><span class=\"o\">-</span><span class=\"n\">windows7</span><span class=\"o\">-</span><span class=\"n\">amd64</span><span class=\"mi\">@2</span><span class=\"err\">\\</span><span class=\"n\">workspace</span><span class=\"err\">\\</span><span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">math</span><span class=\"err\">\\</span><span class=\"n\">src</span><span class=\"err\">\\</span><span class=\"n\">Helpers_TEST</span><span class=\"p\">.</span><span class=\"n\">cc</span><span class=\"p\">(</span><span class=\"mi\">336</span><span class=\"p\">)</span><span class=\"o\">:</span> <span class=\"nl\">error</span><span class=\"p\">:</span> <span class=\"n\">Value</span> <span class=\"nl\">of</span><span class=\"p\">:</span> <span class=\"n\">maxA</span>\n<span class=\"mi\">9</span><span class=\"o\">:</span>   <span class=\"nl\">Actual</span><span class=\"p\">:</span> <span class=\"mi\">4294967295</span>\n<span class=\"mi\">9</span><span class=\"o\">:</span> <span class=\"nl\">Expected</span><span class=\"p\">:</span> <span class=\"n\">maxC</span>\n<span class=\"mi\">9</span><span class=\"o\">:</span> <span class=\"n\">Which</span> <span class=\"nl\">is</span><span class=\"p\">:</span> <span class=\"mi\">0</span>\n</pre></div>\n\n\n<p>On my mac, the <code>sqrt</code> value is printed as <code>4294967295</code> (<code>2^32 - 1</code>), while on windows it prints as <code>4294967296</code> (<code>2^32</code>).\nIt seems like the windows compiler has less precision?</p>", "type": "rendered"}, "created_on": "2016-02-03T11:19:30.220441+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2016-02-03T11:19:30.222556+00:00", "type": "pullrequest_comment", "id": 14158817}