{"changes": {"content": {"new": "# Description\r\n\r\nWhen seeking to a particular time in the log file, the levels may not be loaded correctly\r\n\r\n# Steps to Reproduce\r\n\r\nYou can skip step 1 and 2 if using the attached `state.tlog`  file\r\n\r\n1. launch `examples/levels.sdf` with recording enabled\r\n\r\n    1. `ign gazebo -v 4 --record -r --record_path /tmp/level_log src/ign-gazebo/examples/worlds/levels.sdf --levels`\r\n    \r\n2. publish cmd vel to move the blue vehicle and wait for it to reach the end of the road \\(note down this sim time\\):\r\n\r\n    1. `ign topic -t \"/model/vehicle_blue/cmd_vel\" -m ignition.msgs.Twist -p \"linear: {x: 4.0}\"`\r\n    \r\n3. Exit gazebo and launch playback:\r\n\r\n    1. `ign gazebo -v 4 -p /tmp/level_log`\r\n    \r\n4. Seek to the time when the vehicle is at the end of the road, e.g. with the attached `state.tlog`,\r\n\r\n    1. `ign service -s /world/default/playback/control --reqtype ignition.msgs.LogPlaybackControl --reptype ignition.msgs.Boolean --timeout 5000 --req \"seek: {sec: 30}, pause: false\"`\r\n    \r\n5. Now seek back to an earlier time when the vehicle was half way through the levels, e.g.\r\n\r\n    1. `ign service -s /world/default/playback/control --reqtype ignition.msgs.LogPlaybackControl --reptype ignition.msgs.Boolean --timeout 5000 --req \"seek: {sec: 10}, pause: false\"`\r\n    \r\n6. Notice that the level does not not get loaded properly:\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/2385464638-seek_level.png)\r\n**Expected behavior:**\r\n\r\nThe middle level should be loaded\r\n\r\n**Actual behavior:**\r\n\r\n1. The level was not loaded:\r\n\r\n**Reproduces how often:**\r\n\r\nAll the time\r\n\r\n# Versions\r\n\r\nign-gazebo 2.0\r\n\r\n# Additional Information\r\n\r\nrelated [subt issue](https://bitbucket.org/osrf/subt/issues/311/ign-log-playback-issue#comment-55517711)", "old": "# Description\r\n\r\nWhen seeking to a particular time in the log file, the levels may not be loaded correctly\r\n\r\n# Steps to Reproduce\r\n\r\n1. launch `examples/levels.sdf` with recording enabled\r\n\r\n    1. `ign gazebo -v 4 --record -r --record_path /tmp/level_log src/ign-gazebo/examples/worlds/levels.sdf --levels`\r\n    \r\n2. publish cmd vel to move the blue vehicle and wait for it to reach the end of the road \\(note down this sim time\\):\r\n\r\n    1. `ign topic -t \"/model/vehicle_blue/cmd_vel\" -m ignition.msgs.Twist -p \"linear: {x: 4.0}\"`\r\n    \r\n3. Exit gazebo and launch playback:\r\n\r\n    1. `ign gazebo -v 4 -p /tmp/level_log`\r\n    \r\n4. Seek to the time when the vehicle is at the end of the road, e.g.\r\n\r\n    1. `ign service -s /world/default/playback/control --reqtype ignition.msgs.LogPlaybackControl --reptype ignition.msgs.Boolean --timeout 5000 --req \"seek: {sec: 10}, pause: false\"`\r\n    \r\n5. Now seek back to an earlier time when the vehicle was half way through the levels, e.g.\r\n\r\n    1. `ign service -s /world/default/playback/control --reqtype ignition.msgs.LogPlaybackControl --reptype ignition.msgs.Boolean --timeout 5000 --req \"seek: {sec: 10}, pause: false\"`\r\n    \r\n6. The level does not not get properly:\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/2385464638-seek_level.png)\r\n**Expected behavior:**\r\n\r\nThe middle level should be loaded\r\n\r\n**Actual behavior:**\r\n\r\n1. The level was not loaded:\r\n\r\n**Reproduces how often:**\r\n\r\nAll the time\r\n\r\n# Versions\r\n\r\nign-gazebo 2.0\r\n\r\n# Additional Information\r\n\r\nrelated [subt issue](https://bitbucket.org/osrf/subt/issues/311/ign-log-playback-issue#comment-55517711)"}}, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/46/changes/55522593.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/46#comment-55522593"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/46.json"}}, "type": "issue", "id": 46, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "Levels are not get loaded correctly on log playbck"}, "created_on": "2020-01-04T01:14:29.830265+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "message": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "type": "issue_change", "id": 55522593}