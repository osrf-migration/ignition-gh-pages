{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/20/comments/51340923.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/20#comment-51340923"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/20.json"}}, "type": "issue", "id": 20, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "Current performance of ignition robotic libraries"}, "content": {"raw": "You are right, I call it many times in [here](https://github.com/robotology/gym-ignition/blob/4cfe7ac273e2d73815fb2fdd7af6692f2b43f9cc/ignition/src/IgnitionRobot.cpp#L364-L366) (function body [`IgnitionRobot::Impl::getOrCreateComponent`](https://github.com/robotology/gym-ignition/blob/4cfe7ac273e2d73815fb2fdd7af6692f2b43f9cc/ignition/src/IgnitionRobot.cpp#L117-L128)), and a component is removed every step in [`PhysicsPrivate::UpdateSim`](https://github.com/diegoferigo/ign-gazebo/blob/30d81368548637c4ae59a5c4b1abe44a9153a86c/src/systems/physics/Physics.cc#L675-L678). I saw the component cache in the codebase, and I wrongly thought that the component itself was somehow cached.\n\nI'll try to optimize it e.g. by setting the force to 0 in the `UpdateSim` stage instead of removing its component. I'll report soon updates, thanks for your help so far.", "markup": "markdown", "html": "<p>You are right, I call it many times in <a data-is-external-link=\"true\" href=\"https://github.com/robotology/gym-ignition/blob/4cfe7ac273e2d73815fb2fdd7af6692f2b43f9cc/ignition/src/IgnitionRobot.cpp#L364-L366\" rel=\"nofollow\">here</a> (function body <a data-is-external-link=\"true\" href=\"https://github.com/robotology/gym-ignition/blob/4cfe7ac273e2d73815fb2fdd7af6692f2b43f9cc/ignition/src/IgnitionRobot.cpp#L117-L128\" rel=\"nofollow\"><code>IgnitionRobot::Impl::getOrCreateComponent</code></a>), and a component is removed every step in <a data-is-external-link=\"true\" href=\"https://github.com/diegoferigo/ign-gazebo/blob/30d81368548637c4ae59a5c4b1abe44a9153a86c/src/systems/physics/Physics.cc#L675-L678\" rel=\"nofollow\"><code>PhysicsPrivate::UpdateSim</code></a>. I saw the component cache in the codebase, and I wrongly thought that the component itself was somehow cached.</p>\n<p>I'll try to optimize it e.g. by setting the force to 0 in the <code>UpdateSim</code> stage instead of removing its component. I'll report soon updates, thanks for your help so far.</p>", "type": "rendered"}, "created_on": "2019-03-26T17:35:45.014649+00:00", "user": {"display_name": "Diego Ferigo", "uuid": "{994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D"}, "html": {"href": "https://bitbucket.org/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:054df869-5cda-48f2-8b4e-81a61c133346/130cd3bf-aa0a-4355-bec2-c90f195acc4c/128"}}, "nickname": "dgferigo", "type": "user", "account_id": "557058:054df869-5cda-48f2-8b4e-81a61c133346"}, "updated_on": "2019-03-27T08:14:35.347159+00:00", "type": "issue_comment", "id": 51340923}