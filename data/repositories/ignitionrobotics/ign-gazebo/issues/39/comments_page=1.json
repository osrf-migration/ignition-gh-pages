{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/39/comments/54122093.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/39#comment-54122093"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/39.json"}}, "type": "issue", "id": 39, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "Load model during runtime: how to run model plugins?"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2019-09-29T17:17:36.795457+00:00", "user": {"display_name": "Diego Ferigo", "uuid": "{994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D"}, "html": {"href": "https://bitbucket.org/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:054df869-5cda-48f2-8b4e-81a61c133346/130cd3bf-aa0a-4355-bec2-c90f195acc4c/128"}}, "nickname": "dgferigo", "type": "user", "account_id": "557058:054df869-5cda-48f2-8b4e-81a61c133346"}, "updated_on": null, "type": "issue_comment", "id": 54122093}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/39/comments/54274156.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/39#comment-54274156"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/39.json"}}, "type": "issue", "id": 39, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "Load model during runtime: how to run model plugins?"}, "content": {"raw": "I found that due to a problem in the SDF generation from C\\+\\+ code, the plugin SDF element was not correctly inserted in the DOM of the object I was sending.\n\nThe responsible of processing the `sdf::Model*` object and creating its entities and components is [SdfEntityCreator.hh](#!/ignitionrobotics/ign-gazebo/src/default/include/ignition/gazebo/SdfEntityCreator.hh), which has the support of loading model plugins. Therefore, this issue can be closed.\n\nWhat\u2019s still missing, instead, is the plugin unloading when the model is removed from the world. The object exposing the `gazebo::System` which loaded from the plugin is deleted only when the `ignition::gazebo::Server` is destroyed in the end of the simulation. It might create an effect similar to a memory leak if the process of adding and removing models is repeated hundreds of times. Instead, from what I know, entities should be cached.\n\n\u200c\n\n\u200c", "markup": "markdown", "html": "<p>I found that due to a problem in the SDF generation from C++ code, the plugin SDF element was not correctly inserted in the DOM of the object I was sending.</p>\n<p>The responsible of processing the <code>sdf::Model*</code> object and creating its entities and components is <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/src/default/include/ignition/gazebo/SdfEntityCreator.hh\" rel=\"nofollow\">SdfEntityCreator.hh</a>, which has the support of loading model plugins. Therefore, this issue can be closed.</p>\n<p>What\u2019s still missing, instead, is the plugin unloading when the model is removed from the world. The object exposing the <code>gazebo::System</code> which loaded from the plugin is deleted only when the <code>ignition::gazebo::Server</code> is destroyed in the end of the simulation. It might create an effect similar to a memory leak if the process of adding and removing models is repeated hundreds of times. Instead, from what I know, entities should be cached.</p>\n<p>\u200c</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2019-10-09T12:56:06.122701+00:00", "user": {"display_name": "Diego Ferigo", "uuid": "{994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D"}, "html": {"href": "https://bitbucket.org/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:054df869-5cda-48f2-8b4e-81a61c133346/130cd3bf-aa0a-4355-bec2-c90f195acc4c/128"}}, "nickname": "dgferigo", "type": "user", "account_id": "557058:054df869-5cda-48f2-8b4e-81a61c133346"}, "updated_on": "2019-10-09T12:57:08.418488+00:00", "type": "issue_comment", "id": 54274156}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/39/comments/54350520.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/39#comment-54350520"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/39.json"}}, "type": "issue", "id": 39, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "Load model during runtime: how to run model plugins?"}, "content": {"raw": "@{557058:054df869-5cda-48f2-8b4e-81a61c133346} , glad to hear you figured out how to load plugins at runtime.\n\n> What\u2019s still missing, instead, is the plugin unloading when the model is removed from the world.\n\nThat's correct. I don't think there's an issue ticketed for this yet, and I didn't find a `TODO` in the code, but for sure the team has discussed this before. I just don't remember right now if we were missing some functionality in `ign-plugin` or if it's just a matter of implementing it in `ign-gazebo`.", "markup": "markdown", "html": "<p><span class=\"ap-mention\" data-atlassian-id=\"557058:054df869-5cda-48f2-8b4e-81a61c133346\">@Diego Ferigo</span> , glad to hear you figured out how to load plugins at runtime.</p>\n<blockquote>\n<p>What\u2019s still missing, instead, is the plugin unloading when the model is removed from the world.</p>\n</blockquote>\n<p>That's correct. I don't think there's an issue ticketed for this yet, and I didn't find a <code>TODO</code> in the code, but for sure the team has discussed this before. I just don't remember right now if we were missing some functionality in <code>ign-plugin</code> or if it's just a matter of implementing it in <code>ign-gazebo</code>.</p>", "type": "rendered"}, "created_on": "2019-10-15T07:26:04.684543+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-10-15T07:26:23.652382+00:00", "type": "issue_comment", "id": 54350520}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/39/comments/54351390.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/39#comment-54351390"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/39.json"}}, "type": "issue", "id": 39, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "Load model during runtime: how to run model plugins?"}, "content": {"raw": "@{557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8} Thanks for the feedback. Right now the plugin unload during model removal is not a blocking feature for us, though on the long run it would be a nice addition.\n\n\u200c", "markup": "markdown", "html": "<p><span class=\"ap-mention\" data-atlassian-id=\"557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8\">@Louise Poubel</span> Thanks for the feedback. Right now the plugin unload during model removal is not a blocking feature for us, though on the long run it would be a nice addition.</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2019-10-15T08:17:45.664283+00:00", "user": {"display_name": "Diego Ferigo", "uuid": "{994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D"}, "html": {"href": "https://bitbucket.org/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:054df869-5cda-48f2-8b4e-81a61c133346/130cd3bf-aa0a-4355-bec2-c90f195acc4c/128"}}, "nickname": "dgferigo", "type": "user", "account_id": "557058:054df869-5cda-48f2-8b4e-81a61c133346"}, "updated_on": null, "type": "issue_comment", "id": 54351390}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/39/comments/56801321.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/39#comment-56801321"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/39.json"}}, "type": "issue", "id": 39, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "Load model during runtime: how to run model plugins?"}, "content": {"raw": "Closing the issue since it has been solved", "markup": "markdown", "html": "<p>Closing the issue since it has been solved</p>", "type": "rendered"}, "created_on": "2020-04-05T15:32:53.027591+00:00", "user": {"display_name": "Diego Ferigo", "uuid": "{994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D"}, "html": {"href": "https://bitbucket.org/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:054df869-5cda-48f2-8b4e-81a61c133346/130cd3bf-aa0a-4355-bec2-c90f195acc4c/128"}}, "nickname": "dgferigo", "type": "user", "account_id": "557058:054df869-5cda-48f2-8b4e-81a61c133346"}, "updated_on": null, "type": "issue_comment", "id": 56801321}], "page": 1, "size": 5}