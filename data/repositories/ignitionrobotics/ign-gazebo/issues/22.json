{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/22/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/22.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/issues/22/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/22/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/22/touch-plugin-test-failing-on-osx"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/issues/22/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Touch plugin test failing on OSX", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Description \r\n\r\n`INTEGRATION_touch_plugin` has been failing on OSX. Pull request #244 is disabling them so we get a clean CI, but we should go back and fix this before the 2.0 release.\r\n\r\n# Steps to Reproduce\r\n\r\n* Search in the homebrew  CI results for `INTEGRATION_touch_plugin`\r\n* or, if you have a mac, you should be able to reproduce it locally\r\n\r\n**Expected behavior:**  \r\n\r\nTest passes\r\n\r\n**Actual behavior:**\r\n\r\nTest fails because box contacts are not detected past a certain time.\r\n\r\nThese are the two failures:\r\n\r\n~~~\r\n71: [Dbg] [TouchPlugin.cc:295] Model [white_box] touched [green_box_for_white] exclusively for 3 s\r\n71: [Dbg] [TouchPlugin.cc:214] Stopped touch plugin [white_touches_only_green]\r\n71: [Dbg] [TouchPlugin.cc:207] Started touch plugin [white_touches_only_green]\r\n71: [Dbg] [TouchPlugin.cc:281] Model [white_box] started touching [green_box_for_white] at 7.201 s\r\n71: [Dbg] [TouchPlugin.cc:267] Not touching anything\r\n71: [Dbg] [TouchPlugin.cc:281] Model [white_box] started touching [green_box_for_white] at 8.721 s\r\n71: /Users/jenkins/workspace/ignition_gazebo-ci-pr_any-homebrew-amd64/ign-gazebo/test/integration/touch_plugin.cc:105: Failure\r\n71: Value of: whiteTouched\r\n71:   Actual: false\r\n71: Expected: true\r\n71: [  FAILED  ] TouchPluginTest.OneLink (10580 ms)\r\n~~~\r\n\r\nand\r\n\r\n~~~\r\n71: [Dbg] [TouchPlugin.cc:281] Model [blue_box] started touching [green_box_for_blue] at 3.001 s\r\n71: [Dbg] [TouchPlugin.cc:295] Model [white_box] touched [green_box_for_white] exclusively for 3 s\r\n71: [Dbg] [TouchPlugin.cc:214] Stopped touch plugin [white_touches_only_green]\r\n71: [Dbg] [TouchPlugin.cc:267] Not touching anything\r\n71: [Dbg] [TouchPlugin.cc:281] Model [blue_box] started touching [green_box_for_blue] at 3.855 s\r\n71: [Dbg] [TouchPlugin.cc:267] Not touching anything\r\n71: [Dbg] [TouchPlugin.cc:281] Model [blue_box] started touching [green_box_for_blue] at 5.476 s\r\n71: /Users/jenkins/workspace/ignition_gazebo-ci-pr_any-homebrew-amd64/ign-gazebo/test/integration/touch_plugin.cc:182: Failure\r\n71: Value of: blueTouched\r\n71:   Actual: false\r\n71: Expected: true\r\n71: [  FAILED  ] TouchPluginTest.StartDisabled (7071 ms)\r\n~~~\r\n\r\nThis is how it looks like on success, note that there's no message about \"Not touching anything\".\r\n\r\n~~~\r\n71: [Dbg] [TouchPlugin.cc:295] Model [white_box] touched [green_box_for_white] exclusively for 3 s\r\n71: [Dbg] [TouchPlugin.cc:214] Stopped touch plugin [white_touches_only_green]\r\n71: [Dbg] [TouchPlugin.cc:207] Started touch plugin [white_touches_only_green]\r\n71: [Dbg] [TouchPlugin.cc:281] Model [white_box] started touching [green_box_for_white] at 7.201 s\r\n71: [Dbg] [TouchPlugin.cc:295] Model [white_box] touched [green_box_for_white] exclusively for 3 s\r\n71: [Dbg] [TouchPlugin.cc:214] Stopped touch plugin [white_touches_only_green]\r\n71: [       OK ] TouchPluginTest.OneLink (3370 ms)\r\n~~~\r\n\r\n~~~\r\n71: [Dbg] [TouchPlugin.cc:281] Model [blue_box] started touching [green_box_for_blue] at 3.001 s\r\n71: [Dbg] [TouchPlugin.cc:295] Model [white_box] touched [green_box_for_white] exclusively for 3 s\r\n71: [Dbg] [TouchPlugin.cc:214] Stopped touch plugin [white_touches_only_green]\r\n71: [Dbg] [TouchPlugin.cc:295] Model [blue_box] touched [green_box_for_blue] exclusively for 2 s\r\n71: [Dbg] [TouchPlugin.cc:214] Stopped touch plugin [blue_touches_only_green]\r\n71: [       OK ] TouchPluginTest.StartDisabled (1900 ms)\r\n~~~\r\n\r\n\r\n\r\n**Reproduces how often:** \r\n\r\n100% on homebrew\r\n\r\n# Versions\r\n\r\nAll\r\n\r\n# Additional Information", "markup": "markdown", "html": "<h1 id=\"markdown-header-description\">Description</h1>\n<p><code>INTEGRATION_touch_plugin</code> has been failing on OSX. <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/244/acropolis-clean-ci-disable-test-known-to\" rel=\"nofollow\" class=\"ap-connect-link\">Pull request #244</a> is disabling them so we get a clean CI, but we should go back and fix this before the 2.0 release.</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to Reproduce</h1>\n<ul>\n<li>Search in the homebrew  CI results for <code>INTEGRATION_touch_plugin</code></li>\n<li>or, if you have a mac, you should be able to reproduce it locally</li>\n</ul>\n<p><strong>Expected behavior:</strong>  </p>\n<p>Test passes</p>\n<p><strong>Actual behavior:</strong></p>\n<p>Test fails because box contacts are not detected past a certain time.</p>\n<p>These are the two failures:</p>\n<div class=\"codehilite\"><pre><span></span>71: [Dbg] [TouchPlugin.cc:295] Model [white_box] touched [green_box_for_white] exclusively for 3 s\n71: [Dbg] [TouchPlugin.cc:214] Stopped touch plugin [white_touches_only_green]\n71: [Dbg] [TouchPlugin.cc:207] Started touch plugin [white_touches_only_green]\n71: [Dbg] [TouchPlugin.cc:281] Model [white_box] started touching [green_box_for_white] at 7.201 s\n71: [Dbg] [TouchPlugin.cc:267] Not touching anything\n71: [Dbg] [TouchPlugin.cc:281] Model [white_box] started touching [green_box_for_white] at 8.721 s\n71: /Users/jenkins/workspace/ignition_gazebo-ci-pr_any-homebrew-amd64/ign-gazebo/test/integration/touch_plugin.cc:105: Failure\n71: Value of: whiteTouched\n71:   Actual: false\n71: Expected: true\n71: [  FAILED  ] TouchPluginTest.OneLink (10580 ms)\n</pre></div>\n\n\n<p>and</p>\n<div class=\"codehilite\"><pre><span></span>71: [Dbg] [TouchPlugin.cc:281] Model [blue_box] started touching [green_box_for_blue] at 3.001 s\n71: [Dbg] [TouchPlugin.cc:295] Model [white_box] touched [green_box_for_white] exclusively for 3 s\n71: [Dbg] [TouchPlugin.cc:214] Stopped touch plugin [white_touches_only_green]\n71: [Dbg] [TouchPlugin.cc:267] Not touching anything\n71: [Dbg] [TouchPlugin.cc:281] Model [blue_box] started touching [green_box_for_blue] at 3.855 s\n71: [Dbg] [TouchPlugin.cc:267] Not touching anything\n71: [Dbg] [TouchPlugin.cc:281] Model [blue_box] started touching [green_box_for_blue] at 5.476 s\n71: /Users/jenkins/workspace/ignition_gazebo-ci-pr_any-homebrew-amd64/ign-gazebo/test/integration/touch_plugin.cc:182: Failure\n71: Value of: blueTouched\n71:   Actual: false\n71: Expected: true\n71: [  FAILED  ] TouchPluginTest.StartDisabled (7071 ms)\n</pre></div>\n\n\n<p>This is how it looks like on success, note that there's no message about \"Not touching anything\".</p>\n<div class=\"codehilite\"><pre><span></span>71: [Dbg] [TouchPlugin.cc:295] Model [white_box] touched [green_box_for_white] exclusively for 3 s\n71: [Dbg] [TouchPlugin.cc:214] Stopped touch plugin [white_touches_only_green]\n71: [Dbg] [TouchPlugin.cc:207] Started touch plugin [white_touches_only_green]\n71: [Dbg] [TouchPlugin.cc:281] Model [white_box] started touching [green_box_for_white] at 7.201 s\n71: [Dbg] [TouchPlugin.cc:295] Model [white_box] touched [green_box_for_white] exclusively for 3 s\n71: [Dbg] [TouchPlugin.cc:214] Stopped touch plugin [white_touches_only_green]\n71: [       OK ] TouchPluginTest.OneLink (3370 ms)\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>71: [Dbg] [TouchPlugin.cc:281] Model [blue_box] started touching [green_box_for_blue] at 3.001 s\n71: [Dbg] [TouchPlugin.cc:295] Model [white_box] touched [green_box_for_white] exclusively for 3 s\n71: [Dbg] [TouchPlugin.cc:214] Stopped touch plugin [white_touches_only_green]\n71: [Dbg] [TouchPlugin.cc:295] Model [blue_box] touched [green_box_for_blue] exclusively for 2 s\n71: [Dbg] [TouchPlugin.cc:214] Stopped touch plugin [blue_touches_only_green]\n71: [       OK ] TouchPluginTest.StartDisabled (1900 ms)\n</pre></div>\n\n\n<p><strong>Reproduces how often:</strong> </p>\n<p>100% on homebrew</p>\n<h1 id=\"markdown-header-versions\">Versions</h1>\n<p>All</p>\n<h1 id=\"markdown-header-additional-information\">Additional Information</h1>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-03-29T21:47:11.735397+00:00", "milestone": null, "updated_on": "2019-03-29T21:47:11.735397+00:00", "type": "issue", "id": 22}