{"changes": {"content": {"new": "This issue collects all known flaky tests, we should update it as we observe new flaky tests or if they stop flaking.\r\n\r\n:snowflake: :snowflake: :snowflake:\r\n\r\n## PERFORMANCE_each\r\n\r\n**Platforms**: Jenkins Ubuntu and Pipelines\r\n\r\nFailures:\r\n\r\n~~~\r\n39: [ RUN      ] EntityComponentManagerPerfrormance.Each\r\n39: /opt/atlassian/pipelines/agent/build/test/performance/each.cc:141: Failure\r\n39: Expected: (cacheEntityAvg) < (cachelessEntityAvg), actual: 7200.83 vs 7170.62\r\n39: [  FAILED  ] EntityComponentManagerPerfrormance.Each (60561 ms)\r\n~~~\r\n\r\n## UNIT_SimulationRunner_TEST\r\n\r\n**Platforms**: Pipelines\r\n\r\nFailures:\r\n\r\n~~~\r\n19: /opt/atlassian/pipelines/agent/build/src/SimulationRunner_TEST.cc:958: Failure\r\n19: Value of: simTime.second\r\n19:   Actual: 100000000\r\n19: Expected: clockMsgs.back().mutable_sim()->nsec()\r\n19: Which is: 99000000\r\n~~~\r\n\r\n## INTEGRATION_network_handshake\r\n\r\n**Platforms**: Homebrew\r\n\r\nFailures:\r\n\r\n~~~\r\n/Users/jenkins/workspace/ignition_gazebo-ci-pr_any-homebrew-amd64/ign-gazebo/test/integration/network_handshake.cc:56\r\nValue of: success\r\n  Actual: 4-byte object <01-00 00-00>\r\nExpected: std::cv_status::no_timeout\r\nWhich is: 4-byte object <00-00 00-00>\r\n~~~\r\n\r\n## UNIT_PeerTracker_TEST\r\n\r\n**Platforms**: Homebrew\r\n\r\nFailures:\r\n\r\n~~~\r\n/Users/jenkins/workspace/ignition_gazebo-ci-pr_any-homebrew-amd64/ign-gazebo/src/network/PeerTracker_TEST.cc:258\r\nValue of: tracker3.NumPeers()\r\n  Actual: 0\r\nExpected: 1u\r\nWhich is: 1\r\n~~~", "old": "# Prerequisites\r\n\r\n* [ X ] Put an X between the brackets on this line if you have done all of the following:\r\n    * Checked the Q&A board for common solutions: http://answers.gazebosim.org\r\n    * Checked that your issue isn't already filed.\r\n    * Checked that there is not already an Ignition package that provides the described functionality: https://ignitionrobotics.org/libs\r\n\r\n# Description \r\n\r\nThe `PERFORMANCE_each` test is flaky both in Jenkins and on Pipelines.\r\n\r\n# Steps to Reproduce\r\n\r\n~~~\r\ncd  build\r\n./bin/PERFORMANCE_each\r\n~~~\r\n\r\n**Expected behavior:**  \r\n\r\nSuccess\r\n\r\n**Actual behavior:**\r\n\r\nI can't reproduce the failure locally, but this is the output on CI:\r\n\r\n~~~\r\n39: [ RUN      ] EntityComponentManagerPerfrormance.Each\r\n39: /opt/atlassian/pipelines/agent/build/test/performance/each.cc:141: Failure\r\n39: Expected: (cacheEntityAvg) < (cachelessEntityAvg), actual: 7200.83 vs 7170.62\r\n39: [  FAILED  ] EntityComponentManagerPerfrormance.Each (60561 ms)\r\n~~~\r\n\r\n**Reproduces how often:** \r\n\r\nNot always, maybe 20% of the time?\r\n\r\n# Versions\r\n\r\n`default` branch"}, "title": {"new": "Flaky tests", "old": "PERFORMANCE_each is flaky"}}, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/8/changes/51473584.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/8#comment-51473584"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/8.json"}}, "type": "issue", "id": 8, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "Flaky tests"}, "created_on": "2019-04-03T22:25:05.662615+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "message": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "type": "issue_change", "id": 51473584}