{"pagelen": 100, "values": [{"changes": {"content": {"new": "# Summary\r\n\r\nAllow performing single paused blocking simulation steps to update Systems. Systems could for example read new modifications of the ECM and take actions even if the simulated time is not going forward.\r\n\r\n# Motivation\r\n\r\nIn this moment, the `Server` class allows controlling the simulation in a reproducible way \\(issuing blocking calls\\) only in unpaused state. If the simulator is stepped in paused state, it will loop forever.\r\n\r\nI would expect that a single paused step would be executed similarly to unpaused ones.\r\n\r\nExample:\r\n\r\n```c++\r\n#include <ignition/gazebo/Server.hh>\r\n#include <ignition/gazebo/ServerConfig.hh>\r\n\r\n\r\nint main(int /*argc*/, char* /*argv*/[])\r\n{\r\n    ignition::gazebo::ServerConfig config;\r\n    config.SetSdfFile(\"empty.sdf\");\r\n    config.SetUseLevels(false);\r\n    config.SetUpdateRate(1000);\r\n\r\n    // Create the server\r\n    ignition::gazebo::Server server(config);\r\n\r\n    // This is ok\r\n    std::cout << \"Running an unpaused blocking iteration...\" << std::endl;\r\n    server.Run(/*blocking=*/true, /*iterations=*/1, /*paused=*/false);\r\n    std::cout << \"... done\" << std::endl;\r\n\r\n    // This is looping forever\r\n    std::cout << \"Running a paused blocking iteration...\" << std::endl;\r\n    server.Run(/*blocking=*/true, /*iterations=*/1, /*paused=*/true);\r\n    std::cout << \"... done\" << std::endl;\r\n\r\n    return 0;\r\n}\r\n```\r\n\r\n```\r\ncmake_minimum_required(VERSION 3.12)\r\nproject(Test VERSION 0.1)\r\n\r\nset(CMAKE_CXX_STANDARD 17)\r\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\r\n\r\nfind_package(ignition-gazebo3 COMPONENTS all REQUIRED)\r\n\r\nadd_executable(Test test.cpp)\r\ntarget_link_libraries(Test PUBLIC ignition-gazebo3::core)\r\n```\r\n\r\n# Describe alternatives you've considered\r\n\r\nNone\r\n\r\n# Additional context\r\n\r\nThis is somehow related to [#!/ignitionrobotics/ign-gazebo/pull-requests/556](#!/ignitionrobotics/ign-gazebo/pull-requests/556). Executing paused steps could be now useful to process ECM updates without executing a physics step.", "old": "# Summary\r\n\r\nAllow performing single paused blocking simulation steps to update Systems. Systems could for example read new modifications of the ECM and take actions even if the simulated time is not going forward. \r\n\r\n# Motivation\r\n\r\nIn this moment, the `Server` class allows controlling the simulation in a reproducible way \\(issuing blocking calls\\) only in unpaused state. If the simulator is stepped in paused state, it will loop forever.\r\n\r\nI would expect that a single paused step would be executed similarly to unpaused ones. \r\n\r\nExample:\r\n\r\n```c++\r\n#include <ignition/gazebo/Server.hh>\r\n#include <ignition/gazebo/ServerConfig.hh>\r\n\r\n\r\nint main(int /*argc*/, char */*argv*/[])\r\n{\r\n    ignition::gazebo::ServerConfig config;\r\n    config.SetSdfFile(\"empty.sdf\");\r\n    config.SetUseLevels(false);\r\n    config.SetUpdateRate(1000);\r\n\r\n    // Create the server\r\n    ignition::gazebo::Server server(config);\r\n\r\n    // This is ok\r\n    std::cout << \"Running an unpaused blocking iteration...\" << std::endl;\r\n    server.Run(/*blocking=*/true, /*iterations=*/1, /*paused=*/false);\r\n    std::cout << \"... done\" << std::endl;\r\n\r\n    // This is looping forever\r\n    std::cout << \"Running a paused blocking iteration...\" << std::endl;\r\n    server.Run(/*blocking=*/true, /*iterations=*/1, /*paused=*/true);\r\n    std::cout << \"... done\" << std::endl;\r\n\r\n    return 0;\r\n}\r\n```\r\n\r\n```\r\ncmake_minimum_required(VERSION 3.12)\r\nproject(Test VERSION 0.1)\r\n\r\nset(CMAKE_CXX_STANDARD 17)\r\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\r\n\r\nfind_package(ignition-gazebo3 COMPONENTS all REQUIRED)\r\n\r\nadd_executable(Test test.cpp)\r\ntarget_link_libraries(Test PUBLIC ignition-gazebo3::core)\r\n```\r\n\r\n# Describe alternatives you've considered\r\n\r\nNone\r\n\r\n# Additional context\r\n\r\nThis is somehow related to [#!/ignitionrobotics/ign-gazebo/pull-requests/556](#!/ignitionrobotics/ign-gazebo/pull-requests/556). Executing paused steps could be now useful to process ECM updates without executing a physics step."}}, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/51/changes/56500166.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/51#comment-56500166"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/51.json"}}, "type": "issue", "id": 51, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "Allow stepping the simulator in paused state"}, "created_on": "2020-03-12T10:26:52.141145+00:00", "user": {"display_name": "Diego Ferigo", "uuid": "{994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D"}, "html": {"href": "https://bitbucket.org/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:054df869-5cda-48f2-8b4e-81a61c133346/130cd3bf-aa0a-4355-bec2-c90f195acc4c/128"}}, "nickname": "dgferigo", "type": "user", "account_id": "557058:054df869-5cda-48f2-8b4e-81a61c133346"}, "message": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "type": "issue_change", "id": 56500166}], "page": 1, "size": 1}