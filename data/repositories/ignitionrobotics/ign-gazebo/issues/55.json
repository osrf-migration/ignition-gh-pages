{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/55/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/55.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/issues/55/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/55/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/55/battery-plugin-freezes-joints"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/issues/55/vote"}}, "reporter": {"display_name": "Samuel Zimmermann", "uuid": "{5428542f-076a-4f88-b082-75a914e95fd3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5428542f-076a-4f88-b082-75a914e95fd3%7D"}, "html": {"href": "https://bitbucket.org/%7B5428542f-076a-4f88-b082-75a914e95fd3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:d9ff1b52-e1bf-4f76-bf85-b93e0280d3c3/c0bf86f2-cf31-4d83-9739-1bf3e02de481/128"}}, "nickname": "zsamuel", "type": "user", "account_id": "557058:d9ff1b52-e1bf-4f76-bf85-b93e0280d3c3"}, "title": "Battery Plugin freezes Joints", "component": null, "votes": 0, "watches": 3, "content": {"raw": "# Description\r\n\r\nIf the plugin libignition-gazebo-linearbatteryplugin-system.so is loaded together with a model that has a joint which is controlled with a torque i.e. JointForceCmd, the joint is frozen and does not move.\r\n\r\n# Steps to Reproduce\r\n\r\n1. Get a torque controlled model \\(joint\\_force\\_example for instance\\)\r\n2. Add the battery plugin \\(libignition-gazebo-linearbatteryplugin-system.so\\)\r\n3. Try to apply a force to the joint \\(e.g. ign topic -t \"/model/joint\\_force\\_example/joint/j1/cmd\\_force\" -m ignition.msgs.Double -p \"data: 0.001\"\\)\r\n\r\n**Expected behavior:**\r\n\r\nThe joint and so the upper plate should start rotating due to the applied force.\r\n\r\n**Actual behavior:**\r\n\r\nThe joint is frozen and the upper plate does not move.\r\n\r\n**Reproduces how often:**\r\n\r\nThree out of three times with this configuration.\r\n\r\n# Versions\r\n\r\nUbuntu 18.04, Ignition Gazebo, version 2.16.0\r\n\r\n# Additional Information\r\n\r\nSDF file attached that was used to observe the problem.\r\n\r\n\u200c\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n  <world name=\"battery_plugin_debug\">\r\n    <physics name=\"1ms\" type=\"ode\">\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1.0</real_time_factor>\r\n    </physics>\r\n    <plugin\r\n      filename=\"libignition-gazebo-physics-system.so\"\r\n      name=\"ignition::gazebo::systems::Physics\">\r\n    </plugin>\r\n    <plugin\r\n      filename=\"libignition-gazebo-user-commands-system.so\"\r\n      name=\"ignition::gazebo::systems::UserCommands\">\r\n    </plugin>\r\n    <plugin\r\n      filename=\"libignition-gazebo-scene-broadcaster-system.so\"\r\n      name=\"ignition::gazebo::systems::SceneBroadcaster\">\r\n    </plugin>\r\n    <plugin\r\n      filename=\"libignition-gazebo-contact-system.so\"\r\n      name=\"ignition::gazebo::systems::Contact\">\r\n    </plugin>\r\n\r\n    <gui fullscreen=\"0\">\r\n\r\n      <!-- 3D scene -->\r\n      <plugin filename=\"GzScene3D\" name=\"3D View\">\r\n        <ignition-gui>\r\n          <title>3D View</title>\r\n          <property type=\"bool\" key=\"showTitleBar\">false</property>\r\n          <property type=\"string\" key=\"state\">docked</property>\r\n        </ignition-gui>\r\n\r\n        <engine>ogre2</engine>\r\n        <scene>scene</scene>\r\n        <ambient_light>0.4 0.4 0.4</ambient_light>\r\n        <background_color>0.8 0.8 0.8</background_color>\r\n        <camera_pose>-6 0 6 0 0.5 0</camera_pose>\r\n      </plugin>\r\n\r\n      <!-- World control -->\r\n      <plugin filename=\"WorldControl\" name=\"World control\">\r\n        <ignition-gui>\r\n          <title>World control</title>\r\n          <property type=\"bool\" key=\"showTitleBar\">false</property>\r\n          <property type=\"bool\" key=\"resizable\">false</property>\r\n          <property type=\"double\" key=\"height\">72</property>\r\n          <property type=\"double\" key=\"width\">121</property>\r\n          <property type=\"double\" key=\"z\">1</property>\r\n\r\n          <property type=\"string\" key=\"state\">floating</property>\r\n          <anchors target=\"3D View\">\r\n            <line own=\"left\" target=\"left\"/>\r\n            <line own=\"bottom\" target=\"bottom\"/>\r\n          </anchors>\r\n        </ignition-gui>\r\n\r\n        <play_pause>true</play_pause>\r\n        <step>true</step>\r\n        <start_paused>true</start_paused>\r\n        <service>/world/battery_plugin_debug/control</service>\r\n        <stats_topic>/world/battery_plugin_debug/stats</stats_topic>\r\n\r\n      </plugin>\r\n\r\n      <!-- World statistics -->\r\n      <plugin filename=\"WorldStats\" name=\"World stats\">\r\n        <ignition-gui>\r\n          <title>World stats</title>\r\n          <property type=\"bool\" key=\"showTitleBar\">false</property>\r\n          <property type=\"bool\" key=\"resizable\">false</property>\r\n          <property type=\"double\" key=\"height\">110</property>\r\n          <property type=\"double\" key=\"width\">290</property>\r\n          <property type=\"double\" key=\"z\">1</property>\r\n\r\n          <property type=\"string\" key=\"state\">floating</property>\r\n          <anchors target=\"3D View\">\r\n            <line own=\"right\" target=\"right\"/>\r\n            <line own=\"bottom\" target=\"bottom\"/>\r\n          </anchors>\r\n        </ignition-gui>\r\n\r\n        <sim_time>true</sim_time>\r\n        <real_time>true</real_time>\r\n        <real_time_factor>true</real_time_factor>\r\n        <iterations>true</iterations>\r\n        <topic>/world/battery_plugin_debug/stats</topic>\r\n\r\n      </plugin>\r\n\r\n      <!-- Entity tree -->\r\n      <plugin filename=\"EntityTree\" name=\"Entity tree\">\r\n      </plugin>\r\n\r\n    </gui>\r\n\r\n    <light type=\"directional\" name=\"sun\">\r\n      <cast_shadows>true</cast_shadows>\r\n      <pose>0 0 10 0 0 0</pose>\r\n      <diffuse>0.8 0.8 0.8 1</diffuse>\r\n      <specular>0.2 0.2 0.2 1</specular>\r\n      <attenuation>\r\n        <range>1000</range>\r\n        <constant>0.9</constant>\r\n        <linear>0.01</linear>\r\n        <quadratic>0.001</quadratic>\r\n      </attenuation>\r\n      <direction>-0.5 0.1 -0.9</direction>\r\n    </light>\r\n\r\n    <model name=\"ground_plane\">\r\n      <static>true</static>\r\n      <link name=\"link\">\r\n        <collision name=\"collision\">\r\n          <geometry>\r\n            <plane>\r\n              <normal>0 0 1</normal>\r\n            </plane>\r\n          </geometry>\r\n        </collision>\r\n        <visual name=\"visual\">\r\n          <geometry>\r\n            <plane>\r\n              <normal>0 0 1</normal>\r\n              <size>100 100</size>\r\n            </plane>\r\n          </geometry>\r\n          <material>\r\n            <ambient>0.8 0.8 0.8 1</ambient>\r\n            <diffuse>0.8 0.8 0.8 1</diffuse>\r\n            <specular>0.8 0.8 0.8 1</specular>\r\n          </material>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n\r\n    <model name=\"joint_force_example\">\r\n     <pose>0 0 0.005 0 0 0</pose>\r\n     <link name=\"base_link\">\r\n       <pose>0.0 0.0 0.0 0 0 0</pose>\r\n       <inertial>\r\n         <inertia>\r\n           <ixx>2.501</ixx>\r\n           <ixy>0</ixy>\r\n           <ixz>0</ixz>\r\n           <iyy>2.501</iyy>\r\n           <iyz>0</iyz>\r\n           <izz>5</izz>\r\n         </inertia>\r\n         <mass>120.0</mass>\r\n       </inertial>\r\n       <visual name=\"base_visual\">\r\n         <pose>0.0 0.0 0.0 0 0 0</pose>\r\n         <geometry>\r\n           <box>\r\n             <size>0.5 0.5 0.01</size>\r\n           </box>\r\n         </geometry>\r\n         <material>\r\n           <ambient>1.0 0.0 0.0 1</ambient>\r\n           <diffuse>1.0 0.0 0.0 1</diffuse>\r\n           <specular>1.0 0.0 0.0 1</specular>\r\n         </material>\r\n       </visual>\r\n       <collision name=\"base_collision\">\r\n         <pose>0.0 0.0 0.0 0 0 0</pose>\r\n         <geometry>\r\n           <box>\r\n             <size>0.5 0.5 0.01</size>\r\n           </box>\r\n         </geometry>\r\n       </collision>\r\n     </link>\r\n     <link name=\"rotor\">\r\n       <pose>0.0 0.0 1.0 0.0 0 0</pose>\r\n       <inertial>\r\n         <pose>0.0 0.0 0.0 0 0 0</pose>\r\n         <inertia>\r\n           <ixx>0.032</ixx>\r\n           <ixy>0</ixy>\r\n           <ixz>0</ixz>\r\n           <iyy>0.032</iyy>\r\n           <iyz>0</iyz>\r\n           <izz>0.00012</izz>\r\n         </inertia>\r\n         <mass>0.6</mass>\r\n       </inertial>\r\n       <visual name=\"visual\">\r\n         <geometry>\r\n           <box>\r\n             <size>0.25 0.25 0.05</size>\r\n           </box>\r\n         </geometry>\r\n         <material>\r\n           <ambient>0.0 0.0 1.0 1</ambient>\r\n           <diffuse>0.0 0.0 1.0 1</diffuse>\r\n           <specular>0.0 0.0 1.0 1</specular>\r\n         </material>\r\n       </visual>\r\n       <collision name=\"collision\">\r\n         <geometry>\r\n           <box>\r\n             <size>0.25 0.25 0.05</size>\r\n           </box>\r\n         </geometry>\r\n       </collision>\r\n     </link>\r\n\r\n     <joint name=\"j1\" type=\"revolute\">\r\n       <pose>0 0 -0.5 0 0 0</pose>\r\n       <parent>base_link</parent>\r\n       <child>rotor</child>\r\n       <axis>\r\n         <xyz>0 0 1</xyz>\r\n         <dynamics>\r\n           <damping>0.0001</damping>\r\n         </dynamics>\r\n       </axis>\r\n     </joint>\r\n     <plugin\r\n       filename=\"libignition-gazebo-apply-joint-force-system.so\"\r\n       name=\"ignition::gazebo::systems::ApplyJointForce\">\r\n       <joint_name>j1</joint_name>\r\n     </plugin>\r\n\r\n     <plugin filename=\"libignition-gazebo-linearbatteryplugin-system.so\"\r\n       name=\"ignition::gazebo::systems::LinearBatteryPlugin\">\r\n       <battery_name>linear_battery</battery_name>\r\n       <voltage>12.592</voltage>\r\n       <open_circuit_voltage_constant_coef>12.694</open_circuit_voltage_constant_coef>\r\n       <open_circuit_voltage_linear_coef>-3.1424</open_circuit_voltage_linear_coef>\r\n       <initial_charge>1.1665</initial_charge>\r\n       <capacity>1.2009</capacity>\r\n       <resistance>0.061523</resistance>\r\n       <smooth_current_tau>1.9499</smooth_current_tau>\r\n       <power_load>1</power_load>\r\n       <start_on_motion>1</start_on_motion>\r\n     </plugin>\r\n\r\n    </model>\r\n  </world>\r\n</sdf>\r\n```\r\n\r\n\u200c", "markup": "markdown", "html": "<h1 id=\"markdown-header-description\">Description</h1>\n<p>If the plugin libignition-gazebo-linearbatteryplugin-system.so is loaded together with a model that has a joint which is controlled with a torque i.e. JointForceCmd, the joint is frozen and does not move.</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to Reproduce</h1>\n<ol>\n<li>Get a torque controlled model (joint_force_example for instance)</li>\n<li>Add the battery plugin (libignition-gazebo-linearbatteryplugin-system.so)</li>\n<li>Try to apply a force to the joint (e.g. ign topic -t \"/model/joint_force_example/joint/j1/cmd_force\" -m ignition.msgs.Double -p \"data: 0.001\")</li>\n</ol>\n<p><strong>Expected behavior:</strong></p>\n<p>The joint and so the upper plate should start rotating due to the applied force.</p>\n<p><strong>Actual behavior:</strong></p>\n<p>The joint is frozen and the upper plate does not move.</p>\n<p><strong>Reproduces how often:</strong></p>\n<p>Three out of three times with this configuration.</p>\n<h1 id=\"markdown-header-versions\">Versions</h1>\n<p>Ubuntu 18.04, Ignition Gazebo, version 2.16.0</p>\n<h1 id=\"markdown-header-additional-information\">Additional Information</h1>\n<p>SDF file attached that was used to observe the problem.</p>\n<p>\u200c</p>\n<div class=\"codehilite language-xml\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; ?&gt;</span>\n<span class=\"nt\">&lt;sdf</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.6&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;world</span> <span class=\"na\">name=</span><span class=\"s\">&quot;battery_plugin_debug&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;physics</span> <span class=\"na\">name=</span><span class=\"s\">&quot;1ms&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;ode&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;max_step_size&gt;</span>0.001<span class=\"nt\">&lt;/max_step_size&gt;</span>\n      <span class=\"nt\">&lt;real_time_factor&gt;</span>1.0<span class=\"nt\">&lt;/real_time_factor&gt;</span>\n    <span class=\"nt\">&lt;/physics&gt;</span>\n    <span class=\"nt\">&lt;plugin</span>\n      <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-physics-system.so&quot;</span>\n      <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::Physics&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;/plugin&gt;</span>\n    <span class=\"nt\">&lt;plugin</span>\n      <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-user-commands-system.so&quot;</span>\n      <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::UserCommands&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;/plugin&gt;</span>\n    <span class=\"nt\">&lt;plugin</span>\n      <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-scene-broadcaster-system.so&quot;</span>\n      <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::SceneBroadcaster&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;/plugin&gt;</span>\n    <span class=\"nt\">&lt;plugin</span>\n      <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-contact-system.so&quot;</span>\n      <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::Contact&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;/plugin&gt;</span>\n\n    <span class=\"nt\">&lt;gui</span> <span class=\"na\">fullscreen=</span><span class=\"s\">&quot;0&quot;</span><span class=\"nt\">&gt;</span>\n\n      <span class=\"c\">&lt;!-- 3D scene --&gt;</span>\n      <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;GzScene3D&quot;</span> <span class=\"na\">name=</span><span class=\"s\">&quot;3D View&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;ignition-gui&gt;</span>\n          <span class=\"nt\">&lt;title&gt;</span>3D View<span class=\"nt\">&lt;/title&gt;</span>\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;bool&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;showTitleBar&quot;</span><span class=\"nt\">&gt;</span>false<span class=\"nt\">&lt;/property&gt;</span>\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;string&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;state&quot;</span><span class=\"nt\">&gt;</span>docked<span class=\"nt\">&lt;/property&gt;</span>\n        <span class=\"nt\">&lt;/ignition-gui&gt;</span>\n\n        <span class=\"nt\">&lt;engine&gt;</span>ogre2<span class=\"nt\">&lt;/engine&gt;</span>\n        <span class=\"nt\">&lt;scene&gt;</span>scene<span class=\"nt\">&lt;/scene&gt;</span>\n        <span class=\"nt\">&lt;ambient_light&gt;</span>0.4 0.4 0.4<span class=\"nt\">&lt;/ambient_light&gt;</span>\n        <span class=\"nt\">&lt;background_color&gt;</span>0.8 0.8 0.8<span class=\"nt\">&lt;/background_color&gt;</span>\n        <span class=\"nt\">&lt;camera_pose&gt;</span>-6 0 6 0 0.5 0<span class=\"nt\">&lt;/camera_pose&gt;</span>\n      <span class=\"nt\">&lt;/plugin&gt;</span>\n\n      <span class=\"c\">&lt;!-- World control --&gt;</span>\n      <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;WorldControl&quot;</span> <span class=\"na\">name=</span><span class=\"s\">&quot;World control&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;ignition-gui&gt;</span>\n          <span class=\"nt\">&lt;title&gt;</span>World control<span class=\"nt\">&lt;/title&gt;</span>\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;bool&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;showTitleBar&quot;</span><span class=\"nt\">&gt;</span>false<span class=\"nt\">&lt;/property&gt;</span>\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;bool&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;resizable&quot;</span><span class=\"nt\">&gt;</span>false<span class=\"nt\">&lt;/property&gt;</span>\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;height&quot;</span><span class=\"nt\">&gt;</span>72<span class=\"nt\">&lt;/property&gt;</span>\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;width&quot;</span><span class=\"nt\">&gt;</span>121<span class=\"nt\">&lt;/property&gt;</span>\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;z&quot;</span><span class=\"nt\">&gt;</span>1<span class=\"nt\">&lt;/property&gt;</span>\n\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;string&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;state&quot;</span><span class=\"nt\">&gt;</span>floating<span class=\"nt\">&lt;/property&gt;</span>\n          <span class=\"nt\">&lt;anchors</span> <span class=\"na\">target=</span><span class=\"s\">&quot;3D View&quot;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;line</span> <span class=\"na\">own=</span><span class=\"s\">&quot;left&quot;</span> <span class=\"na\">target=</span><span class=\"s\">&quot;left&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;line</span> <span class=\"na\">own=</span><span class=\"s\">&quot;bottom&quot;</span> <span class=\"na\">target=</span><span class=\"s\">&quot;bottom&quot;</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;/anchors&gt;</span>\n        <span class=\"nt\">&lt;/ignition-gui&gt;</span>\n\n        <span class=\"nt\">&lt;play_pause&gt;</span>true<span class=\"nt\">&lt;/play_pause&gt;</span>\n        <span class=\"nt\">&lt;step&gt;</span>true<span class=\"nt\">&lt;/step&gt;</span>\n        <span class=\"nt\">&lt;start_paused&gt;</span>true<span class=\"nt\">&lt;/start_paused&gt;</span>\n        <span class=\"nt\">&lt;service&gt;</span>/world/battery_plugin_debug/control<span class=\"nt\">&lt;/service&gt;</span>\n        <span class=\"nt\">&lt;stats_topic&gt;</span>/world/battery_plugin_debug/stats<span class=\"nt\">&lt;/stats_topic&gt;</span>\n\n      <span class=\"nt\">&lt;/plugin&gt;</span>\n\n      <span class=\"c\">&lt;!-- World statistics --&gt;</span>\n      <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;WorldStats&quot;</span> <span class=\"na\">name=</span><span class=\"s\">&quot;World stats&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;ignition-gui&gt;</span>\n          <span class=\"nt\">&lt;title&gt;</span>World stats<span class=\"nt\">&lt;/title&gt;</span>\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;bool&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;showTitleBar&quot;</span><span class=\"nt\">&gt;</span>false<span class=\"nt\">&lt;/property&gt;</span>\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;bool&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;resizable&quot;</span><span class=\"nt\">&gt;</span>false<span class=\"nt\">&lt;/property&gt;</span>\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;height&quot;</span><span class=\"nt\">&gt;</span>110<span class=\"nt\">&lt;/property&gt;</span>\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;width&quot;</span><span class=\"nt\">&gt;</span>290<span class=\"nt\">&lt;/property&gt;</span>\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;double&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;z&quot;</span><span class=\"nt\">&gt;</span>1<span class=\"nt\">&lt;/property&gt;</span>\n\n          <span class=\"nt\">&lt;property</span> <span class=\"na\">type=</span><span class=\"s\">&quot;string&quot;</span> <span class=\"na\">key=</span><span class=\"s\">&quot;state&quot;</span><span class=\"nt\">&gt;</span>floating<span class=\"nt\">&lt;/property&gt;</span>\n          <span class=\"nt\">&lt;anchors</span> <span class=\"na\">target=</span><span class=\"s\">&quot;3D View&quot;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;line</span> <span class=\"na\">own=</span><span class=\"s\">&quot;right&quot;</span> <span class=\"na\">target=</span><span class=\"s\">&quot;right&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;line</span> <span class=\"na\">own=</span><span class=\"s\">&quot;bottom&quot;</span> <span class=\"na\">target=</span><span class=\"s\">&quot;bottom&quot;</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;/anchors&gt;</span>\n        <span class=\"nt\">&lt;/ignition-gui&gt;</span>\n\n        <span class=\"nt\">&lt;sim_time&gt;</span>true<span class=\"nt\">&lt;/sim_time&gt;</span>\n        <span class=\"nt\">&lt;real_time&gt;</span>true<span class=\"nt\">&lt;/real_time&gt;</span>\n        <span class=\"nt\">&lt;real_time_factor&gt;</span>true<span class=\"nt\">&lt;/real_time_factor&gt;</span>\n        <span class=\"nt\">&lt;iterations&gt;</span>true<span class=\"nt\">&lt;/iterations&gt;</span>\n        <span class=\"nt\">&lt;topic&gt;</span>/world/battery_plugin_debug/stats<span class=\"nt\">&lt;/topic&gt;</span>\n\n      <span class=\"nt\">&lt;/plugin&gt;</span>\n\n      <span class=\"c\">&lt;!-- Entity tree --&gt;</span>\n      <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;EntityTree&quot;</span> <span class=\"na\">name=</span><span class=\"s\">&quot;Entity tree&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;/plugin&gt;</span>\n\n    <span class=\"nt\">&lt;/gui&gt;</span>\n\n    <span class=\"nt\">&lt;light</span> <span class=\"na\">type=</span><span class=\"s\">&quot;directional&quot;</span> <span class=\"na\">name=</span><span class=\"s\">&quot;sun&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;cast_shadows&gt;</span>true<span class=\"nt\">&lt;/cast_shadows&gt;</span>\n      <span class=\"nt\">&lt;pose&gt;</span>0 0 10 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n      <span class=\"nt\">&lt;diffuse&gt;</span>0.8 0.8 0.8 1<span class=\"nt\">&lt;/diffuse&gt;</span>\n      <span class=\"nt\">&lt;specular&gt;</span>0.2 0.2 0.2 1<span class=\"nt\">&lt;/specular&gt;</span>\n      <span class=\"nt\">&lt;attenuation&gt;</span>\n        <span class=\"nt\">&lt;range&gt;</span>1000<span class=\"nt\">&lt;/range&gt;</span>\n        <span class=\"nt\">&lt;constant&gt;</span>0.9<span class=\"nt\">&lt;/constant&gt;</span>\n        <span class=\"nt\">&lt;linear&gt;</span>0.01<span class=\"nt\">&lt;/linear&gt;</span>\n        <span class=\"nt\">&lt;quadratic&gt;</span>0.001<span class=\"nt\">&lt;/quadratic&gt;</span>\n      <span class=\"nt\">&lt;/attenuation&gt;</span>\n      <span class=\"nt\">&lt;direction&gt;</span>-0.5 0.1 -0.9<span class=\"nt\">&lt;/direction&gt;</span>\n    <span class=\"nt\">&lt;/light&gt;</span>\n\n    <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;ground_plane&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;static&gt;</span>true<span class=\"nt\">&lt;/static&gt;</span>\n      <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;link&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&quot;collision&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;geometry&gt;</span>\n            <span class=\"nt\">&lt;plane&gt;</span>\n              <span class=\"nt\">&lt;normal&gt;</span>0 0 1<span class=\"nt\">&lt;/normal&gt;</span>\n            <span class=\"nt\">&lt;/plane&gt;</span>\n          <span class=\"nt\">&lt;/geometry&gt;</span>\n        <span class=\"nt\">&lt;/collision&gt;</span>\n        <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&quot;visual&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;geometry&gt;</span>\n            <span class=\"nt\">&lt;plane&gt;</span>\n              <span class=\"nt\">&lt;normal&gt;</span>0 0 1<span class=\"nt\">&lt;/normal&gt;</span>\n              <span class=\"nt\">&lt;size&gt;</span>100 100<span class=\"nt\">&lt;/size&gt;</span>\n            <span class=\"nt\">&lt;/plane&gt;</span>\n          <span class=\"nt\">&lt;/geometry&gt;</span>\n          <span class=\"nt\">&lt;material&gt;</span>\n            <span class=\"nt\">&lt;ambient&gt;</span>0.8 0.8 0.8 1<span class=\"nt\">&lt;/ambient&gt;</span>\n            <span class=\"nt\">&lt;diffuse&gt;</span>0.8 0.8 0.8 1<span class=\"nt\">&lt;/diffuse&gt;</span>\n            <span class=\"nt\">&lt;specular&gt;</span>0.8 0.8 0.8 1<span class=\"nt\">&lt;/specular&gt;</span>\n          <span class=\"nt\">&lt;/material&gt;</span>\n        <span class=\"nt\">&lt;/visual&gt;</span>\n      <span class=\"nt\">&lt;/link&gt;</span>\n    <span class=\"nt\">&lt;/model&gt;</span>\n\n    <span class=\"nt\">&lt;model</span> <span class=\"na\">name=</span><span class=\"s\">&quot;joint_force_example&quot;</span><span class=\"nt\">&gt;</span>\n     <span class=\"nt\">&lt;pose&gt;</span>0 0 0.005 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n     <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;base_link&quot;</span><span class=\"nt\">&gt;</span>\n       <span class=\"nt\">&lt;pose&gt;</span>0.0 0.0 0.0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n       <span class=\"nt\">&lt;inertial&gt;</span>\n         <span class=\"nt\">&lt;inertia&gt;</span>\n           <span class=\"nt\">&lt;ixx&gt;</span>2.501<span class=\"nt\">&lt;/ixx&gt;</span>\n           <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n           <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n           <span class=\"nt\">&lt;iyy&gt;</span>2.501<span class=\"nt\">&lt;/iyy&gt;</span>\n           <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n           <span class=\"nt\">&lt;izz&gt;</span>5<span class=\"nt\">&lt;/izz&gt;</span>\n         <span class=\"nt\">&lt;/inertia&gt;</span>\n         <span class=\"nt\">&lt;mass&gt;</span>120.0<span class=\"nt\">&lt;/mass&gt;</span>\n       <span class=\"nt\">&lt;/inertial&gt;</span>\n       <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&quot;base_visual&quot;</span><span class=\"nt\">&gt;</span>\n         <span class=\"nt\">&lt;pose&gt;</span>0.0 0.0 0.0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n         <span class=\"nt\">&lt;geometry&gt;</span>\n           <span class=\"nt\">&lt;box&gt;</span>\n             <span class=\"nt\">&lt;size&gt;</span>0.5 0.5 0.01<span class=\"nt\">&lt;/size&gt;</span>\n           <span class=\"nt\">&lt;/box&gt;</span>\n         <span class=\"nt\">&lt;/geometry&gt;</span>\n         <span class=\"nt\">&lt;material&gt;</span>\n           <span class=\"nt\">&lt;ambient&gt;</span>1.0 0.0 0.0 1<span class=\"nt\">&lt;/ambient&gt;</span>\n           <span class=\"nt\">&lt;diffuse&gt;</span>1.0 0.0 0.0 1<span class=\"nt\">&lt;/diffuse&gt;</span>\n           <span class=\"nt\">&lt;specular&gt;</span>1.0 0.0 0.0 1<span class=\"nt\">&lt;/specular&gt;</span>\n         <span class=\"nt\">&lt;/material&gt;</span>\n       <span class=\"nt\">&lt;/visual&gt;</span>\n       <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&quot;base_collision&quot;</span><span class=\"nt\">&gt;</span>\n         <span class=\"nt\">&lt;pose&gt;</span>0.0 0.0 0.0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n         <span class=\"nt\">&lt;geometry&gt;</span>\n           <span class=\"nt\">&lt;box&gt;</span>\n             <span class=\"nt\">&lt;size&gt;</span>0.5 0.5 0.01<span class=\"nt\">&lt;/size&gt;</span>\n           <span class=\"nt\">&lt;/box&gt;</span>\n         <span class=\"nt\">&lt;/geometry&gt;</span>\n       <span class=\"nt\">&lt;/collision&gt;</span>\n     <span class=\"nt\">&lt;/link&gt;</span>\n     <span class=\"nt\">&lt;link</span> <span class=\"na\">name=</span><span class=\"s\">&quot;rotor&quot;</span><span class=\"nt\">&gt;</span>\n       <span class=\"nt\">&lt;pose&gt;</span>0.0 0.0 1.0 0.0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n       <span class=\"nt\">&lt;inertial&gt;</span>\n         <span class=\"nt\">&lt;pose&gt;</span>0.0 0.0 0.0 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n         <span class=\"nt\">&lt;inertia&gt;</span>\n           <span class=\"nt\">&lt;ixx&gt;</span>0.032<span class=\"nt\">&lt;/ixx&gt;</span>\n           <span class=\"nt\">&lt;ixy&gt;</span>0<span class=\"nt\">&lt;/ixy&gt;</span>\n           <span class=\"nt\">&lt;ixz&gt;</span>0<span class=\"nt\">&lt;/ixz&gt;</span>\n           <span class=\"nt\">&lt;iyy&gt;</span>0.032<span class=\"nt\">&lt;/iyy&gt;</span>\n           <span class=\"nt\">&lt;iyz&gt;</span>0<span class=\"nt\">&lt;/iyz&gt;</span>\n           <span class=\"nt\">&lt;izz&gt;</span>0.00012<span class=\"nt\">&lt;/izz&gt;</span>\n         <span class=\"nt\">&lt;/inertia&gt;</span>\n         <span class=\"nt\">&lt;mass&gt;</span>0.6<span class=\"nt\">&lt;/mass&gt;</span>\n       <span class=\"nt\">&lt;/inertial&gt;</span>\n       <span class=\"nt\">&lt;visual</span> <span class=\"na\">name=</span><span class=\"s\">&quot;visual&quot;</span><span class=\"nt\">&gt;</span>\n         <span class=\"nt\">&lt;geometry&gt;</span>\n           <span class=\"nt\">&lt;box&gt;</span>\n             <span class=\"nt\">&lt;size&gt;</span>0.25 0.25 0.05<span class=\"nt\">&lt;/size&gt;</span>\n           <span class=\"nt\">&lt;/box&gt;</span>\n         <span class=\"nt\">&lt;/geometry&gt;</span>\n         <span class=\"nt\">&lt;material&gt;</span>\n           <span class=\"nt\">&lt;ambient&gt;</span>0.0 0.0 1.0 1<span class=\"nt\">&lt;/ambient&gt;</span>\n           <span class=\"nt\">&lt;diffuse&gt;</span>0.0 0.0 1.0 1<span class=\"nt\">&lt;/diffuse&gt;</span>\n           <span class=\"nt\">&lt;specular&gt;</span>0.0 0.0 1.0 1<span class=\"nt\">&lt;/specular&gt;</span>\n         <span class=\"nt\">&lt;/material&gt;</span>\n       <span class=\"nt\">&lt;/visual&gt;</span>\n       <span class=\"nt\">&lt;collision</span> <span class=\"na\">name=</span><span class=\"s\">&quot;collision&quot;</span><span class=\"nt\">&gt;</span>\n         <span class=\"nt\">&lt;geometry&gt;</span>\n           <span class=\"nt\">&lt;box&gt;</span>\n             <span class=\"nt\">&lt;size&gt;</span>0.25 0.25 0.05<span class=\"nt\">&lt;/size&gt;</span>\n           <span class=\"nt\">&lt;/box&gt;</span>\n         <span class=\"nt\">&lt;/geometry&gt;</span>\n       <span class=\"nt\">&lt;/collision&gt;</span>\n     <span class=\"nt\">&lt;/link&gt;</span>\n\n     <span class=\"nt\">&lt;joint</span> <span class=\"na\">name=</span><span class=\"s\">&quot;j1&quot;</span> <span class=\"na\">type=</span><span class=\"s\">&quot;revolute&quot;</span><span class=\"nt\">&gt;</span>\n       <span class=\"nt\">&lt;pose&gt;</span>0 0 -0.5 0 0 0<span class=\"nt\">&lt;/pose&gt;</span>\n       <span class=\"nt\">&lt;parent&gt;</span>base_link<span class=\"nt\">&lt;/parent&gt;</span>\n       <span class=\"nt\">&lt;child&gt;</span>rotor<span class=\"nt\">&lt;/child&gt;</span>\n       <span class=\"nt\">&lt;axis&gt;</span>\n         <span class=\"nt\">&lt;xyz&gt;</span>0 0 1<span class=\"nt\">&lt;/xyz&gt;</span>\n         <span class=\"nt\">&lt;dynamics&gt;</span>\n           <span class=\"nt\">&lt;damping&gt;</span>0.0001<span class=\"nt\">&lt;/damping&gt;</span>\n         <span class=\"nt\">&lt;/dynamics&gt;</span>\n       <span class=\"nt\">&lt;/axis&gt;</span>\n     <span class=\"nt\">&lt;/joint&gt;</span>\n     <span class=\"nt\">&lt;plugin</span>\n       <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-apply-joint-force-system.so&quot;</span>\n       <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::ApplyJointForce&quot;</span><span class=\"nt\">&gt;</span>\n       <span class=\"nt\">&lt;joint_name&gt;</span>j1<span class=\"nt\">&lt;/joint_name&gt;</span>\n     <span class=\"nt\">&lt;/plugin&gt;</span>\n\n     <span class=\"nt\">&lt;plugin</span> <span class=\"na\">filename=</span><span class=\"s\">&quot;libignition-gazebo-linearbatteryplugin-system.so&quot;</span>\n       <span class=\"na\">name=</span><span class=\"s\">&quot;ignition::gazebo::systems::LinearBatteryPlugin&quot;</span><span class=\"nt\">&gt;</span>\n       <span class=\"nt\">&lt;battery_name&gt;</span>linear_battery<span class=\"nt\">&lt;/battery_name&gt;</span>\n       <span class=\"nt\">&lt;voltage&gt;</span>12.592<span class=\"nt\">&lt;/voltage&gt;</span>\n       <span class=\"nt\">&lt;open_circuit_voltage_constant_coef&gt;</span>12.694<span class=\"nt\">&lt;/open_circuit_voltage_constant_coef&gt;</span>\n       <span class=\"nt\">&lt;open_circuit_voltage_linear_coef&gt;</span>-3.1424<span class=\"nt\">&lt;/open_circuit_voltage_linear_coef&gt;</span>\n       <span class=\"nt\">&lt;initial_charge&gt;</span>1.1665<span class=\"nt\">&lt;/initial_charge&gt;</span>\n       <span class=\"nt\">&lt;capacity&gt;</span>1.2009<span class=\"nt\">&lt;/capacity&gt;</span>\n       <span class=\"nt\">&lt;resistance&gt;</span>0.061523<span class=\"nt\">&lt;/resistance&gt;</span>\n       <span class=\"nt\">&lt;smooth_current_tau&gt;</span>1.9499<span class=\"nt\">&lt;/smooth_current_tau&gt;</span>\n       <span class=\"nt\">&lt;power_load&gt;</span>1<span class=\"nt\">&lt;/power_load&gt;</span>\n       <span class=\"nt\">&lt;start_on_motion&gt;</span>1<span class=\"nt\">&lt;/start_on_motion&gt;</span>\n     <span class=\"nt\">&lt;/plugin&gt;</span>\n\n    <span class=\"nt\">&lt;/model&gt;</span>\n  <span class=\"nt\">&lt;/world&gt;</span>\n<span class=\"nt\">&lt;/sdf&gt;</span>\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2020-03-31T14:25:10.088024+00:00", "milestone": null, "updated_on": "2020-03-31T14:36:33.858613+00:00", "type": "issue", "id": 55}