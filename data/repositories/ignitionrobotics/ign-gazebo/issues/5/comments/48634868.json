{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/48634868.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-48634868"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": "I've identified the cause of the issue: Bullet collision detector starts to report \"collision points\" before the objects are actually in collision, and it reports their penetration depth as being negative (or their distance as being positive, depending on which convention you prefer).\n\nI believe dartsim assumes that all contact points reported by the collision detector are occurring at true intersections of the collision bodies, so these pseudo-collisions are being treated as real collisions, causing the bodies to stop early. The Bullet physics engine itself is presumably aware of this behavior, and probably utilizes it to get smoother collisions. An ideal solution for dartsim would be to use this information in whatever way that Bullet physics uses it to improve collision handling, but a brute force solution would be to just throw away contact points that report negative penetration depth.", "markup": "markdown", "html": "<p>I've identified the cause of the issue: Bullet collision detector starts to report \"collision points\" before the objects are actually in collision, and it reports their penetration depth as being negative (or their distance as being positive, depending on which convention you prefer).</p>\n<p>I believe dartsim assumes that all contact points reported by the collision detector are occurring at true intersections of the collision bodies, so these pseudo-collisions are being treated as real collisions, causing the bodies to stop early. The Bullet physics engine itself is presumably aware of this behavior, and probably utilizes it to get smoother collisions. An ideal solution for dartsim would be to use this information in whatever way that Bullet physics uses it to improve collision handling, but a brute force solution would be to just throw away contact points that report negative penetration depth.</p>", "type": "rendered"}, "created_on": "2018-10-30T07:07:13.463912+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 48634868}