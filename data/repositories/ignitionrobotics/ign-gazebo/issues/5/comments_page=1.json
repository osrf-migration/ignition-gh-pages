{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/48318588.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-48318588"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": "Do you know what version/branch if ign-physics you are using?", "markup": "markdown", "html": "<p>Do you know what version/branch if ign-physics you are using?</p>", "type": "rendered"}, "created_on": "2018-10-12T16:22:39.952418+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 48318588}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/48319013.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-48319013"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": "Yeah, I updated to the latest default", "markup": "markdown", "html": "<p>Yeah, I updated to the latest default</p>", "type": "rendered"}, "created_on": "2018-10-12T16:53:28.234385+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 48319013}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/48319153.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-48319153"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": "Can you try the `ign-physics1` branch of ign-physics? I'm using that branch, and the test passes for me.", "markup": "markdown", "html": "<p>Can you try the <code>ign-physics1</code> branch of ign-physics? I'm using that branch, and the test passes for me.</p>", "type": "rendered"}, "created_on": "2018-10-12T17:06:53.087139+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2018-10-12T17:07:04.295652+00:00", "type": "issue_comment", "id": 48319153}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/48319437.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-48319437"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": "Yeah that one passes for me. What branch was released as `libignition-physics-dev`? Maybe there was a regression. Could be related to [this PR](#!/ignitionrobotics/ign-physics/pull-requests/36/replace-fcl-collision-detector-with-bullet/diff).", "markup": "markdown", "html": "<p>Yeah that one passes for me. What branch was released as <code>libignition-physics-dev</code>? Maybe there was a regression. Could be related to <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-physics/pull-requests/36/replace-fcl-collision-detector-with-bullet/diff\" rel=\"nofollow\">this PR</a>.</p>", "type": "rendered"}, "created_on": "2018-10-12T17:29:38.195344+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 48319437}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/48319554.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-48319554"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": "`libignition-physics-dev` uses the `ign-physics1` branch.", "markup": "markdown", "html": "<p><code>libignition-physics-dev</code> uses the <code>ign-physics1</code> branch.</p>", "type": "rendered"}, "created_on": "2018-10-12T17:39:15.437820+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 48319554}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/48394918.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-48394918"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": "I did notice during [this PR](#!/ignitionrobotics/ign-physics/pull-requests/36/replace-fcl-collision-detector-with-bullet/diff) that the bullet collision detector is giving suspiciously large distance between objects that are lying on each other.\n\nQualitatively, I didn't notice any visually obvious issue when running [this](#!/ignitionrobotics/ign-gazebo/pull-requests/51/) or [this](#!/ignitionrobotics/ign-gazebo/pull-requests/56/), but maybe an offset of 0.03 is too small to be noticed in those examples?\n\nI can put aside some time to investigate why the precision seems off on these tests.", "markup": "markdown", "html": "<p>I did notice during <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-physics/pull-requests/36/replace-fcl-collision-detector-with-bullet/diff\" rel=\"nofollow\">this PR</a> that the bullet collision detector is giving suspiciously large distance between objects that are lying on each other.</p>\n<p>Qualitatively, I didn't notice any visually obvious issue when running <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/51/\" rel=\"nofollow\">this</a> or <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/56/\" rel=\"nofollow\">this</a>, but maybe an offset of 0.03 is too small to be noticed in those examples?</p>\n<p>I can put aside some time to investigate why the precision seems off on these tests.</p>", "type": "rendered"}, "created_on": "2018-10-17T09:31:36.274070+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 48394918}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/48424478.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-48424478"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": "Thanks Grey, that would be great.", "markup": "markdown", "html": "<p>Thanks Grey, that would be great.</p>", "type": "rendered"}, "created_on": "2018-10-18T14:48:35.103591+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": null, "type": "issue_comment", "id": 48424478}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/48629525.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-48629525"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": "I can see the same behavior running gazebo with  dart and using the bullet collision detector (you'll need https://bitbucket.org/osrf/gazebo/pull-requests/2956 to test this). \nThe precision seems to depend on the size of the geometry. For a sphere of radius 1m, the error is 0.034m (0.016m if the sphere falls from a higher elevation), while for a radius of 10m, the error is 0.115m.\n\nThe behavior doesn't seem to affect some geometries like `box`. Also, running gazebo with bullet physics doesn't have this behavior.\n\n## Gazebo-Dart with bullet collision\n![dart_with_bullet_collision_zoom_zoom.jpg](data/bitbucket.org/repo/8zodKzn/images/1762912285-dart_with_bullet_collision_zoom_zoom.jpg)\n## Gazebo-bullet \n![bullet_zoom.jpg](data/bitbucket.org/repo/8zodKzn/images/2769726580-bullet_zoom.jpg)", "markup": "markdown", "html": "<p>I can see the same behavior running gazebo with  dart and using the bullet collision detector (you'll need <a href=\"https://bitbucket.org/osrf/gazebo/pull-requests/2956\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/gazebo/pull-requests/2956</a> to test this). \nThe precision seems to depend on the size of the geometry. For a sphere of radius 1m, the error is 0.034m (0.016m if the sphere falls from a higher elevation), while for a radius of 10m, the error is 0.115m.</p>\n<p>The behavior doesn't seem to affect some geometries like <code>box</code>. Also, running gazebo with bullet physics doesn't have this behavior.</p>\n<h2 id=\"markdown-header-gazebo-dart-with-bullet-collision\">Gazebo-Dart with bullet collision</h2>\n<p><img alt=\"dart_with_bullet_collision_zoom_zoom.jpg\" src=\"data/bitbucket.org/repo/8zodKzn/images/1762912285-dart_with_bullet_collision_zoom_zoom.jpg\" /></p>\n<h2 id=\"markdown-header-gazebo-bullet\">Gazebo-bullet</h2>\n<p><img alt=\"bullet_zoom.jpg\" src=\"data/bitbucket.org/repo/8zodKzn/images/2769726580-bullet_zoom.jpg\" /></p>", "type": "rendered"}, "created_on": "2018-10-29T21:37:07.186898+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": null, "type": "issue_comment", "id": 48629525}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/48633982.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-48633982"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": "Thanks for setting up this test case. I've opened an issue on dartsim [here](https://github.com/dartsim/dart/issues/1184), which includes a regression test inside of dartsim. I think I have some leads for what might be causing this.", "markup": "markdown", "html": "<p>Thanks for setting up this test case. I've opened an issue on dartsim <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/issues/1184\" rel=\"nofollow\">here</a>, which includes a regression test inside of dartsim. I think I have some leads for what might be causing this.</p>", "type": "rendered"}, "created_on": "2018-10-30T05:52:16.433254+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 48633982}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/48634868.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-48634868"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": "I've identified the cause of the issue: Bullet collision detector starts to report \"collision points\" before the objects are actually in collision, and it reports their penetration depth as being negative (or their distance as being positive, depending on which convention you prefer).\n\nI believe dartsim assumes that all contact points reported by the collision detector are occurring at true intersections of the collision bodies, so these pseudo-collisions are being treated as real collisions, causing the bodies to stop early. The Bullet physics engine itself is presumably aware of this behavior, and probably utilizes it to get smoother collisions. An ideal solution for dartsim would be to use this information in whatever way that Bullet physics uses it to improve collision handling, but a brute force solution would be to just throw away contact points that report negative penetration depth.", "markup": "markdown", "html": "<p>I've identified the cause of the issue: Bullet collision detector starts to report \"collision points\" before the objects are actually in collision, and it reports their penetration depth as being negative (or their distance as being positive, depending on which convention you prefer).</p>\n<p>I believe dartsim assumes that all contact points reported by the collision detector are occurring at true intersections of the collision bodies, so these pseudo-collisions are being treated as real collisions, causing the bodies to stop early. The Bullet physics engine itself is presumably aware of this behavior, and probably utilizes it to get smoother collisions. An ideal solution for dartsim would be to use this information in whatever way that Bullet physics uses it to improve collision handling, but a brute force solution would be to just throw away contact points that report negative penetration depth.</p>", "type": "rendered"}, "created_on": "2018-10-30T07:07:13.463912+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 48634868}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/48639106.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-48639106"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": "The changes [in this dartsim PR](https://github.com/dartsim/dart/pull/1185) should fix the issue.", "markup": "markdown", "html": "<p>The changes <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/pull/1185\" rel=\"nofollow\">in this dartsim PR</a> should fix the issue.</p>", "type": "rendered"}, "created_on": "2018-10-30T10:41:34.589163+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 48639106}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5/comments/51208711.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/5#comment-51208711"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "INTEGRATION_physics_system fails locally"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2019-03-19T02:27:14.327815+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 51208711}], "page": 1, "size": 12}