{"changes": {"content": {"new": "# Description\r\n\r\nLog playback consumes a lot of memory. It was observed that when playing back the attached `state.tlog` \\(2.7MB\\) recorded in `levels.sdf` world, memory usage grew consistently over time to roughly >300MB by the end of the playback \\(~46s sim time\\)\r\n\r\n# Steps to Reproduce\r\n\r\n1. Playback the attached `state.tlog` \\(or any other log file\\), e.g. `ign gazebo -v 4 -p [path_to_log_dir]`\r\n2. Hit Play on ign-gazebo gui\r\n3. Open `top` and observe memory usage\r\n\r\n**Expected behavior:**\r\n\r\nIt is expected that memory may grow as states get loaded but it should be at a slower pace. There should also be a cap on how much memory that can be consumed.\r\n\r\n**Actual behavior:**\r\n\r\nHigh memory usage \\( >300MB over 46s sim time\\)\r\n\r\n**Reproduces how often:**\r\n\r\nAll the time\r\n\r\n# Versions\r\n\r\nign-gazebo 2.0\r\n\r\n# Additional Information\r\n\r\nRelated [subt issue](https://bitbucket.org/osrf/subt/issues/318/ign-log-playback-memory-leak). It was reported that playback used up all 32GB of RAM", "old": "# Description\r\n\r\nLog playback consumes a lot of memory. It was observed that when playing back of the attached `state.tlog` \\(2.7MB\\) recorded in `levels.sdf` world, memory usage grew consistently over time to roughly >300MB by the end of the playback \\(~46s sim time\\)\r\n\r\n# Steps to Reproduce\r\n\r\n1. Playback the attached `state.tlog` \\(or any other log file\\), e.g. `ign gazebo -v 4 -p [path_to_log_dir]`\r\n2. Hit Play on ign-gazebo gui\r\n3. Open `top` and observe memory usage\r\n\r\n**Expected behavior:**\r\n\r\nIt is expected that memory may grow as states get loaded but it should be at a slower pace. There should also be a cap on how much memory that can be consumed.\r\n\r\n**Actual behavior:**\r\n\r\nHigh memory usage \\( >300MB over 46s sim time\\)\r\n\r\n**Reproduces how often:**\r\n\r\nAll the time\r\n\r\n# Versions\r\n\r\nign-gazebo 2.0\r\n\r\n# Additional Information\r\n\r\nRelated [subt issue](https://bitbucket.org/osrf/subt/issues/318/ign-log-playback-memory-leak). It was reported that playback used up all 32GB of RAM"}}, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/47/changes/55547412.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/issues/47#comment-55547412"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/issues/47.json"}}, "type": "issue", "id": 47, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "title": "Possible log playback memory leak"}, "created_on": "2020-01-06T18:51:59.617824+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "message": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "type": "issue_change", "id": 55547412}