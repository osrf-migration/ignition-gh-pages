{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/136851947.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-136851947"}}, "parent": {"id": 136698586, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/136698586.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-136698586"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Thank you!", "markup": "markdown", "html": "<p>Thank you!</p>", "type": "rendered"}, "created_on": "2020-02-20T18:16:37.783735+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2020-02-20T18:16:37.794098+00:00", "type": "pullrequest_comment", "id": 136851947}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "fa6cde757d2a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fa6cde757d2a.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fa6cde757d2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "38dca59a2ece", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/38dca59a2ece.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/38dca59a2ece"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-02-20T18:09:44.967335+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"approval": {"date": "2020-02-20T02:43:45.656799+00:00", "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/136698586.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-136698586"}}, "parent": {"id": 136665483, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/136665483.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-136665483"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "I fixed OSX compilation in 9243c10, and removed some tests which are not expected to pass on OSX since it uses the outdated command line.", "markup": "markdown", "html": "<p>I fixed OSX compilation in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/9243c10\" rel=\"nofollow\" class=\"ap-connect-link\">9243c10</a>, and removed some tests which are not expected to pass on OSX since it uses the outdated command line.</p>", "type": "rendered"}, "created_on": "2020-02-20T02:43:43.094413+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-02-20T02:43:43.101487+00:00", "type": "pullrequest_comment", "id": 136698586}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "fa6cde757d2a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fa6cde757d2a.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fa6cde757d2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "38dca59a2ece", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/38dca59a2ece.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/38dca59a2ece"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-02-20T02:42:21.202504+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "fa6cde757d2a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fa6cde757d2a.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fa6cde757d2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "9243c1059cc6", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/9243c1059cc6.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/9243c1059cc6"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-02-20T00:32:04.967638+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/136685981.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-136685981"}}, "parent": {"id": 136683331, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/136683331.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-136683331"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "I changed to the same approach used by `ign-transport`: b8b653c", "markup": "markdown", "html": "<p>I changed to the same approach used by <code>ign-transport</code>: <a href=\"#!/ignitionrobotics/ign-gazebo/commits/b8b653c\" rel=\"nofollow\" class=\"ap-connect-link\">b8b653c</a></p>", "type": "rendered"}, "created_on": "2020-02-19T23:22:58.366660+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-02-19T23:22:58.372973+00:00", "type": "pullrequest_comment", "id": 136685981}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "fa6cde757d2a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fa6cde757d2a.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fa6cde757d2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "b8b653c43cff", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/b8b653c43cff.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/b8b653c43cff"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-02-19T23:22:26.708115+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/136683331.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-136683331"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "This breaks OSX compilation:\n\n~~~\nScanning dependencies of target UNIT_Util_TEST\nld: library not found for -lstdc++fs\n~~~", "markup": "markdown", "html": "<p>This breaks OSX compilation:</p>\n<div class=\"codehilite\"><pre><span></span>Scanning dependencies of target UNIT_Util_TEST\nld: library not found for -lstdc++fs\n</pre></div>", "type": "rendered"}, "created_on": "2020-02-19T22:53:57.677822+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-02-19T22:53:57.684666+00:00", "type": "pullrequest_comment", "id": 136683331}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/136665483.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-136665483"}}, "parent": {"id": 136044132, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/136044132.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-136044132"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Ubuntu is ok, OSX had infrastructure issues. Re-running: [![Build Status](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/2467/badge/icon)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/2467/)", "markup": "markdown", "html": "<p>Ubuntu is ok, OSX had infrastructure issues. Re-running: <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/2467/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/2467/badge/icon\" /></a></p>", "type": "rendered"}, "created_on": "2020-02-19T20:21:20.384602+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-02-19T20:21:20.392800+00:00", "type": "pullrequest_comment", "id": 136665483}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/136044132.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-136044132"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "LGTM, just waiting on CI", "markup": "markdown", "html": "<p>LGTM, just waiting on CI</p>", "type": "rendered"}, "created_on": "2020-02-14T18:31:03.337765+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-02-14T18:31:03.346379+00:00", "type": "pullrequest_comment", "id": 136044132}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/135907356.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-135907356"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "9eb59e0 covers row 5 of table above.\n\nNow rows 2-8 should all be covered by tests.", "markup": "markdown", "html": "<p><a href=\"#!/ignitionrobotics/ign-gazebo/commits/9eb59e0\" rel=\"nofollow\" class=\"ap-connect-link\">9eb59e0</a> covers row 5 of table above.</p>\n<p>Now rows 2-8 should all be covered by tests.</p>", "type": "rendered"}, "created_on": "2020-02-14T01:52:20.668460+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2020-02-14T01:52:38.699688+00:00", "type": "pullrequest_comment", "id": 135907356}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "fa6cde757d2a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fa6cde757d2a.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fa6cde757d2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "9eb59e0a27af", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/9eb59e0a27af.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/9eb59e0a27af"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2020-02-14T01:51:29.239897+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "fa6cde757d2a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fa6cde757d2a.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fa6cde757d2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "73630a674141", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/73630a674141.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/73630a674141"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-02-14T01:29:56.384379+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "fa6cde757d2a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fa6cde757d2a.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fa6cde757d2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "42dce4421d4a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/42dce4421d4a.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/42dce4421d4a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-02-14T01:00:11.463050+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130617211.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130617211"}}, "parent": {"id": 130601336, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130601336.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130601336"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Thanks! I have some more suggestions on pull request #503. Let me know what you think.", "markup": "markdown", "html": "<p>Thanks! I have some more suggestions on <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/503/updates-to-log-overwrite-tests-pull\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #503</a>. Let me know what you think.</p>", "type": "rendered"}, "created_on": "2020-01-06T23:37:30.203952+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-06T23:37:30.211924+00:00", "type": "pullrequest_comment", "id": 130617211}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130601336.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130601336"}}, "parent": {"id": 130456526, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130456526.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130456526"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Added the checks in 965500c. Also added a command-line test that tests the overwrite logic in `ign.cc`, and shortened the running time of some other tests.", "markup": "markdown", "html": "<p>Added the checks in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/965500c\" rel=\"nofollow\" class=\"ap-connect-link\">965500c</a>. Also added a command-line test that tests the overwrite logic in <code>ign.cc</code>, and shortened the running time of some other tests.</p>", "type": "rendered"}, "created_on": "2020-01-06T20:33:39.247919+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {}, "updated_on": "2020-01-06T20:33:39.258197+00:00", "type": "pullrequest_comment", "id": 130601336}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "426e89205223", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/426e89205223.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/426e89205223"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "965500ca6513", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/965500ca6513.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/965500ca6513"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2020-01-06T20:31:52.272825+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130456542.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130456542"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Looking good to me! I just have one last comment about the overwrite tests.", "markup": "markdown", "html": "<p>Looking good to me! I just have one last comment about the overwrite tests.</p>", "type": "rendered"}, "created_on": "2020-01-04T01:29:00.124441+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-01-04T01:29:00.129785+00:00", "type": "pullrequest_comment", "id": 130456542}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130456526.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130456526"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "My only concern with the overwrite tests is that they're not checking that the file was in fact overwritten, they just check that the directory exists. I think these tests would equally pass if the state file was recorded to `path(1)`, because `path` still exists and `ignLogDirectory` is still the same.\n\nSome suggestions:\n\n* Besides checking that the directory exists, check that the `log` and `tlog` files exist there\n* Clean up `this->logDir` between test cases, so we know that the files were generated by the last test\n* Use something like [last_write_time](https://en.cppreference.com/w/cpp/filesystem/last_write_time) to check that the file has been updated (we can disable the test for `APPLE` since it doesn't have `filesystem` yet)\n\n", "markup": "markdown", "html": "<p>My only concern with the overwrite tests is that they're not checking that the file was in fact overwritten, they just check that the directory exists. I think these tests would equally pass if the state file was recorded to <code>path(1)</code>, because <code>path</code> still exists and <code>ignLogDirectory</code> is still the same.</p>\n<p>Some suggestions:</p>\n<ul>\n<li>Besides checking that the directory exists, check that the <code>log</code> and <code>tlog</code> files exist there</li>\n<li>Clean up <code>this-&gt;logDir</code> between test cases, so we know that the files were generated by the last test</li>\n<li>Use something like <a data-is-external-link=\"true\" href=\"https://en.cppreference.com/w/cpp/filesystem/last_write_time\" rel=\"nofollow\">last_write_time</a> to check that the file has been updated (we can disable the test for <code>APPLE</code> since it doesn't have <code>filesystem</code> yet)</li>\n</ul>", "type": "rendered"}, "created_on": "2020-01-04T01:27:58.816799+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-04T01:27:58.822646+00:00", "type": "pullrequest_comment", "id": 130456526}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130456118.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130456118"}}, "parent": {"id": 130456097, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130456097.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130456097"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Ha, thanks! :smile: ", "markup": "markdown", "html": "<p>Ha, thanks! <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f604.png\" alt=\"\ud83d\ude04\" title=\":smile:\" data-emoji-short-name=\":smile:\" /> </p>", "type": "rendered"}, "created_on": "2020-01-04T00:58:50.800717+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-04T00:58:50.808855+00:00", "type": "pullrequest_comment", "id": 130456118}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130456097.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130456097"}}, "parent": {"id": 130455961, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455961.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455961"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Ran clang-tidy for fe15d73. Just those. I\u2019ve been running clang-tidy for the big commits but not the little ones. You caught me.", "markup": "markdown", "html": "<p>Ran clang-tidy for <a href=\"#!/ignitionrobotics/ign-gazebo/commits/fe15d73\" rel=\"nofollow\" class=\"ap-connect-link\">fe15d73</a>. Just those. I\u2019ve been running clang-tidy for the big commits but not the little ones. You caught me.</p>", "type": "rendered"}, "created_on": "2020-01-04T00:56:53.249986+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {}, "updated_on": "2020-01-04T00:56:53.260036+00:00", "type": "pullrequest_comment", "id": 130456097}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "426e89205223", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/426e89205223.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/426e89205223"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "fe15d7379576", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fe15d7379576.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fe15d7379576"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2020-01-04T00:56:22.085560+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455961.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455961"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "oops, clang_tidy will probably complain about these `snake_case`d variables. Could you run `./tools/clang_tidy.sh` to check if there are any other issues?", "markup": "markdown", "html": "<p>oops, clang_tidy will probably complain about these <code>snake_case</code>d variables. Could you run <code>./tools/clang_tidy.sh</code> to check if there are any other issues?</p>", "type": "rendered"}, "created_on": "2020-01-04T00:48:03.767552+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-04T00:48:03.772654+00:00", "type": "pullrequest_comment", "id": 130455961}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "426e89205223", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/426e89205223.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/426e89205223"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "36f5f7b8ff46", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/36f5f7b8ff46.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/36f5f7b8ff46"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2020-01-04T00:43:35.253994+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455835.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455835"}}, "parent": {"id": 130455759, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455759.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455759"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "40e5ed0 :sweat_smile: ", "markup": "markdown", "html": "<p><a href=\"#!/ignitionrobotics/ign-gazebo/commits/40e5ed0\" rel=\"nofollow\" class=\"ap-connect-link\">40e5ed0</a> <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f605.png\" alt=\"\ud83d\ude05\" title=\":sweat_smile:\" data-emoji-short-name=\":sweat_smile:\" /> </p>", "type": "rendered"}, "created_on": "2020-01-04T00:40:40.255743+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {}, "updated_on": "2020-01-04T00:40:40.263159+00:00", "type": "pullrequest_comment", "id": 130455835}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "426e89205223", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/426e89205223.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/426e89205223"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "40e5ed0456f4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/40e5ed0456f4.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/40e5ed0456f4"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2020-01-04T00:40:24.283732+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455700.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455700"}}, "parent": {"id": 130428433, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130428433.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130428433"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Changed in 942289b\n\nI updated the `ign-launch` with the new method name. I will wait to update the rest of the logic there after `ign.cc` is stable in these PRs.", "markup": "markdown", "html": "<p>Changed in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/942289b\" rel=\"nofollow\" class=\"ap-connect-link\">942289b</a></p>\n<p>I updated the <code>ign-launch</code> with the new method name. I will wait to update the rest of the logic there after <code>ign.cc</code> is stable in these PRs.</p>", "type": "rendered"}, "created_on": "2020-01-04T00:33:41.824474+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {}, "updated_on": "2020-01-04T00:37:17.075242+00:00", "type": "pullrequest_comment", "id": 130455700}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455759.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455759"}}, "parent": {"id": 130455700, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455700.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455700"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Thanks, just need to update the docs now :smile: ", "markup": "markdown", "html": "<p>Thanks, just need to update the docs now <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f604.png\" alt=\"\ud83d\ude04\" title=\":smile:\" data-emoji-short-name=\":smile:\" /> </p>", "type": "rendered"}, "created_on": "2020-01-04T00:37:10.890660+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-04T00:37:10.898220+00:00", "type": "pullrequest_comment", "id": 130455759}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455747.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455747"}}, "parent": {"id": 130455721, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455721.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455721"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Oh gotcha, thanks for leaving it for future PRs.", "markup": "markdown", "html": "<p>Oh gotcha, thanks for leaving it for future PRs.</p>", "type": "rendered"}, "created_on": "2020-01-04T00:36:14.652943+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-04T00:36:14.663075+00:00", "type": "pullrequest_comment", "id": 130455747}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455721.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455721"}}, "parent": {"id": 130429810, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130429810.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130429810"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "This is left from splitting this PR from `log_resources`. I removed it in 942289b for this PR. It will probably need to be added back for `log_resources` because that looks at paths starting with `file://` or `/`, so it needs the `/` at the beginning. I believe that was why that block was added.", "markup": "markdown", "html": "<p>This is left from splitting this PR from <code>log_resources</code>. I removed it in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/942289b\" rel=\"nofollow\" class=\"ap-connect-link\">942289b</a> for this PR. It will probably need to be added back for <code>log_resources</code> because that looks at paths starting with <code>file://</code> or <code>/</code>, so it needs the <code>/</code> at the beginning. I believe that was why that block was added.</p>", "type": "rendered"}, "created_on": "2020-01-04T00:34:52.878110+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {}, "updated_on": "2020-01-04T00:34:52.886434+00:00", "type": "pullrequest_comment", "id": 130455721}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455704.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455704"}}, "parent": {"id": 130427416, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130427416.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130427416"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Changed in 942289b", "markup": "markdown", "html": "<p>Changed in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/942289b\" rel=\"nofollow\" class=\"ap-connect-link\">942289b</a></p>", "type": "rendered"}, "created_on": "2020-01-04T00:33:46.836080+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {}, "updated_on": "2020-01-04T00:33:46.843228+00:00", "type": "pullrequest_comment", "id": 130455704}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455695.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455695"}}, "parent": {"id": 130433636, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130433636.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130433636"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Changed in 942289b", "markup": "markdown", "html": "<p>Changed in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/942289b\" rel=\"nofollow\" class=\"ap-connect-link\">942289b</a></p>", "type": "rendered"}, "created_on": "2020-01-04T00:33:35.024425+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {}, "updated_on": "2020-01-04T00:33:35.031704+00:00", "type": "pullrequest_comment", "id": 130455695}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130455693.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130455693"}}, "parent": {"id": 130434282, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130434282.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130434282"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Added in 942289b", "markup": "markdown", "html": "<p>Added in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/942289b\" rel=\"nofollow\" class=\"ap-connect-link\">942289b</a></p>", "type": "rendered"}, "created_on": "2020-01-04T00:33:28.770033+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {}, "updated_on": "2020-01-04T00:33:28.778268+00:00", "type": "pullrequest_comment", "id": 130455693}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "426e89205223", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/426e89205223.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/426e89205223"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "942289b21231", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/942289b21231.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/942289b21231"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2020-01-04T00:33:12.928034+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130452121.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130452121"}}, "parent": {"id": 130451428, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130451428.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130451428"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Okay. I edited it directly and merged :grinning: ", "markup": "markdown", "html": "<p>Okay. I edited it directly and merged <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f600.png\" alt=\"\ud83d\ude00\" title=\":grinning:\" data-emoji-short-name=\":grinning:\" /> </p>", "type": "rendered"}, "created_on": "2020-01-03T22:49:09.990622+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2020-01-03T22:49:09.998837+00:00", "type": "pullrequest_comment", "id": 130452121}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "426e89205223", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/426e89205223.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/426e89205223"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "01c7c87d4f32", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/01c7c87d4f32.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/01c7c87d4f32"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2020-01-03T22:48:45.103256+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130451767.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130451767"}}, "parent": {"id": 130435473, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130435473.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130435473"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Looks great!!! I feel a lot better with those things laid out now! Thank you!", "markup": "markdown", "html": "<p>Looks great!!! I feel a lot better with those things laid out now! Thank you!</p>", "type": "rendered"}, "created_on": "2020-01-03T22:40:24.725713+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2020-01-03T22:40:24.735888+00:00", "type": "pullrequest_comment", "id": 130451767}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130451428.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130451428"}}, "parent": {"id": 130451256, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130451256.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130451256"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "> Maybe we can put in the documentation that the recommended usage is --record-path\n\n+1 I tried to make it clear on pull request #501 that `<path>` should not be used. I also removed it from the examples. Feel free to add more warnings and recommendations as you see fit.", "markup": "markdown", "html": "<blockquote>\n<p>Maybe we can put in the documentation that the recommended usage is --record-path</p>\n</blockquote>\n<p>+1 I tried to make it clear on <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/501/update-logging-docs-pull-request-497\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #501</a> that <code>&lt;path&gt;</code> should not be used. I also removed it from the examples. Feel free to add more warnings and recommendations as you see fit.</p>", "type": "rendered"}, "created_on": "2020-01-03T22:33:11.478346+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-01-03T22:33:11.485220+00:00", "type": "pullrequest_comment", "id": 130451428}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130451256.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130451256"}}, "parent": {"id": 130437610, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130437610.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130437610"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Yes, this is the expected behavior. Very confusing probably to anyone else\u2026 The code has a lot of conditional too which hopefully would get better once we remove support for `<path>`.\n\nMaybe we can put in the documentation that the recommended usage is `--record-path`, the most unambiguous.", "markup": "markdown", "html": "<p>Yes, this is the expected behavior. Very confusing probably to anyone else\u2026 The code has a lot of conditional too which hopefully would get better once we remove support for <code>&lt;path&gt;</code>.</p>\n<p>Maybe we can put in the documentation that the recommended usage is <code>--record-path</code>, the most unambiguous.</p>", "type": "rendered"}, "created_on": "2020-01-03T22:29:33.302637+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2020-01-03T22:30:54.719321+00:00", "type": "pullrequest_comment", "id": 130451256}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130437610.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130437610"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Just summarizing some of the manual testing I did:\n\nFile exists | `--record` | `--record-path` | `--log-overwrite` | `<path>` | Result\n------------- | ------------- | ------------------- | ---------------------- | ----------- | --------\n                 |                 |                         |                            |                |   `server_console.log` to timestamped\n                 |          :white_check_mark:        |                         |                            |                |   Both files to timestamped\n                 |                 |  :white_check_mark:  |                            |                |   Both files to given `path`\n                 |                 |                         |                            |    :white_check_mark:   |  `state.tlog` to `<path>`, `server_console.log` to timestamped\n       :white_check_mark:          |                 |                         |                            |    :white_check_mark:   |  `state.tlog` overwrites `<path>`, `server_console.log` to new timestamped\n                 |                 |  :white_check_mark:  |                            |  :white_check_mark:               |   Both files to path from `--record-path`\n       :white_check_mark:          |                 |           :white_check_mark:              |                            |                |   Both files to `path(1)`\n       :white_check_mark:          |                 |           :white_check_mark:              |          :white_check_mark:                  |                |   Both files to overwritten `path`", "markup": "markdown", "html": "<p>Just summarizing some of the manual testing I did:</p>\n<table>\n<thead>\n<tr>\n<th>File exists</th>\n<th><code>--record</code></th>\n<th><code>--record-path</code></th>\n<th><code>--log-overwrite</code></th>\n<th><code>&lt;path&gt;</code></th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td><code>server_console.log</code> to timestamped</td>\n</tr>\n<tr>\n<td></td>\n<td><img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/2705.png\" alt=\"\u2705\" title=\":white_check_mark:\" data-emoji-short-name=\":white_check_mark:\" /></td>\n<td></td>\n<td></td>\n<td></td>\n<td>Both files to timestamped</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td><img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/2705.png\" alt=\"\u2705\" title=\":white_check_mark:\" data-emoji-short-name=\":white_check_mark:\" /></td>\n<td></td>\n<td></td>\n<td>Both files to given <code>path</code></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td><img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/2705.png\" alt=\"\u2705\" title=\":white_check_mark:\" data-emoji-short-name=\":white_check_mark:\" /></td>\n<td><code>state.tlog</code> to <code>&lt;path&gt;</code>, <code>server_console.log</code> to timestamped</td>\n</tr>\n<tr>\n<td><img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/2705.png\" alt=\"\u2705\" title=\":white_check_mark:\" data-emoji-short-name=\":white_check_mark:\" /></td>\n<td></td>\n<td></td>\n<td></td>\n<td><img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/2705.png\" alt=\"\u2705\" title=\":white_check_mark:\" data-emoji-short-name=\":white_check_mark:\" /></td>\n<td><code>state.tlog</code> overwrites <code>&lt;path&gt;</code>, <code>server_console.log</code> to new timestamped</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td><img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/2705.png\" alt=\"\u2705\" title=\":white_check_mark:\" data-emoji-short-name=\":white_check_mark:\" /></td>\n<td></td>\n<td><img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/2705.png\" alt=\"\u2705\" title=\":white_check_mark:\" data-emoji-short-name=\":white_check_mark:\" /></td>\n<td>Both files to path from <code>--record-path</code></td>\n</tr>\n<tr>\n<td><img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/2705.png\" alt=\"\u2705\" title=\":white_check_mark:\" data-emoji-short-name=\":white_check_mark:\" /></td>\n<td></td>\n<td><img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/2705.png\" alt=\"\u2705\" title=\":white_check_mark:\" data-emoji-short-name=\":white_check_mark:\" /></td>\n<td></td>\n<td></td>\n<td>Both files to <code>path(1)</code></td>\n</tr>\n<tr>\n<td><img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/2705.png\" alt=\"\u2705\" title=\":white_check_mark:\" data-emoji-short-name=\":white_check_mark:\" /></td>\n<td></td>\n<td><img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/2705.png\" alt=\"\u2705\" title=\":white_check_mark:\" data-emoji-short-name=\":white_check_mark:\" /></td>\n<td><img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/2705.png\" alt=\"\u2705\" title=\":white_check_mark:\" data-emoji-short-name=\":white_check_mark:\" /></td>\n<td></td>\n<td>Both files to overwritten <code>path</code></td>\n</tr>\n</tbody>\n</table>", "type": "rendered"}, "created_on": "2020-01-03T19:22:16.734539+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-01-03T19:22:16.740740+00:00", "type": "pullrequest_comment", "id": 130437610}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130435473.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130435473"}}, "parent": {"id": 130067755, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130067755.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130067755"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "> I think what should happen is that the first command should not overwrite.\n\nYeah, that was the original behaviour before pull request #413. I like that better, because it prevents users from overwriting files by mistake. But it's my understanding that SubT relies on overwriting now, so I'm reluctant to bring that behaviour back. I'd recommend we just keep the `<path>` behaviour as it's been for the later Blueprint minor releases: always overwrite. :confused:\n\nI'm suggesting some documentation that includes that on pull request #501. Let me know what you think.", "markup": "markdown", "html": "<blockquote>\n<p>I think what should happen is that the first command should not overwrite.</p>\n</blockquote>\n<p>Yeah, that was the original behaviour before <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/413/log-console-messages-and-support-co\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #413</a>. I like that better, because it prevents users from overwriting files by mistake. But it's my understanding that SubT relies on overwriting now, so I'm reluctant to bring that behaviour back. I'd recommend we just keep the <code>&lt;path&gt;</code> behaviour as it's been for the later Blueprint minor releases: always overwrite. <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f615.png\" alt=\"\ud83d\ude15\" title=\":confused:\" data-emoji-short-name=\":confused:\" /></p>\n<p>I'm suggesting some documentation that includes that on <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/501/update-logging-docs-pull-request-497\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #501</a>. Let me know what you think.</p>", "type": "rendered"}, "created_on": "2020-01-03T18:53:54.166162+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-01-03T18:53:54.172913+00:00", "type": "pullrequest_comment", "id": 130435473}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130434282.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130434282"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Could also check:\n\n```\nEXPECT_TRUE(common::exists(common::joinPaths(cliPath, \"state.tlog\")));\n```", "markup": "markdown", "html": "<p>Could also check:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">EXPECT_TRUE</span><span class=\"o\">(</span><span class=\"nt\">common</span><span class=\"p\">::</span><span class=\"nd\">exists</span><span class=\"o\">(</span><span class=\"nt\">common</span><span class=\"p\">::</span><span class=\"nd\">joinPaths</span><span class=\"o\">(</span><span class=\"nt\">cliPath</span><span class=\"o\">,</span> <span class=\"s2\">&quot;state.tlog&quot;</span><span class=\"o\">)));</span>\n</pre></div>", "type": "rendered"}, "created_on": "2020-01-03T18:40:10.834088+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-03T18:40:10.839996+00:00", "type": "pullrequest_comment", "id": 130434282}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130433636.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130433636"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "It's usually better to prevent tests from writing to files outside the test directory, so it's easy for the user to wipe out all the test files and there's no confusion about what files were generated due to common use and due to testing. Therefore, how about changing the `$HOME` variable for the test? Something like\n\n`setenv(IGN_HOMEDIR, this->logsDir)`\n\nWe just need to remember to reset the variable to its original value in case other tests rely on it.\n\nIn fact, I think we should do this to the `ign` tests, so we prevent `server_console.log` from being written to a public location every time. I'll work on this on a separate PR.", "markup": "markdown", "html": "<p>It's usually better to prevent tests from writing to files outside the test directory, so it's easy for the user to wipe out all the test files and there's no confusion about what files were generated due to common use and due to testing. Therefore, how about changing the <code>$HOME</code> variable for the test? Something like</p>\n<p><code>setenv(IGN_HOMEDIR, this-&gt;logsDir)</code></p>\n<p>We just need to remember to reset the variable to its original value in case other tests rely on it.</p>\n<p>In fact, I think we should do this to the <code>ign</code> tests, so we prevent <code>server_console.log</code> from being written to a public location every time. I'll work on this on a separate PR.</p>", "type": "rendered"}, "created_on": "2020-01-03T18:32:52.429514+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-03T18:32:52.435669+00:00", "type": "pullrequest_comment", "id": 130433636}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130429810.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130429810"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Is this necessary? Wouldn't we get the same result without this?", "markup": "markdown", "html": "<p>Is this necessary? Wouldn't we get the same result without this?</p>", "type": "rendered"}, "created_on": "2020-01-03T17:46:51.942597+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-03T17:46:51.949924+00:00", "type": "pullrequest_comment", "id": 130429810}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130428433.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130428433"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "I see that this is also being [used](#!/ignitionrobotics/ign-launch/pull-requests/45/more-logging-options/diff#Lplugins/gazebo_server/GazeboServer.ccT212) on `ign-launch`, so maybe the `CmdLine` part of it can be misleading. How about calling it something like `LogIgnoreSdfPath`?", "markup": "markdown", "html": "<p>I see that this is also being <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-launch/pull-requests/45/more-logging-options/diff#Lplugins/gazebo_server/GazeboServer.ccT212\" rel=\"nofollow\">used</a> on <code>ign-launch</code>, so maybe the <code>CmdLine</code> part of it can be misleading. How about calling it something like <code>LogIgnoreSdfPath</code>?</p>", "type": "rendered"}, "created_on": "2020-01-03T17:30:47.982356+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-03T17:30:47.991398+00:00", "type": "pullrequest_comment", "id": 130428433}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130427416.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130427416"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "I don't think this should be a warning because the user explicitly set `logOverwrite` to true. How about changing it to `ignmsg`?", "markup": "markdown", "html": "<p>I don't think this should be a warning because the user explicitly set <code>logOverwrite</code> to true. How about changing it to <code>ignmsg</code>?</p>", "type": "rendered"}, "created_on": "2020-01-03T17:19:12.704207+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-03T17:19:12.710643+00:00", "type": "pullrequest_comment", "id": 130427416}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130374764.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130374764"}}, "parent": {"id": 130350550, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130350550.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130350550"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Both fixed in 8fe8011.\n\nFor some reason, the `(` problem was fixed by swapping a `ignmsg` line and the `ignLogInit` line, i.e. creates the directory before printing anything. It makes sense, but I thought that was just optional and not necessary? If things were printed before initialization, they would just not be logged, as opposed to corrupting the console file? Maybe it just needs some kind of flushing? I don\u2019t know.", "markup": "markdown", "html": "<p>Both fixed in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/8fe8011\" rel=\"nofollow\" class=\"ap-connect-link\">8fe8011</a>.</p>\n<p>For some reason, the <code>(</code> problem was fixed by swapping a <code>ignmsg</code> line and the <code>ignLogInit</code> line, i.e. creates the directory before printing anything. It makes sense, but I thought that was just optional and not necessary? If things were printed before initialization, they would just not be logged, as opposed to corrupting the console file? Maybe it just needs some kind of flushing? I don\u2019t know.</p>", "type": "rendered"}, "created_on": "2020-01-03T09:46:18.599329+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2020-01-03T09:46:18.614396+00:00", "type": "pullrequest_comment", "id": 130374764}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "de8a9d885f3e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/de8a9d885f3e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/de8a9d885f3e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "8fe80113d462", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/8fe80113d462.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/8fe80113d462"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2020-01-03T09:43:04.992205+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "de8a9d885f3e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/de8a9d885f3e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/de8a9d885f3e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "fdf83999273c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fdf83999273c.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fdf83999273c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2020-01-03T08:47:42.376062+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}], "next": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/activity_ctx=EjhnXsbSA.json"}