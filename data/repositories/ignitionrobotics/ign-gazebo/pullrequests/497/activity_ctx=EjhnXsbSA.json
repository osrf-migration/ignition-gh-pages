{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130350550.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130350550"}}, "parent": {"id": 130350509, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130350509.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130350509"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Oh and for some reason, when I do `ign gazebo --record`, I do get a `.log` file under `~/.ignition/gazebo/log`, but its only content is `(` - every single time.", "markup": "markdown", "html": "<p>Oh and for some reason, when I do <code>ign gazebo --record</code>, I do get a <code>.log</code> file under <code>~/.ignition/gazebo/log</code>, but its only content is <code>(</code> - every single time.</p>", "type": "rendered"}, "created_on": "2020-01-03T03:01:41.835742+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-01-03T03:01:41.843489+00:00", "type": "pullrequest_comment", "id": 130350550}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130350509.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130350509"}}, "parent": {"id": 130350417, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130350417.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130350417"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Oh I see now that `ignLogInit` is only called if `--record`. For backwards compatibility we should always record that file, regardless of whether we record the state.", "markup": "markdown", "html": "<p>Oh I see now that <code>ignLogInit</code> is only called if <code>--record</code>. For backwards compatibility we should always record that file, regardless of whether we record the state.</p>", "type": "rendered"}, "created_on": "2020-01-03T02:59:54.732916+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-01-03T02:59:54.740219+00:00", "type": "pullrequest_comment", "id": 130350509}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130350417.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130350417"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "I haven't tracked it down yet, but when I just launch `ign gazebo` without recording a state log, I don't see `server_console.log` created under `~/.ignition/gazebo/log`. I'm not sure if it's not being recorded at all, or if it's ending up somewhere else.", "markup": "markdown", "html": "<p>I haven't tracked it down yet, but when I just launch <code>ign gazebo</code> without recording a state log, I don't see <code>server_console.log</code> created under <code>~/.ignition/gazebo/log</code>. I'm not sure if it's not being recorded at all, or if it's ending up somewhere else.</p>", "type": "rendered"}, "created_on": "2020-01-03T02:57:02.446959+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-01-03T02:57:02.453626+00:00", "type": "pullrequest_comment", "id": 130350417}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "de8a9d885f3e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/de8a9d885f3e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/de8a9d885f3e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "4452dcde2378", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/4452dcde2378.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/4452dcde2378"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2020-01-03T02:27:10.316700+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130349272.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130349272"}}, "parent": {"id": 130347191, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130347191.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130347191"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Fixed on pull request #499", "markup": "markdown", "html": "<p>Fixed on <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/499/fix-ign-gazebo-command-line-tool\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #499</a></p>", "type": "rendered"}, "created_on": "2020-01-03T02:13:14.270223+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-03T02:13:14.278810+00:00", "type": "pullrequest_comment", "id": 130349272}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130348644.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130348644"}}, "parent": {"id": 130347665, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130347665.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130347665"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Test fixed in 0f954f8", "markup": "markdown", "html": "<p>Test fixed in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/0f954f8\" rel=\"nofollow\" class=\"ap-connect-link\">0f954f8</a></p>", "type": "rendered"}, "created_on": "2020-01-03T01:46:37.523066+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {}, "updated_on": "2020-01-03T01:46:37.529341+00:00", "type": "pullrequest_comment", "id": 130348644}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130348640.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130348640"}}, "parent": {"id": 130346578, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130346578.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130346578"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "431e979", "markup": "markdown", "html": "<p><a href=\"#!/ignitionrobotics/ign-gazebo/commits/431e979\" rel=\"nofollow\" class=\"ap-connect-link\">431e979</a></p>", "type": "rendered"}, "created_on": "2020-01-03T01:46:28.257664+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {}, "updated_on": "2020-01-03T01:46:28.265688+00:00", "type": "pullrequest_comment", "id": 130348640}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "de8a9d885f3e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/de8a9d885f3e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/de8a9d885f3e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "431e979d8560", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/431e979d8560.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/431e979d8560"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2020-01-03T01:46:17.001852+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130347665.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130347665"}}, "parent": {"id": 130347534, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130347534.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130347534"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "> I was not aware which files represent a deprecated tool\n\nOh yeah things get much easier from Citadel, because the `*main.cc` files were removed on pull request #431 :tada: \n\n> I ran UNIT_ign_TEST on ign-gazebo2, and it does produce the 5 iteration\n\nHumm I haven't tried running those yet, but note that those tests are running the `ign gazebo` command line tool for Linux and the `ign-gazebo` tool for OSX.", "markup": "markdown", "html": "<blockquote>\n<p>I was not aware which files represent a deprecated tool</p>\n</blockquote>\n<p>Oh yeah things get much easier from Citadel, because the <code>*main.cc</code> files were removed on <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/431/citadel-remove-deprecations-mainly-gflags\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #431</a> <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f389.png\" alt=\"\ud83c\udf89\" title=\":tada:\" data-emoji-short-name=\":tada:\" /> </p>\n<blockquote>\n<p>I ran UNIT_ign_TEST on ign-gazebo2, and it does produce the 5 iteration</p>\n</blockquote>\n<p>Humm I haven't tried running those yet, but note that those tests are running the <code>ign gazebo</code> command line tool for Linux and the <code>ign-gazebo</code> tool for OSX.</p>", "type": "rendered"}, "created_on": "2020-01-03T01:10:12.007516+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-03T01:10:12.016822+00:00", "type": "pullrequest_comment", "id": 130347665}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130347534.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130347534"}}, "parent": {"id": 130347445, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130347445.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130347445"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "I ran `UNIT_ign_TEST` on `ign-gazebo2`, and it does produce the 5 `iteration #` string that the test is looking for. In my branch, it just says `Library error: Problem running gazebo from /usr/local/lib/libignition-gazebo2-ign.so.2.13.0.` It seems something is wrong in my branch.\n\nActually I was not aware which files represent a deprecated tool :sweat_smile: I\u2019m okay removing the stuff from all the files associated with that.", "markup": "markdown", "html": "<p>I ran <code>UNIT_ign_TEST</code> on <code>ign-gazebo2</code>, and it does produce the 5 <code>iteration #</code> string that the test is looking for. In my branch, it just says <code>Library error: Problem running gazebo from /usr/local/lib/libignition-gazebo2-ign.so.2.13.0.</code> It seems something is wrong in my branch.</p>\n<p>Actually I was not aware which files represent a deprecated tool <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f605.png\" alt=\"\ud83d\ude05\" title=\":sweat_smile:\" data-emoji-short-name=\":sweat_smile:\" /> I\u2019m okay removing the stuff from all the files associated with that.</p>", "type": "rendered"}, "created_on": "2020-01-03T01:05:10.772855+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {}, "updated_on": "2020-01-03T01:05:10.780666+00:00", "type": "pullrequest_comment", "id": 130347534}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130347445.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130347445"}}, "parent": {"id": 130347374, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130347374.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130347374"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Even `ign-gazebo -v 4 shapes.sdf` is failing on `ign-gazebo2` right now. I think it should at least startup correctly, but since it's a deprecated command line tool, I'm ok leaving the new commands out of here and focusing on `ign.cc`. We just need to make sure this one does the correct default behaviour. What do you think?", "markup": "markdown", "html": "<p>Even <code>ign-gazebo -v 4 shapes.sdf</code> is failing on <code>ign-gazebo2</code> right now. I think it should at least startup correctly, but since it's a deprecated command line tool, I'm ok leaving the new commands out of here and focusing on <code>ign.cc</code>. We just need to make sure this one does the correct default behaviour. What do you think?</p>", "type": "rendered"}, "created_on": "2020-01-03T01:02:02.533766+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-03T01:02:02.541392+00:00", "type": "pullrequest_comment", "id": 130347445}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130347374.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130347374"}}, "parent": {"id": 130347191, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130347191.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130347191"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Thank you! I get a library error when I run `UNIT_ign_TEST`. I double-checked all the command line files that I think I\u2019m supposed to add things to, but I must be missing something.", "markup": "markdown", "html": "<p>Thank you! I get a library error when I run <code>UNIT_ign_TEST</code>. I double-checked all the command line files that I think I\u2019m supposed to add things to, but I must be missing something.</p>", "type": "rendered"}, "created_on": "2020-01-03T00:59:28.426853+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {}, "updated_on": "2020-01-03T00:59:28.433258+00:00", "type": "pullrequest_comment", "id": 130347374}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130347191.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130347191"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "I think this entire file isn't working properly, I'm looking into it", "markup": "markdown", "html": "<p>I think this entire file isn't working properly, I'm looking into it</p>", "type": "rendered"}, "created_on": "2020-01-03T00:53:22.608568+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-03T00:53:22.614029+00:00", "type": "pullrequest_comment", "id": 130347191}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130346578.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130346578"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "Maybe this could be a bit clearer if we explicitly say that files will be overwritten **if** they exist.", "markup": "markdown", "html": "<p>Maybe this could be a bit clearer if we explicitly say that files will be overwritten <strong>if</strong> they exist.</p>", "type": "rendered"}, "created_on": "2020-01-03T00:35:46.916452+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-01-03T00:35:46.922505+00:00", "type": "pullrequest_comment", "id": 130346578}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "a78ad6231b8e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/a78ad6231b8e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/a78ad6231b8e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "7aab0f477dc3", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/7aab0f477dc3.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/7aab0f477dc3"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2019-12-28T10:05:13.704618+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments/130067755.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497/_/diff#comment-130067755"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}, "content": {"raw": "There is an ambiguity exposed in tests 1 and 2 that I think a user would be very confused about.\n\nThe behavior of whether to overwrite is very ambiguous right now. We made the default behavior of the `LogRecord` plugin to overwrite, because it assumes that `ign.cc` takes care of whether to overwrite. However, when `ign.cc` does not take care of that, which happens in the case when no `--record` is specified on the command line, the plugin is specified only in the SDF, then the behavior is to overwrite.\n\nIt means this command \\(the SDF specifies path `/tmp/log`\\)\n\n```\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\n```\n\nwill overwrite if `/tmp/log` already exists, because the record plugin is only specified in SDF, so the log path is initialized in `LogRecord.cc` without going through the recording if-statement in `ign.cc`.\n\nBut this command\n\n```\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/log'\n```\n\nwill not overwrite; it will create a unique path of `/tmp/log(1)` if `/tmp/log` already exists, because `--record-path` will activate the if-statement in `ign.cc` to initialize a `ignLogDirectory()`.\n\nWhile this command\n\n```\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\n```\n\nwill overwrite.\n\nTo the user, the first and second commands should behave the same way. I think what should happen is that the first command should not overwrite. That can be implemented if we do not assume in `LogRecord.cc` that the path is taken care of in `ign.cc`, and revert to the original recorder\u2019s behavior that a unique path be created in `LogRecord.cc`. Now that we have the `--log-overwrite` flag, this makes sense to do. Otherwise in command 1 above, there is no option to not overwrite \\(we do not handle an <overwrite> tag in SDF, because we want `ign.cc` to handle all the overwriting, and there is nothing like `--log-dont-overwrite`\\).", "markup": "markdown", "html": "<p>There is an ambiguity exposed in tests 1 and 2 that I think a user would be very confused about.</p>\n<p>The behavior of whether to overwrite is very ambiguous right now. We made the default behavior of the <code>LogRecord</code> plugin to overwrite, because it assumes that <code>ign.cc</code> takes care of whether to overwrite. However, when <code>ign.cc</code> does not take care of that, which happens in the case when no <code>--record</code> is specified on the command line, the plugin is specified only in the SDF, then the behavior is to overwrite.</p>\n<p>It means this command (the SDF specifies path <code>/tmp/log</code>)</p>\n<div class=\"codehilite\"><pre><span></span>$ ign gazebo -v <span class=\"m\">4</span> -r examples/worlds/log_record_dbl_pendulum.sdf\n</pre></div>\n\n\n<p>will overwrite if <code>/tmp/log</code> already exists, because the record plugin is only specified in SDF, so the log path is initialized in <code>LogRecord.cc</code> without going through the recording if-statement in <code>ign.cc</code>.</p>\n<p>But this command</p>\n<div class=\"codehilite\"><pre><span></span>$ ign gazebo -v <span class=\"m\">4</span> -r examples/worlds/log_record_dbl_pendulum.sdf --record-path <span class=\"s1\">&#39;/tmp/log&#39;</span>\n</pre></div>\n\n\n<p>will not overwrite; it will create a unique path of <code>/tmp/log(1)</code> if <code>/tmp/log</code> already exists, because <code>--record-path</code> will activate the if-statement in <code>ign.cc</code> to initialize a <code>ignLogDirectory()</code>.</p>\n<p>While this command</p>\n<div class=\"codehilite\"><pre><span></span>$ ign gazebo -v <span class=\"m\">4</span> -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path <span class=\"s1\">&#39;/tmp/log&#39;</span>\n</pre></div>\n\n\n<p>will overwrite.</p>\n<p>To the user, the first and second commands should behave the same way. I think what should happen is that the first command should not overwrite. That can be implemented if we do not assume in <code>LogRecord.cc</code> that the path is taken care of in <code>ign.cc</code>, and revert to the original recorder\u2019s behavior that a unique path be created in <code>LogRecord.cc</code>. Now that we have the <code>--log-overwrite</code> flag, this makes sense to do. Otherwise in command 1 above, there is no option to not overwrite (we do not handle an &lt;overwrite&gt; tag in SDF, because we want <code>ign.cc</code> to handle all the overwriting, and there is nothing like <code>--log-dont-overwrite</code>).</p>", "type": "rendered"}, "created_on": "2019-12-28T09:56:21.255907+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2019-12-28T09:58:08.198569+00:00", "type": "pullrequest_comment", "id": 130067755}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "a78ad6231b8e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/a78ad6231b8e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/a78ad6231b8e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "e5d756cccc46", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/e5d756cccc46.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/e5d756cccc46"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2019-12-28T09:52:26.988044+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}, {"update": {"description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "title": "Log record overwrite", "destination": {"commit": {"hash": "a78ad6231b8e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/a78ad6231b8e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/a78ad6231b8e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "e5d756cccc46", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/e5d756cccc46.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/e5d756cccc46"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "state": "OPEN", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "date": "2019-12-28T09:52:26.930189+00:00"}, "pull_request": {"type": "pullrequest", "id": 497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}}, "title": "Log record overwrite"}}]}