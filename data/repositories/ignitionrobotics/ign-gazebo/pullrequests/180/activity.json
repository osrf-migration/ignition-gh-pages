{"pagelen": 50, "values": [{"update": {"description": "We're starting to accumulate flaky tests, especially on homebrew and pipelines. I went through the homebrew ones and tried to improve some of them here.\r\n\r\n---\r\n\r\nI know this is far from a definitive answer, but I ran this branch ~~twice~~ 3 times on homebrew and none of the flaky tests failed. Let's hope my luck is not flaky :sweat_smile: \r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=541)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/541/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=544)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/544/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=547)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/547/)\r\n\r\n---\r\n\r\nThese are all the tests that failed for the latest builds on Jenkins homebrew:\r\n\r\nTest | Status | Comment\r\n-- | -- | --\r\n`NetworkManager/EstablishComms` | **Very flaky**: [failed 3/8 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/junit/(root)/NetworkManager/EstablishComms/history/) | This PR should help\r\n`PeerTracker/Partitioned` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Partitioned/history) | This PR should help\r\n`PeerTracker/Namespaced` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Namespaced/history) | This PR should help\r\n`ServerRepeat_DiffDriveTest` | **Fixed?**: [failed 5/13 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/35/testReport/(root)/ServerRepeat_DiffDriveTest/PublishCmd_0/history/) | All the failures came before the successes though, so it could be fixed. I also looked at it and I don't have ideas on how to improve it.\r\n`INTEGRATION_gpu_lidar` | **Failing**: [failed 1/1 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/(root)/INTEGRATION_gpu_lidar/test_ran/history/) | This doesn't look flaky, it looks like a persistent failure introduced on pull request #131", "title": "Improve some flaky tests (Homebrew)", "destination": {"commit": {"hash": "b1f6ef6b4ba7", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/b1f6ef6b4ba7.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/b1f6ef6b4ba7"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7eea8e21641c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/7eea8e21641c.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/7eea8e21641c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "flakies"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-02-28T00:23:50.883237+00:00"}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"approval": {"date": "2019-02-27T23:33:30.998880+00:00", "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93240747.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93240747"}}, "parent": {"id": 93222962, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93222962.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93222962"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "content": {"raw": "[homebrew](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/618/) is :blue_circle: ", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/618/\" rel=\"nofollow\">homebrew</a> is <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f535.png\" alt=\"\ud83d\udd35\" title=\":blue_circle:\" data-emoji-short-name=\":blue_circle:\" /> </p>", "type": "rendered"}, "created_on": "2019-02-27T23:32:58.351968+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2019-02-27T23:32:58.365285+00:00", "type": "pullrequest_comment", "id": 93240747}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93222962.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93222962"}}, "parent": {"id": 93222543, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93222543.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93222543"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "content": {"raw": "Thanks!\n", "markup": "markdown", "html": "<p>Thanks!</p>", "type": "rendered"}, "created_on": "2019-02-27T20:29:10.231857+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-02-27T20:29:10.241435+00:00", "type": "pullrequest_comment", "id": 93222962}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93222543.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93222543"}}, "parent": {"id": 93060454, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93060454.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93060454"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "content": {"raw": "test disabled. [7eea8e2](#!/ignitionrobotics/ign-gazebo/commits/7eea8e21641c264568ceb4f56cde10bdc209fe76) \n\nticketed issue #14", "markup": "markdown", "html": "<p>test disabled. <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/commits/7eea8e21641c264568ceb4f56cde10bdc209fe76\" rel=\"nofollow\">7eea8e2</a> </p>\n<p>ticketed issue <a href=\"#!/ignitionrobotics/ign-gazebo/issues/14/add-ogre2-support-in-ci\" rel=\"nofollow\" title=\"Add ogre2 support in CI\" class=\"ap-connect-link\">#14</a></p>", "type": "rendered"}, "created_on": "2019-02-27T20:25:42.147427+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2019-02-27T20:25:42.166762+00:00", "type": "pullrequest_comment", "id": 93222543}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"update": {"description": "We're starting to accumulate flaky tests, especially on homebrew and pipelines. I went through the homebrew ones and tried to improve some of them here.\r\n\r\n---\r\n\r\nI know this is far from a definitive answer, but I ran this branch ~~twice~~ 3 times on homebrew and none of the flaky tests failed. Let's hope my luck is not flaky :sweat_smile: \r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=541)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/541/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=544)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/544/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=547)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/547/)\r\n\r\n---\r\n\r\nThese are all the tests that failed for the latest builds on Jenkins homebrew:\r\n\r\nTest | Status | Comment\r\n-- | -- | --\r\n`NetworkManager/EstablishComms` | **Very flaky**: [failed 3/8 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/junit/(root)/NetworkManager/EstablishComms/history/) | This PR should help\r\n`PeerTracker/Partitioned` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Partitioned/history) | This PR should help\r\n`PeerTracker/Namespaced` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Namespaced/history) | This PR should help\r\n`ServerRepeat_DiffDriveTest` | **Fixed?**: [failed 5/13 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/35/testReport/(root)/ServerRepeat_DiffDriveTest/PublishCmd_0/history/) | All the failures came before the successes though, so it could be fixed. I also looked at it and I don't have ideas on how to improve it.\r\n`INTEGRATION_gpu_lidar` | **Failing**: [failed 1/1 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/(root)/INTEGRATION_gpu_lidar/test_ran/history/) | This doesn't look flaky, it looks like a persistent failure introduced on pull request #131", "title": "Improve some flaky tests (Homebrew)", "destination": {"commit": {"hash": "6b8c37ca7765", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/6b8c37ca7765.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/6b8c37ca7765"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7eea8e21641c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/7eea8e21641c.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/7eea8e21641c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "flakies"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2019-02-27T20:23:51.479072+00:00"}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"update": {"description": "We're starting to accumulate flaky tests, especially on homebrew and pipelines. I went through the homebrew ones and tried to improve some of them here.\r\n\r\n---\r\n\r\nI know this is far from a definitive answer, but I ran this branch ~~twice~~ 3 times on homebrew and none of the flaky tests failed. Let's hope my luck is not flaky :sweat_smile: \r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=541)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/541/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=544)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/544/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=547)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/547/)\r\n\r\n---\r\n\r\nThese are all the tests that failed for the latest builds on Jenkins homebrew:\r\n\r\nTest | Status | Comment\r\n-- | -- | --\r\n`NetworkManager/EstablishComms` | **Very flaky**: [failed 3/8 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/junit/(root)/NetworkManager/EstablishComms/history/) | This PR should help\r\n`PeerTracker/Partitioned` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Partitioned/history) | This PR should help\r\n`PeerTracker/Namespaced` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Namespaced/history) | This PR should help\r\n`ServerRepeat_DiffDriveTest` | **Fixed?**: [failed 5/13 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/35/testReport/(root)/ServerRepeat_DiffDriveTest/PublishCmd_0/history/) | All the failures came before the successes though, so it could be fixed. I also looked at it and I don't have ideas on how to improve it.\r\n`INTEGRATION_gpu_lidar` | **Failing**: [failed 1/1 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/(root)/INTEGRATION_gpu_lidar/test_ran/history/) | This doesn't look flaky, it looks like a persistent failure introduced on pull request #131", "title": "Improve some flaky tests (Homebrew)", "destination": {"commit": {"hash": "c1d1a737d4b3", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/c1d1a737d4b3.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/c1d1a737d4b3"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c42bbd4ac5df", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/c42bbd4ac5df.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/c42bbd4ac5df"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "flakies"}}, "state": "OPEN", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2019-02-27T18:11:36.871926+00:00"}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93060454.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93060454"}}, "parent": {"id": 93059853, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93059853.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93059853"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "content": {"raw": "+1 for disabling, we should also ticket an issue not to lose track of it", "markup": "markdown", "html": "<p>+1 for disabling, we should also ticket an issue not to lose track of it</p>", "type": "rendered"}, "created_on": "2019-02-26T22:51:56.868642+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-02-26T22:51:56.882030+00:00", "type": "pullrequest_comment", "id": 93060454}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93059853.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93059853"}}, "parent": {"id": 93046841, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93046841.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93046841"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "content": {"raw": "[new build](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/595) - test is now failing because ogre2 is not installed on homebrew jenkins. Should we disable this test until ogre2 support on homebrew jenkins is ready?", "markup": "markdown", "html": "<p><a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/595\" rel=\"nofollow\">new build</a> - test is now failing because ogre2 is not installed on homebrew jenkins. Should we disable this test until ogre2 support on homebrew jenkins is ready?</p>", "type": "rendered"}, "created_on": "2019-02-26T22:45:35.090233+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2019-02-26T22:45:50.078069+00:00", "type": "pullrequest_comment", "id": 93059853}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93046841.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93046841"}}, "parent": {"id": 93045494, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93045494.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93045494"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "content": {"raw": "updated in [c42bbd4](#!/ignitionrobotics/ign-gazebo/commits/c42bbd4ac5df71ede3114529efce686a4a9f4c9e). Queued new build", "markup": "markdown", "html": "<p>updated in <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/commits/c42bbd4ac5df71ede3114529efce686a4a9f4c9e\" rel=\"nofollow\">c42bbd4</a>. Queued new build</p>", "type": "rendered"}, "created_on": "2019-02-26T20:40:50.293471+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2019-02-26T20:40:50.309310+00:00", "type": "pullrequest_comment", "id": 93046841}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"update": {"description": "We're starting to accumulate flaky tests, especially on homebrew and pipelines. I went through the homebrew ones and tried to improve some of them here.\r\n\r\n---\r\n\r\nI know this is far from a definitive answer, but I ran this branch ~~twice~~ 3 times on homebrew and none of the flaky tests failed. Let's hope my luck is not flaky :sweat_smile: \r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=541)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/541/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=544)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/544/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=547)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/547/)\r\n\r\n---\r\n\r\nThese are all the tests that failed for the latest builds on Jenkins homebrew:\r\n\r\nTest | Status | Comment\r\n-- | -- | --\r\n`NetworkManager/EstablishComms` | **Very flaky**: [failed 3/8 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/junit/(root)/NetworkManager/EstablishComms/history/) | This PR should help\r\n`PeerTracker/Partitioned` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Partitioned/history) | This PR should help\r\n`PeerTracker/Namespaced` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Namespaced/history) | This PR should help\r\n`ServerRepeat_DiffDriveTest` | **Fixed?**: [failed 5/13 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/35/testReport/(root)/ServerRepeat_DiffDriveTest/PublishCmd_0/history/) | All the failures came before the successes though, so it could be fixed. I also looked at it and I don't have ideas on how to improve it.\r\n`INTEGRATION_gpu_lidar` | **Failing**: [failed 1/1 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/(root)/INTEGRATION_gpu_lidar/test_ran/history/) | This doesn't look flaky, it looks like a persistent failure introduced on pull request #131", "title": "Improve some flaky tests (Homebrew)", "destination": {"commit": {"hash": "c1d1a737d4b3", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/c1d1a737d4b3.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/c1d1a737d4b3"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c42bbd4ac5df", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/c42bbd4ac5df.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/c42bbd4ac5df"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "flakies"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2019-02-26T20:32:00.141385+00:00"}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/93045494.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-93045494"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "content": {"raw": "the [test/worlds/gpu\\_lidar\\_sensor.sdf](#!/ignitionrobotics/ign-gazebo/src/c1d1a737d4b3ec0eccdbc7a5f362e319f6159ca7/test/worlds/gpu_lidar_sensor.sdf#lines-19) world is using `ogre` \\(while the [examples/worlds/gpu\\_lidar\\_sensor.sdf](#!/ignitionrobotics/ign-gazebo/pull-requests/131/a-2-add-gpu-ray-sensor-to-ign-gazebo/diff#chg-test/worlds/gpu_lidar_sensor.sdf) is using `ogre2`\\) and there is a [known issue in ign-rendering](#!/ignitionrobotics/ign-rendering/issues/35/ogre1x-gpurays-integration-tests-are) on this. However, I would expect the test to fail and not throw an exception. In any case, once we fix the crash, the test probably won\u2019t pass with ogre1. I think we should change the test world file to use ogre2 and also comment out ign-gui scene plugin in the world file.", "markup": "markdown", "html": "<p>the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/src/c1d1a737d4b3ec0eccdbc7a5f362e319f6159ca7/test/worlds/gpu_lidar_sensor.sdf#lines-19\" rel=\"nofollow\">test/worlds/gpu_lidar_sensor.sdf</a> world is using <code>ogre</code> (while the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/131/a-2-add-gpu-ray-sensor-to-ign-gazebo/diff#chg-test/worlds/gpu_lidar_sensor.sdf\" rel=\"nofollow\">examples/worlds/gpu_lidar_sensor.sdf</a> is using <code>ogre2</code>) and there is a <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/issues/35/ogre1x-gpurays-integration-tests-are\" rel=\"nofollow\">known issue in ign-rendering</a> on this. However, I would expect the test to fail and not throw an exception. In any case, once we fix the crash, the test probably won\u2019t pass with ogre1. I think we should change the test world file to use ogre2 and also comment out ign-gui scene plugin in the world file.</p>", "type": "rendered"}, "created_on": "2019-02-26T20:27:47.414570+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2019-02-26T20:27:47.422685+00:00", "type": "pullrequest_comment", "id": 93045494}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"update": {"description": "We're starting to accumulate flaky tests, especially on homebrew and pipelines. I went through the homebrew ones and tried to improve some of them here.\r\n\r\n---\r\n\r\nI know this is far from a definitive answer, but I ran this branch ~~twice~~ 3 times on homebrew and none of the flaky tests failed. Let's hope my luck is not flaky :sweat_smile: \r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=541)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/541/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=544)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/544/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=547)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/547/)\r\n\r\n---\r\n\r\nThese are all the tests that failed for the latest builds on Jenkins homebrew:\r\n\r\nTest | Status | Comment\r\n-- | -- | --\r\n`NetworkManager/EstablishComms` | **Very flaky**: [failed 3/8 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/junit/(root)/NetworkManager/EstablishComms/history/) | This PR should help\r\n`PeerTracker/Partitioned` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Partitioned/history) | This PR should help\r\n`PeerTracker/Namespaced` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Namespaced/history) | This PR should help\r\n`ServerRepeat_DiffDriveTest` | **Fixed?**: [failed 5/13 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/35/testReport/(root)/ServerRepeat_DiffDriveTest/PublishCmd_0/history/) | All the failures came before the successes though, so it could be fixed. I also looked at it and I don't have ideas on how to improve it.\r\n`INTEGRATION_gpu_lidar` | **Failing**: [failed 1/1 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/(root)/INTEGRATION_gpu_lidar/test_ran/history/) | This doesn't look flaky, it looks like a persistent failure introduced on pull request #131", "title": "Improve some flaky tests (Homebrew)", "destination": {"commit": {"hash": "c1d1a737d4b3", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/c1d1a737d4b3.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/c1d1a737d4b3"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8dc8cfc3880c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/8dc8cfc3880c.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/8dc8cfc3880c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "flakies"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-02-26T18:18:13.372515+00:00"}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"update": {"description": "We're starting to accumulate flaky tests, especially on homebrew and pipelines. I went through the homebrew ones and tried to improve some of them here.\r\n\r\n---\r\n\r\nI know this is far from a definitive answer, but I ran this branch ~~twice~~ 3 times on homebrew and none of the flaky tests failed. Let's hope my luck is not flaky :sweat_smile: \r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=541)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/541/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=544)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/544/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=547)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/547/)\r\n\r\n---\r\n\r\nThese are all the tests that failed for the latest builds on Jenkins homebrew:\r\n\r\nTest | Status | Comment\r\n-- | -- | --\r\n`NetworkManager/EstablishComms` | **Very flaky**: [failed 3/8 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/junit/(root)/NetworkManager/EstablishComms/history/) | This PR should help\r\n`PeerTracker/Partitioned` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Partitioned/history) | This PR should help\r\n`PeerTracker/Namespaced` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Namespaced/history) | This PR should help\r\n`ServerRepeat_DiffDriveTest` | **Fixed?**: [failed 5/13 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/35/testReport/(root)/ServerRepeat_DiffDriveTest/PublishCmd_0/history/) | All the failures came before the successes though, so it could be fixed. I also looked at it and I don't have ideas on how to improve it.\r\n`INTEGRATION_gpu_lidar` | **Failing**: [failed 1/1 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/(root)/INTEGRATION_gpu_lidar/test_ran/history/) | This doesn't look flaky, it looks like a persistent failure introduced on pull request #131", "title": "Improve some flaky tests (Homebrew)", "destination": {"commit": {"hash": "2abb5f7d521a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/2abb5f7d521a.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/2abb5f7d521a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "947122800ee4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/947122800ee4.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/947122800ee4"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "flakies"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-02-22T20:35:08.126900+00:00"}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"update": {"description": "We're starting to accumulate flaky tests, especially on homebrew and pipelines. I went through the homebrew ones and tried to improve some of them here.\r\n\r\n---\r\n\r\nI know this is far from a definitive answer, but I ran this branch ~~twice~~ 3 times on homebrew and none of the flaky tests failed. Let's hope my luck is not flaky :sweat_smile: \r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=541)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/541/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=544)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/544/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=547)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/547/)\r\n\r\n---\r\n\r\nThese are all the tests that failed for the latest builds on Jenkins homebrew:\r\n\r\nTest | Status | Comment\r\n-- | -- | --\r\n`NetworkManager/EstablishComms` | **Very flaky**: [failed 3/8 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/junit/(root)/NetworkManager/EstablishComms/history/) | This PR should help\r\n`PeerTracker/Partitioned` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Partitioned/history) | This PR should help\r\n`PeerTracker/Namespaced` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Namespaced/history) | This PR should help\r\n`ServerRepeat_DiffDriveTest` | **Fixed?**: [failed 5/13 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/35/testReport/(root)/ServerRepeat_DiffDriveTest/PublishCmd_0/history/) | All the failures came before the successes though, so it could be fixed. I also looked at it and I don't have ideas on how to improve it.\r\n`INTEGRATION_gpu_lidar` | **Failing**: [failed 1/1 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/(root)/INTEGRATION_gpu_lidar/test_ran/history/) | This doesn't look flaky, it looks like a persistent failure introduced on pull request #131", "title": "Improve some flaky tests (Homebrew)", "destination": {"commit": {"hash": "dba828e5d39d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/dba828e5d39d.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/dba828e5d39d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "847686582429", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/847686582429.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/847686582429"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "flakies"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-02-22T18:02:37.633269+00:00"}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/92662286.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-92662286"}}, "parent": {"id": 92648082, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/92648082.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-92648082"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "content": {"raw": "Decreased: 8476865", "markup": "markdown", "html": "<p>Decreased: <a href=\"#!/ignitionrobotics/ign-gazebo/commits/8476865\" rel=\"nofollow\" class=\"ap-connect-link\">8476865</a></p>", "type": "rendered"}, "created_on": "2019-02-22T18:00:55.972887+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2019-02-22T18:00:55.984035+00:00", "type": "pullrequest_comment", "id": 92662286}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/92662279.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-92662279"}}, "parent": {"id": 92648067, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/92648067.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-92648067"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "content": {"raw": "Decreased: 8476865", "markup": "markdown", "html": "<p>Decreased: <a href=\"#!/ignitionrobotics/ign-gazebo/commits/8476865\" rel=\"nofollow\" class=\"ap-connect-link\">8476865</a></p>", "type": "rendered"}, "created_on": "2019-02-22T18:00:52.196924+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2019-02-22T18:00:52.206049+00:00", "type": "pullrequest_comment", "id": 92662279}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"update": {"description": "We're starting to accumulate flaky tests, especially on homebrew and pipelines. I went through the homebrew ones and tried to improve some of them here.\r\n\r\n---\r\n\r\nI know this is far from a definitive answer, but I ran this branch twice on homebrew and none of the flaky tests failed. Let's hope my luck is not flaky :sweat_smile: \r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=541)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/541/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=544)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/544/)\r\n\r\n---\r\n\r\nThese are all the tests that failed for the latest builds on Jenkins homebrew:\r\n\r\nTest | Status | Comment\r\n-- | -- | --\r\n`NetworkManager/EstablishComms` | **Very flaky**: [failed 3/8 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/junit/(root)/NetworkManager/EstablishComms/history/) | This PR should help\r\n`PeerTracker/Partitioned` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Partitioned/history) | This PR should help\r\n`PeerTracker/Namespaced` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Namespaced/history) | This PR should help\r\n`ServerRepeat_DiffDriveTest` | **Fixed?**: [failed 5/13 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/35/testReport/(root)/ServerRepeat_DiffDriveTest/PublishCmd_0/history/) | All the failures came before the successes though, so it could be fixed. I also looked at it and I don't have ideas on how to improve it.\r\n`INTEGRATION_gpu_lidar` | **Failing**: [failed 1/1 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/(root)/INTEGRATION_gpu_lidar/test_ran/history/) | This doesn't look flaky, it looks like a persistent failure introduced on pull request #131", "title": "Improve some flaky tests (Homebrew)", "destination": {"commit": {"hash": "dba828e5d39d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/dba828e5d39d.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/dba828e5d39d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "847686582429", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/847686582429.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/847686582429"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "flakies"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-02-22T18:00:16.858337+00:00"}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/92648237.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-92648237"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "content": {"raw": "Some of the PeerTracker flakes should be additionally cleaned up by my distsim infrastructure PR.  I made it so that peers will immediately send an additional heartbeat when they detect that a new peer has joined.", "markup": "markdown", "html": "<p>Some of the PeerTracker flakes should be additionally cleaned up by my distsim infrastructure PR.  I made it so that peers will immediately send an additional heartbeat when they detect that a new peer has joined.</p>", "type": "rendered"}, "created_on": "2019-02-22T16:09:16.812452+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "updated_on": "2019-02-22T16:09:16.824106+00:00", "type": "pullrequest_comment", "id": 92648237}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/92648082.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-92648082"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "content": {"raw": "Same here.", "markup": "markdown", "html": "<p>Same here.</p>", "type": "rendered"}, "created_on": "2019-02-22T16:08:12.354794+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {}, "updated_on": "2019-02-22T16:08:12.373646+00:00", "type": "pullrequest_comment", "id": 92648082}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180/comments/92648067.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180/_/diff#comment-92648067"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}, "content": {"raw": "Given this loop, we can probably crank the sleep time down a little bit. The default heartbeat should be 100 ms, which is why the number was chosen above.", "markup": "markdown", "html": "<p>Given this loop, we can probably crank the sleep time down a little bit. The default heartbeat should be 100 ms, which is why the number was chosen above.</p>", "type": "rendered"}, "created_on": "2019-02-22T16:08:05.994080+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {}, "updated_on": "2019-02-22T16:08:06.022742+00:00", "type": "pullrequest_comment", "id": 92648067}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"update": {"description": "We're starting to accumulate flaky tests, especially on homebrew and pipelines. I went through the homebrew ones and tried to improve some of them here.\r\n\r\n---\r\n\r\nI know this is far from a definitive answer, but I ran this branch twice on homebrew and none of the flaky tests failed. Let's hope my luck is not flaky :sweat_smile: \r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=541)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/541/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=544)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/544/)\r\n\r\n---\r\n\r\nThese are all the tests that failed for the latest builds on Jenkins homebrew:\r\n\r\nTest | Status | Comment\r\n-- | -- | --\r\n`NetworkManager/EstablishComms` | **Very flaky**: [failed 3/8 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/junit/(root)/NetworkManager/EstablishComms/history/) | This PR should help\r\n`PeerTracker/Partitioned` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Partitioned/history) | This PR should help\r\n`PeerTracker/Namespaced` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Namespaced/history) | This PR should help\r\n`ServerRepeat_DiffDriveTest` | **Fixed?**: [failed 5/13 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/35/testReport/(root)/ServerRepeat_DiffDriveTest/PublishCmd_0/history/) | All the failures came before the successes though, so it could be fixed. I also looked at it and I don't have ideas on how to improve it.\r\n`INTEGRATION_gpu_lidar` | **Failing**: [failed 1/1 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/(root)/INTEGRATION_gpu_lidar/test_ran/history/) | This doesn't look flaky, it looks like a persistent failure introduced on pull request #131", "title": "Improve some flaky tests (Homebrew)", "destination": {"commit": {"hash": "dba828e5d39d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/dba828e5d39d.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/dba828e5d39d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "580ee192850b", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/580ee192850b.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/580ee192850b"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "flakies"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-02-22T02:43:42.545582+00:00"}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}, {"update": {"description": "We're starting to accumulate flaky tests, especially on homebrew and pipelines. I went through the homebrew ones and tried to improve some of them here.\r\n\r\n---\r\n\r\nI know this is far from a definitive answer, but I ran this branch twice on homebrew and none of the flaky tests failed. Let's hope my luck is not flaky :sweat_smile: \r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=541)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/541/)\r\n\r\n[![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-homebrew-amd64&build=544)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-homebrew-amd64/544/)\r\n\r\n---\r\n\r\nThese are all the tests that failed for the latest builds on Jenkins homebrew:\r\n\r\nTest | Status | Comment\r\n-- | -- | --\r\n`NetworkManager/EstablishComms` | **Very flaky**: [failed 3/8 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/junit/(root)/NetworkManager/EstablishComms/history/) | This PR should help\r\n`PeerTracker/Partitioned` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Partitioned/history) | This PR should help\r\n`PeerTracker/Namespaced` | **A bit flaky**: [failed 1/12 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/42/testReport/junit/(root)/PeerTracker/Namespaced/history) | This PR should help\r\n`ServerRepeat_DiffDriveTest` | **Fixed?**: [failed 5/13 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/35/testReport/(root)/ServerRepeat_DiffDriveTest/PublishCmd_0/history/) | All the failures came before the successes though, so it could be fixed. I also looked at it and I don't have ideas on how to improve it.\r\n`INTEGRATION_gpu_lidar` | **Failing**: [failed 1/1 last builds](https://build.osrfoundation.org/job/ignition_gazebo-ci-default-homebrew-amd64/46/testReport/(root)/INTEGRATION_gpu_lidar/test_ran/history/) | This doesn't look flaky, it looks like a persistent failure introduced on pull request #131", "title": "Improve some flaky tests (Homebrew)", "destination": {"commit": {"hash": "dba828e5d39d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/dba828e5d39d.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/dba828e5d39d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "580ee192850b", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/580ee192850b.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/580ee192850b"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "flakies"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-02-22T02:43:42.505276+00:00"}, "pull_request": {"type": "pullrequest", "id": 180, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/180.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/180"}}, "title": "Improve some flaky tests (Homebrew)"}}]}