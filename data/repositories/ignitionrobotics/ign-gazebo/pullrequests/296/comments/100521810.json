{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/296/comments/100521810.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/296/_/diff#comment-100521810"}}, "parent": {"id": 100516816, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/296/comments/100516816.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/296/_/diff#comment-100516816"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 296, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/296.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/296"}}, "title": "Ign tool"}, "content": {"raw": "`OptionParser` supports positional arguments, so the implementation is straight forward. This worked for me:\n\n~~~\ndiff -r 92d094429e5a src/cmd/cmdgazebo.rb.in                                    \n--- a/src/cmd/cmdgazebo.rb.in   Mon Apr 29 16:47:28 2019 -0700                   \n+++ b/src/cmd/cmdgazebo.rb.in   Tue Apr 30 12:53:00 2019 -0700 \n@@ -221,6 +219,11 @@\n \n     opt_parser.parse!(args)\n \n+    filename = args.pop\n+    if filename and filename != 'gazebo'\n+      options['file'] = filename\n+    end\n+\n     options['command'] = args[0]\n \n     options\n~~~\n\n\nI think the bigger question is whether we want to do it. After several months using ign-gazebo, I vote for the change. I forget to add `-f` way too often, and opening a file by passing it directly is more in line with how other applications work.", "markup": "markdown", "html": "<p><code>OptionParser</code> supports positional arguments, so the implementation is straight forward. This worked for me:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 92d094429e5a src/cmd/cmdgazebo.rb.in                                    </span>\n<span class=\"gd\">--- a/src/cmd/cmdgazebo.rb.in   Mon Apr 29 16:47:28 2019 -0700                   </span>\n<span class=\"gi\">+++ b/src/cmd/cmdgazebo.rb.in   Tue Apr 30 12:53:00 2019 -0700 </span>\n<span class=\"gu\">@@ -221,6 +219,11 @@</span>\n\n     opt_parser.parse!(args)\n\n<span class=\"gi\">+    filename = args.pop</span>\n<span class=\"gi\">+    if filename and filename != &#39;gazebo&#39;</span>\n<span class=\"gi\">+      options[&#39;file&#39;] = filename</span>\n<span class=\"gi\">+    end</span>\n<span class=\"gi\">+</span>\n     options[&#39;command&#39;] = args[0]\n\n     options\n</pre></div>\n\n\n<p>I think the bigger question is whether we want to do it. After several months using ign-gazebo, I vote for the change. I forget to add <code>-f</code> way too often, and opening a file by passing it directly is more in line with how other applications work.</p>", "type": "rendered"}, "created_on": "2019-04-30T20:00:32.543404+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-04-30T20:00:32.554390+00:00", "type": "pullrequest_comment", "id": 100521810}