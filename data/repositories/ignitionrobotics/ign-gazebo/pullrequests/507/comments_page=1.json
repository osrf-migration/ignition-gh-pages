{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/133128378.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-133128378"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Current issue is line 111 `this->dataPtr->engine = rendering::engine(engineName);`, this function tries to create engine when one is already loaded by `scene3d`. All the grid config features are implemented and should work, if the code manages to run without hitting this error:\n\n```shell\nruby: /build/ogre-1.9-B6QkmW/ogre-1.9-1.9.0+dfsg1/OgreMain/include/OgreSingleton.h:80: \nOgre::Singleton<T>::Singleton() [with T = Ogre::LogManager]: Assertion `!msSingleton' failed.\n```\n\n\u200c", "markup": "markdown", "html": "<p>Current issue is line 111 <code>this-&gt;dataPtr-&gt;engine = rendering::engine(engineName);</code>, this function tries to create engine when one is already loaded by <code>scene3d</code>. All the grid config features are implemented and should work, if the code manages to run without hitting this error:</p>\n<div class=\"codehilite language-shell\"><pre><span></span>ruby: /build/ogre-1.9-B6QkmW/ogre-1.9-1.9.0+dfsg1/OgreMain/include/OgreSingleton.h:80: \nOgre::Singleton&lt;T&gt;::Singleton<span class=\"o\">()</span> <span class=\"o\">[</span>with <span class=\"nv\">T</span> <span class=\"o\">=</span> Ogre::LogManager<span class=\"o\">]</span>: Assertion <span class=\"sb\">`</span>!msSingleton<span class=\"err\">&#39;</span> failed.\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2020-01-25T02:17:02.204753+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-01-25T02:17:02.214716+00:00", "type": "pullrequest_comment", "id": 133128378}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/133540075.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-133540075"}}, "parent": {"id": 133128378, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/133128378.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-133128378"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "That turned out to be a timing issue. If you increase the timer interval to `1000`, it's harder to reproduce the issue, because `Scane3D` has time to initialize the engine before `GridConfig` tries to access it. I solved the problem by adding a mutex to the render engine interface on the [ign-rendering PR](#!/ignitionrobotics/ign-rendering/pull-requests/233/).", "markup": "markdown", "html": "<p>That turned out to be a timing issue. If you increase the timer interval to <code>1000</code>, it's harder to reproduce the issue, because <code>Scane3D</code> has time to initialize the engine before <code>GridConfig</code> tries to access it. I solved the problem by adding a mutex to the render engine interface on the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-rendering/pull-requests/233/\" rel=\"nofollow\">ign-rendering PR</a>.</p>", "type": "rendered"}, "created_on": "2020-01-29T03:55:42.944199+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-01-29T03:55:42.950533+00:00", "type": "pullrequest_comment", "id": 133540075}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/133692573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-133692573"}}, "parent": {"id": 133540075, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/133540075.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-133540075"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Great to know! I\u2019ll revise this PR accordingly and test it out with the ign-rendering update. Thanks for looking into it!", "markup": "markdown", "html": "<p>Great to know! I\u2019ll revise this PR accordingly and test it out with the ign-rendering update. Thanks for looking into it!</p>", "type": "rendered"}, "created_on": "2020-01-29T19:07:58.239318+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-01-29T19:07:58.247530+00:00", "type": "pullrequest_comment", "id": 133692573}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/133538349.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:475876e4f395..f74c9c69f385?path=src%2Fgui%2Fplugins%2FCMakeLists.txt"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-133538349"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Adding this here means that every `ign-gazebo` GUI plugin will link against `ign-rendering`, even if not necessary. Changing it to this would make only the new plugin link against it:\n\n```\ndiff -r 475876e4f395 src/gui/plugins/CMakeLists.txt\n--- a/src/gui/plugins/CMakeLists.txt    Fri Jan 24 18:10:33 2020 -0800\n+++ b/src/gui/plugins/CMakeLists.txt    Tue Jan 28 19:18:29 2020 -0800\n@@ -34,7 +34,6 @@\n   target_link_libraries(${library_name}\n     PUBLIC\n       ${PROJECT_LIBRARY_TARGET_NAME}\n-      ${IGNITION-RENDERING_LIBRARIES}\n       TINYXML2::TINYXML2\n       ${gz_add_gui_library_PUBLIC_LINK_LIBS}\n     PRIVATE\ndiff -r 475876e4f395 src/gui/plugins/grid_config/CMakeLists.txt\n--- a/src/gui/plugins/grid_config/CMakeLists.txt        Fri Jan 24 18:10:33 2020 -0800\n+++ b/src/gui/plugins/grid_config/CMakeLists.txt        Tue Jan 28 19:18:29 2020 -0800\n@@ -1,4 +1,8 @@\n gz_add_gui_plugin(GridConfig\n-  SOURCES GridConfig.cc\n-  QT_HEADERS GridConfig.hh\n+  SOURCES\n+    GridConfig.cc\n+  QT_HEADERS\n+     GridConfig.hh\n+  PUBLIC_LINK_LIBS\n+    ${IGNITION-RENDERING_LIBRARIES}\n )\n```", "markup": "markdown", "html": "<p>Adding this here means that every <code>ign-gazebo</code> GUI plugin will link against <code>ign-rendering</code>, even if not necessary. Changing it to this would make only the new plugin link against it:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 475876e4f395 src/gui/plugins/CMakeLists.txt</span>\n<span class=\"gd\">--- a/src/gui/plugins/CMakeLists.txt    Fri Jan 24 18:10:33 2020 -0800</span>\n<span class=\"gi\">+++ b/src/gui/plugins/CMakeLists.txt    Tue Jan 28 19:18:29 2020 -0800</span>\n<span class=\"gu\">@@ -34,7 +34,6 @@</span>\n   target_link_libraries(${library_name}\n     PUBLIC\n       ${PROJECT_LIBRARY_TARGET_NAME}\n<span class=\"gd\">-      ${IGNITION-RENDERING_LIBRARIES}</span>\n       TINYXML2::TINYXML2\n       ${gz_add_gui_library_PUBLIC_LINK_LIBS}\n     PRIVATE\n<span class=\"gh\">diff -r 475876e4f395 src/gui/plugins/grid_config/CMakeLists.txt</span>\n<span class=\"gd\">--- a/src/gui/plugins/grid_config/CMakeLists.txt        Fri Jan 24 18:10:33 2020 -0800</span>\n<span class=\"gi\">+++ b/src/gui/plugins/grid_config/CMakeLists.txt        Tue Jan 28 19:18:29 2020 -0800</span>\n<span class=\"gu\">@@ -1,4 +1,8 @@</span>\n gz_add_gui_plugin(GridConfig\n<span class=\"gd\">-  SOURCES GridConfig.cc</span>\n<span class=\"gd\">-  QT_HEADERS GridConfig.hh</span>\n<span class=\"gi\">+  SOURCES</span>\n<span class=\"gi\">+    GridConfig.cc</span>\n<span class=\"gi\">+  QT_HEADERS</span>\n<span class=\"gi\">+     GridConfig.hh</span>\n<span class=\"gi\">+  PUBLIC_LINK_LIBS</span>\n<span class=\"gi\">+    ${IGNITION-RENDERING_LIBRARIES}</span>\n )\n</pre></div>", "type": "rendered"}, "created_on": "2020-01-29T03:18:49.638493+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 37, "from": null, "path": "src/gui/plugins/CMakeLists.txt"}, "updated_on": "2020-01-29T03:18:49.644048+00:00", "type": "pullrequest_comment", "id": 133538349}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/133540100.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:475876e4f395..f74c9c69f385?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-133540100"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "These debug statements can be removed", "markup": "markdown", "html": "<p>These debug statements can be removed</p>", "type": "rendered"}, "created_on": "2020-01-29T03:56:11.764008+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 110, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.cc"}, "updated_on": "2020-01-29T03:56:11.770738+00:00", "type": "pullrequest_comment", "id": 133540100}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/133540255.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:475876e4f395..f74c9c69f385?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-133540255"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "If I hide the grid and then show it, gazebo is crashing. What do you think of setting the visual invisible instead of destroying the grid to avoid this kind of problem? I think you can do something like:\n\n~~~\n  auto visual = this->dataPtr->grid->Parent();\n  if (visual)\n    visual->SetVisible(_checked);\n~~~", "markup": "markdown", "html": "<p>If I hide the grid and then show it, gazebo is crashing. What do you think of setting the visual invisible instead of destroying the grid to avoid this kind of problem? I think you can do something like:</p>\n<div class=\"codehilite\"><pre><span></span>  auto visual = this-&gt;dataPtr-&gt;grid-&gt;Parent();\n  if (visual)\n    visual-&gt;SetVisible(_checked);\n</pre></div>", "type": "rendered"}, "created_on": "2020-01-29T03:59:51.928056+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 250, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.cc"}, "updated_on": "2020-01-29T03:59:51.934657+00:00", "type": "pullrequest_comment", "id": 133540255}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/133734248.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-133734248"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Problem resolved. Use timer to search engine and scene worked nicely. The grid gui should be functioning without crashing now.", "markup": "markdown", "html": "<p>Problem resolved. Use timer to search engine and scene worked nicely. The grid gui should be functioning without crashing now.</p>", "type": "rendered"}, "created_on": "2020-01-30T02:45:52.907630+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-01-30T02:47:01.111189+00:00", "type": "pullrequest_comment", "id": 133734248}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/134308438.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-134308438"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "@{5d3f35705e485d0dab01c896} , I pushed a few tweaks in  0dac116:\n\n* `ShowGrid` -> `CreateGrid`\n* Also check `if (!scene->IsInitialized() || scene->VisualCount() == 0)` before stopping timer\n* Allow negative numbers on the pose.\n\nI'm still looking into the create grid threading issue.", "markup": "markdown", "html": "<p><span class=\"ap-mention\" data-atlassian-id=\"5d3f35705e485d0dab01c896\">@Claire Wang</span> , I pushed a few tweaks in  <a href=\"#!/ignitionrobotics/ign-gazebo/commits/0dac116\" rel=\"nofollow\" class=\"ap-connect-link\">0dac116</a>:</p>\n<ul>\n<li><code>ShowGrid</code> -&gt; <code>CreateGrid</code></li>\n<li>Also check <code>if (!scene-&gt;IsInitialized() || scene-&gt;VisualCount() == 0)</code> before stopping timer</li>\n<li>Allow negative numbers on the pose.</li>\n</ul>\n<p>I'm still looking into the create grid threading issue.</p>", "type": "rendered"}, "created_on": "2020-02-04T02:06:00.328522+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-02-04T02:06:00.338165+00:00", "type": "pullrequest_comment", "id": 134308438}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/134314666.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-134314666"}}, "parent": {"id": 134308438, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/134308438.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-134308438"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "@{5d3f35705e485d0dab01c896} , take a look at 96e41c1 and let me know what you think. That commit introduces a `Render` event, which is emitted by `IgnRenderer`, and runs in the `RenderThread`. I moved all Ignition Rendering calls to that callback and now I get no more crashes. That also removes the need for a timer, because the render event is already called periodically, and in fact, we know that if we're getting an event it means that the 3D scene has already been created.\n\nNote that `GuiEvents.hh` is also being added on pull request #515 and pull request #493, so there will be some conflicts depending on which gets merged first.\n\nCC @{iche033} ", "markup": "markdown", "html": "<p><span class=\"ap-mention\" data-atlassian-id=\"5d3f35705e485d0dab01c896\">@Claire Wang</span> , take a look at <a href=\"#!/ignitionrobotics/ign-gazebo/commits/96e41c1\" rel=\"nofollow\" class=\"ap-connect-link\">96e41c1</a> and let me know what you think. That commit introduces a <code>Render</code> event, which is emitted by <code>IgnRenderer</code>, and runs in the <code>RenderThread</code>. I moved all Ignition Rendering calls to that callback and now I get no more crashes. That also removes the need for a timer, because the render event is already called periodically, and in fact, we know that if we're getting an event it means that the 3D scene has already been created.</p>\n<p>Note that <code>GuiEvents.hh</code> is also being added on <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/515/highlight-selected-entities\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #515</a> and <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/493/add-custom-user-snapping\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #493</a>, so there will be some conflicts depending on which gets merged first.</p>\n<p>CC <span class=\"ap-mention\" data-atlassian-id=\"557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5\">@Ian Chen</span> </p>", "type": "rendered"}, "created_on": "2020-02-04T04:04:43.095167+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-02-04T04:04:43.112499+00:00", "type": "pullrequest_comment", "id": 134314666}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/134495217.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-134495217"}}, "parent": {"id": 134314666, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/134314666.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-134314666"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "I\u2019m testing the committed changes. I observed a slightly longer \\(~2s\\) \"black window\u201c time in the start up when scene is getting generated. I experienced one crash which trace back to\n\n```shell\n/home/claire/blueprint_ws/install/lib/ign-gazebo-2/plugins/gui/libGzScene3D.so(_ZN8ignition6gazebo2v212RenderThread8ShutDownEv+0x2e) \n[0x7f46dccaa6be] /home/claire/blueprint_ws/src/ign-gazebo/src/gui/plugins/scene3d/Scene3D.cc:1005\n```\n\n```c++\nvoid RenderThread::ShutDown()\n{\n  this->context->makeCurrent(this->surface);\n\n  this->ignRenderer.Destroy();\n\n  this->context->doneCurrent(); // Scene3D.cc: 1005, error traceback line\n  delete this->context;\n\n  // schedule this to be deleted only after we're done cleaning up\n  this->surface->deleteLater();\n\n  // Stop event processing, move the thread to GUI and make sure it is deleted.\n  this->moveToThread(QGuiApplication::instance()->thread());\n}\n```\n\nand one `mutex` related error message after closing the GUI window.\n\n```\nruby: /usr/include/boost/thread/pthread/recursive_mutex.hpp:113: \nvoid boost::recursive_mutex::lock(): Assertion `!pthread_mutex_lock(&m)' failed.\n```\n\nThe above errors are happening no matter if grid is enabled and disabled in sdf file.\n\nHowever, if the grid is not set in the sdf file \\(no <grid>\\). Grid is enabled by default. Another error pops up and seems to be related to threading.\n\n```shell\n/home/claire/blueprint_ws/install/lib/ign-gazebo-2/plugins/gui/libGzScene3D.so(_ZN8ignition6gazebo2v212RenderThread8ShutDownEv+0x55) \n[0x7fee214ab6e5] /home/claire/blueprint_ws/src/ign-gazebo/src/gui/plugins/scene3d/Scene3D.cc:1012\n```\n\n```c++\nvoid RenderThread::ShutDown()\n{\n  this->context->makeCurrent(this->surface);\n\n  this->ignRenderer.Destroy();\n\n  this->context->doneCurrent();\n  delete this->context;\n\n  // schedule this to be deleted only after we're done cleaning up\n  this->surface->deleteLater();\n\n  // Stop event processing, move the thread to GUI and make sure it is deleted.\n  this->moveToThread(QGuiApplication::instance()->thread()); // Scene3D.cc: 1012, error traceback line \n}\n```\n\n\u200c", "markup": "markdown", "html": "<p>I\u2019m testing the committed changes. I observed a slightly longer (~2s) \"black window\u201c time in the start up when scene is getting generated. I experienced one crash which trace back to</p>\n<div class=\"codehilite language-shell\"><pre><span></span>/home/claire/blueprint_ws/install/lib/ign-gazebo-2/plugins/gui/libGzScene3D.so<span class=\"o\">(</span>_ZN8ignition6gazebo2v212RenderThread8ShutDownEv+0x2e<span class=\"o\">)</span> \n<span class=\"o\">[</span>0x7f46dccaa6be<span class=\"o\">]</span> /home/claire/blueprint_ws/src/ign-gazebo/src/gui/plugins/scene3d/Scene3D.cc:1005\n</pre></div>\n\n\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"kt\">void</span> <span class=\"n\">RenderThread</span><span class=\"o\">::</span><span class=\"n\">ShutDown</span><span class=\"p\">()</span>\n<span class=\"p\">{</span>\n  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">context</span><span class=\"o\">-&gt;</span><span class=\"n\">makeCurrent</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">surface</span><span class=\"p\">);</span>\n\n  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">ignRenderer</span><span class=\"p\">.</span><span class=\"n\">Destroy</span><span class=\"p\">();</span>\n\n  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">context</span><span class=\"o\">-&gt;</span><span class=\"n\">doneCurrent</span><span class=\"p\">();</span> <span class=\"c1\">// Scene3D.cc: 1005, error traceback line</span>\n  <span class=\"k\">delete</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">context</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// schedule this to be deleted only after we&#39;re done cleaning up</span>\n  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">surface</span><span class=\"o\">-&gt;</span><span class=\"n\">deleteLater</span><span class=\"p\">();</span>\n\n  <span class=\"c1\">// Stop event processing, move the thread to GUI and make sure it is deleted.</span>\n  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">moveToThread</span><span class=\"p\">(</span><span class=\"n\">QGuiApplication</span><span class=\"o\">::</span><span class=\"n\">instance</span><span class=\"p\">()</span><span class=\"o\">-&gt;</span><span class=\"kr\">thread</span><span class=\"p\">());</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>and one <code>mutex</code> related error message after closing the GUI window.</p>\n<div class=\"codehilite\"><pre><span></span>ruby: /usr/include/boost/thread/pthread/recursive_mutex.hpp:113: \nvoid boost::recursive_mutex::lock(): Assertion `!pthread_mutex_lock(&amp;m)&#39; failed.\n</pre></div>\n\n\n<p>The above errors are happening no matter if grid is enabled and disabled in sdf file.</p>\n<p>However, if the grid is not set in the sdf file (no &lt;grid&gt;). Grid is enabled by default. Another error pops up and seems to be related to threading.</p>\n<div class=\"codehilite language-shell\"><pre><span></span>/home/claire/blueprint_ws/install/lib/ign-gazebo-2/plugins/gui/libGzScene3D.so<span class=\"o\">(</span>_ZN8ignition6gazebo2v212RenderThread8ShutDownEv+0x55<span class=\"o\">)</span> \n<span class=\"o\">[</span>0x7fee214ab6e5<span class=\"o\">]</span> /home/claire/blueprint_ws/src/ign-gazebo/src/gui/plugins/scene3d/Scene3D.cc:1012\n</pre></div>\n\n\n<div class=\"codehilite language-c++\"><pre><span></span><span class=\"kt\">void</span> <span class=\"n\">RenderThread</span><span class=\"o\">::</span><span class=\"n\">ShutDown</span><span class=\"p\">()</span>\n<span class=\"p\">{</span>\n  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">context</span><span class=\"o\">-&gt;</span><span class=\"n\">makeCurrent</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">surface</span><span class=\"p\">);</span>\n\n  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">ignRenderer</span><span class=\"p\">.</span><span class=\"n\">Destroy</span><span class=\"p\">();</span>\n\n  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">context</span><span class=\"o\">-&gt;</span><span class=\"n\">doneCurrent</span><span class=\"p\">();</span>\n  <span class=\"k\">delete</span> <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">context</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// schedule this to be deleted only after we&#39;re done cleaning up</span>\n  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">surface</span><span class=\"o\">-&gt;</span><span class=\"n\">deleteLater</span><span class=\"p\">();</span>\n\n  <span class=\"c1\">// Stop event processing, move the thread to GUI and make sure it is deleted.</span>\n  <span class=\"k\">this</span><span class=\"o\">-&gt;</span><span class=\"n\">moveToThread</span><span class=\"p\">(</span><span class=\"n\">QGuiApplication</span><span class=\"o\">::</span><span class=\"n\">instance</span><span class=\"p\">()</span><span class=\"o\">-&gt;</span><span class=\"kr\">thread</span><span class=\"p\">());</span> <span class=\"c1\">// Scene3D.cc: 1012, error traceback line </span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2020-02-04T22:20:51.622659+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-02-05T00:09:02.897473+00:00", "type": "pullrequest_comment", "id": 134495217}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/134508733.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-134508733"}}, "parent": {"id": 134495217, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/134495217.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-134495217"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Thanks for testing! I'm trying to reproduce those.\n\n>  I observed a slightly longer (~2s) \"black window\u201c time in the start up when scene is getting generated\n\nWhat world were you loading? And is the entire window black, or just the 3D scene?\n\n> I experienced one crash which trace back to\n\nDo you remember how you got there? I'm not being able to reproduce.\n\n> one mutex related error message after closing the GUI window.\n\nI feel like I've seen this before. Next time it happens, can you try checking which line in our code gets to that? It could be one of the new mutexes, but it could also be an old one.", "markup": "markdown", "html": "<p>Thanks for testing! I'm trying to reproduce those.</p>\n<blockquote>\n<p>I observed a slightly longer (~2s) \"black window\u201c time in the start up when scene is getting generated</p>\n</blockquote>\n<p>What world were you loading? And is the entire window black, or just the 3D scene?</p>\n<blockquote>\n<p>I experienced one crash which trace back to</p>\n</blockquote>\n<p>Do you remember how you got there? I'm not being able to reproduce.</p>\n<blockquote>\n<p>one mutex related error message after closing the GUI window.</p>\n</blockquote>\n<p>I feel like I've seen this before. Next time it happens, can you try checking which line in our code gets to that? It could be one of the new mutexes, but it could also be an old one.</p>", "type": "rendered"}, "created_on": "2020-02-05T01:15:54.695408+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-02-05T01:15:54.702191+00:00", "type": "pullrequest_comment", "id": 134508733}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/134511129.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-134511129"}}, "parent": {"id": 134508733, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/134508733.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-134508733"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "I pushed a fix to a couple of crashes in 66b2a77, but I think they were different from the ones you're getting :sweat_smile: ", "markup": "markdown", "html": "<p>I pushed a fix to a couple of crashes in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/66b2a77\" rel=\"nofollow\" class=\"ap-connect-link\">66b2a77</a>, but I think they were different from the ones you're getting <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f605.png\" alt=\"\ud83d\ude05\" title=\":sweat_smile:\" data-emoji-short-name=\":sweat_smile:\" /> </p>", "type": "rendered"}, "created_on": "2020-02-05T02:01:23.327215+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-02-05T02:01:23.337670+00:00", "type": "pullrequest_comment", "id": 134511129}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/134511278.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-134511278"}}, "parent": {"id": 134511129, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/134511129.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-134511129"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "very likely. Im getting different crashes from previous ones too. I\u2019ll continue testing and debugging tomorrow. ", "markup": "markdown", "html": "<p>very likely. Im getting different crashes from previous ones too. I\u2019ll continue testing and debugging tomorrow. </p>", "type": "rendered"}, "created_on": "2020-02-05T02:04:12.487276+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-02-05T02:04:12.495985+00:00", "type": "pullrequest_comment", "id": 134511278}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136653899.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136653899"}}, "parent": {"id": 134495217, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/134495217.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-134495217"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Aside from the above two crashes related to `renderthread shutdown` , I also got another seg fault while updating `gridptr` related features. This seg fault shuts down the grid simulation window and interferes with the grid update process.\n\n```\nThread 18 \"ignition::gazeb\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fff97597700 (LWP 8513)]\n0x00007ffff170fdf0 in QObject::thread() const ()\n   from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5\n\n/usr/lib/x86_64-linux-gnu/libQt5Core.so.5(0x7ffff170fdf0) [0x7ffff170fdf0]\n/home/claire/blueprint_ws/install/lib/ign-gazebo-2/plugins/gui/libGzScene3D.so(_ZN8ignition6gazebo2v212RenderThread8ShutDownEv+0x55) [0x7fffac59f455]\n/home/claire/blueprint_ws/src/ign-gazebo/src/gui/plugins/scene3d/Scene3D.cc:1253\n/usr/lib/x86_64-linux-gnu/libQt5Core.so.5(_ZN7QObject5eventEP6QEvent+0xe2) [0x7ffff17130c2]\n```\n\nRelated code block\n\n```\n/////////////////////////////////////////////////\nvoid RenderThread::ShutDown()\n{\n  this->context->makeCurrent(this->surface);\n\n  this->ignRenderer.Destroy();\n\n  this->context->doneCurrent();\n  delete this->context;\n\n  // schedule this to be deleted only after we're done cleaning up\n  this->surface->deleteLater();\n\n  // Stop event processing, move the thread to GUI and make sure it is deleted.\n  this->moveToThread(QGuiApplication::instance()->thread()); // seg fault backtrace line\n}\n```\n\n\u200c", "markup": "markdown", "html": "<p>Aside from the above two crashes related to <code>renderthread shutdown</code> , I also got another seg fault while updating <code>gridptr</code> related features. This seg fault shuts down the grid simulation window and interferes with the grid update process.</p>\n<div class=\"codehilite\"><pre><span></span>Thread 18 &quot;ignition::gazeb&quot; received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fff97597700 (LWP 8513)]\n0x00007ffff170fdf0 in QObject::thread() const ()\n   from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5\n\n/usr/lib/x86_64-linux-gnu/libQt5Core.so.5(0x7ffff170fdf0) [0x7ffff170fdf0]\n/home/claire/blueprint_ws/install/lib/ign-gazebo-2/plugins/gui/libGzScene3D.so(_ZN8ignition6gazebo2v212RenderThread8ShutDownEv+0x55) [0x7fffac59f455]\n/home/claire/blueprint_ws/src/ign-gazebo/src/gui/plugins/scene3d/Scene3D.cc:1253\n/usr/lib/x86_64-linux-gnu/libQt5Core.so.5(_ZN7QObject5eventEP6QEvent+0xe2) [0x7ffff17130c2]\n</pre></div>\n\n\n<p>Related code block</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">/////////////////////////////////////////////////</span>\n<span class=\"nt\">void</span> <span class=\"nt\">RenderThread</span><span class=\"p\">::</span><span class=\"nd\">ShutDown</span><span class=\"o\">()</span>\n<span class=\"p\">{</span>\n  <span class=\"err\">this-&gt;context-&gt;makeCurrent(this-&gt;surface)</span><span class=\"p\">;</span>\n\n  <span class=\"err\">this-&gt;ignRenderer.Destroy()</span><span class=\"p\">;</span>\n\n  <span class=\"err\">this-&gt;context-&gt;doneCurrent()</span><span class=\"p\">;</span>\n  <span class=\"err\">delete</span> <span class=\"err\">this-&gt;context</span><span class=\"p\">;</span>\n\n  <span class=\"err\">//</span> <span class=\"err\">schedule</span> <span class=\"err\">this</span> <span class=\"err\">to</span> <span class=\"err\">be</span> <span class=\"err\">deleted</span> <span class=\"err\">only</span> <span class=\"err\">after</span> <span class=\"err\">we&#39;re</span> <span class=\"err\">done</span> <span class=\"err\">cleaning</span> <span class=\"err\">up</span>\n  <span class=\"err\">this-&gt;surface-&gt;deleteLater()</span><span class=\"p\">;</span>\n\n  <span class=\"err\">//</span> <span class=\"err\">Stop</span> <span class=\"err\">event</span> <span class=\"err\">processing,</span> <span class=\"err\">move</span> <span class=\"err\">the</span> <span class=\"err\">thread</span> <span class=\"err\">to</span> <span class=\"err\">GUI</span> <span class=\"err\">and</span> <span class=\"err\">make</span> <span class=\"err\">sure</span> <span class=\"err\">it</span> <span class=\"err\">is</span> <span class=\"err\">deleted.</span>\n  <span class=\"err\">this-&gt;moveToThread(</span><span class=\"n\">QGuiApplication</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"nf\">instance</span><span class=\"p\">()</span><span class=\"o\">-&gt;</span><span class=\"nf\">thread</span><span class=\"p\">());</span> <span class=\"err\">//</span> <span class=\"err\">seg</span> <span class=\"err\">fault</span> <span class=\"err\">backtrace</span> <span class=\"err\">line</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2020-02-19T18:53:33.701666+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-02-19T18:55:20.117884+00:00", "type": "pullrequest_comment", "id": 136653899}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136058174.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136058174"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "I did receive an error upon shutdown: \n\n```\nruby: /usr/include/boost/thread/pthread/recursive_mutex.hpp:113: void boost::recursive_mutex::lock(): Assertion `!pthread_mutex_lock(&m)' failed.\n```\n\nthat I haven\u2019t yet seen before.  Unfortunately I wasn\u2019t in debug so I didn\u2019t get a stacktrace but will continue trying to replicate the error.", "markup": "markdown", "html": "<p>I did receive an error upon shutdown: </p>\n<div class=\"codehilite\"><pre><span></span>ruby: /usr/include/boost/thread/pthread/recursive_mutex.hpp:113: void boost::recursive_mutex::lock(): Assertion `!pthread_mutex_lock(&amp;m)&#39; failed.\n</pre></div>\n\n\n<p>that I haven\u2019t yet seen before.  Unfortunately I wasn\u2019t in debug so I didn\u2019t get a stacktrace but will continue trying to replicate the error.</p>", "type": "rendered"}, "created_on": "2020-02-14T20:43:38.523708+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "updated_on": "2020-02-14T20:43:38.530585+00:00", "type": "pullrequest_comment", "id": 136058174}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136059551.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136059551"}}, "parent": {"id": 136058174, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136058174.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136058174"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Thanks, that's helpful", "markup": "markdown", "html": "<p>Thanks, that's helpful</p>", "type": "rendered"}, "created_on": "2020-02-14T20:57:20.419190+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-02-14T20:57:20.428870+00:00", "type": "pullrequest_comment", "id": 136059551}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136063915.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136063915"}}, "parent": {"id": 136059551, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136059551.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136059551"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "I think that error is introduced by this branch, that being said, ignition already seg faults on shutdown half of the time anyway so\u2026:sweat_smile: I also noticed something that might be related when running in gdb:\n\n```\n[New Thread 0x7fff71ffe700 (LWP 31651)]\n[New Thread 0x7fff717fd700 (LWP 31652)]\n[Thread 0x7fff717fd700 (LWP 31652) exited]\n[Thread 0x7fff71ffe700 (LWP 31651) exited]\n```\n\nWhen the GridConfig plugin is loaded in, threads are created and two of them exit quickly after being created. This might warrant some extra observation.", "markup": "markdown", "html": "<p>I think that error is introduced by this branch, that being said, ignition already seg faults on shutdown half of the time anyway so\u2026<img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f605.png\" alt=\"\ud83d\ude05\" title=\":sweat_smile:\" data-emoji-short-name=\":sweat_smile:\" /> I also noticed something that might be related when running in gdb:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">[New Thread 0x7fff71ffe700 (LWP 31651)]</span>\n<span class=\"k\">[New Thread 0x7fff717fd700 (LWP 31652)]</span>\n<span class=\"k\">[Thread 0x7fff717fd700 (LWP 31652) exited]</span>\n<span class=\"k\">[Thread 0x7fff71ffe700 (LWP 31651) exited]</span>\n</pre></div>\n\n\n<p>When the GridConfig plugin is loaded in, threads are created and two of them exit quickly after being created. This might warrant some extra observation.</p>", "type": "rendered"}, "created_on": "2020-02-14T21:46:23.015492+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "updated_on": "2020-02-14T21:46:56.364952+00:00", "type": "pullrequest_comment", "id": 136063915}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136064106.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136064106"}}, "parent": {"id": 136063915, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136063915.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136063915"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Thanks for looking into it! I withdrew my approval for now until we gather more info on the crashes.", "markup": "markdown", "html": "<p>Thanks for looking into it! I withdrew my approval for now until we gather more info on the crashes.</p>", "type": "rendered"}, "created_on": "2020-02-14T21:49:00.183145+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-02-14T21:49:00.192787+00:00", "type": "pullrequest_comment", "id": 136064106}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136653493.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136653493"}}, "parent": {"id": 136058174, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136058174.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136058174"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "I was able to reproduce the same `mutex` error by making multiple rapid changes to `cell`related properties like `count`and `length` . I also observed two consecutive threads being created and exiting with no updates made to the grid. One thing worth noting is that this `mutex` fail only shows up upon closing the window and does not interfere with grid update process. \n\n```\nruby: /usr/include/boost/thread/pthread/recursive_mutex.hpp:113: void boost::recursive_mutex::lock(): Assertion `!pthread_mutex_lock(&m)' failed.\n\nThread 18 \"ignition::gazeb\" received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fff87fff700 (LWP 18225)]\n__GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51\n51    ../sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n```\n\n\u200c", "markup": "markdown", "html": "<p>I was able to reproduce the same <code>mutex</code> error by making multiple rapid changes to <code>cell</code>related properties like <code>count</code>and <code>length</code> . I also observed two consecutive threads being created and exiting with no updates made to the grid. One thing worth noting is that this <code>mutex</code> fail only shows up upon closing the window and does not interfere with grid update process. </p>\n<div class=\"codehilite\"><pre><span></span>ruby: /usr/include/boost/thread/pthread/recursive_mutex.hpp:113: void boost::recursive_mutex::lock(): Assertion `!pthread_mutex_lock(&amp;m)&#39; failed.\n\nThread 18 &quot;ignition::gazeb&quot; received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fff87fff700 (LWP 18225)]\n__GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51\n51    ../sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2020-02-19T18:50:27.665583+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-02-19T18:52:31.961250+00:00", "type": "pullrequest_comment", "id": 136653493}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136678544.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136678544"}}, "parent": {"id": 136653493, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136653493.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136653493"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "The boost thread error must be coming from within Ogre 1, because Ignition doesn't use boost. I was able to catch a backtrace, it seems to be a problem destroying materials (at least this time):\n\n~~~\nThread 13 \"ignition::gazeb\" received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fffa37ff700 (LWP 10554)]\n__GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51\n51      ../sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff7571e97 in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51\n#1  0x00007ffff7573801 in __GI_abort () at abort.c:79\n#2  0x00007ffff756339a in __assert_fail_base (fmt=0x7ffff76ea7d8 \"%s%s%s:%u: %s%sAssertion `%s' failed.\\n%n\", assertion=assertion@entry=0x7fffa2881078 \"!pthread_mutex_lock(&m)\", file=file@entry=0x7fffa2881028 \"/usr/include/boost/thread/pthread/recursive_mutex.hpp\", line=line@entry=113, function=function@entry=0x7fffa28b78e0 \"void boost::recursive_mutex::lock()\") at assert.c:92\n#3  0x00007ffff7563412 in __GI___assert_fail (assertion=0x7fffa2881078 \"!pthread_mutex_lock(&m)\", file=0x7fffa2881028 \"/usr/include/boost/thread/pthread/recursive_mutex.hpp\", line=113, function=0x7fffa28b78e0 \"void boost::recursive_mutex::lock()\") at assert.c:101\n#4  0x00007fffa26f404b in Ogre::Pass::_dirtyHash() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#5  0x00007fffa26f4f04 in Ogre::Pass::removeAllTextureUnitStates() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#6  0x00007fffa26f5c37 in Ogre::Pass::queueForDeletion() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#7  0x00007fffa2836a54 in Ogre::Technique::removeAllPasses() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#8  0x00007fffa283acec in Ogre::Technique::~Technique() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#9  0x00007fffa2674ad0 in Ogre::Material::removeAllTechniques() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#10 0x00007fffa2674b37 in Ogre::Material::~Material() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#11 0x00007fffa2674bc9 in Ogre::Material::~Material() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#12 0x00007fffa2ce339e in Ogre::SharedPtr<Ogre::Material>::destroy() (this=0x7fff64ff4de8, this=0x7fff64ff4de8) at /usr/include/OGRE/OgreMemoryNedPooling.h:77\n#13 0x00007fffa2ce339e in Ogre::SharedPtr<Ogre::Material>::release() (this=0x7fff64ff4de8) at /usr/include/OGRE/OgreSharedPtr.h:292\n#14 0x00007fffa2ce339e in Ogre::SharedPtr<Ogre::Material>::setNull() (this=0x7fff64ff4de8) at /usr/include/OGRE/OgreSharedPtr.h:280\n#15 0x00007fffa2ce339e in ignition::rendering::v2::OgreMaterial::Destroy() (this=0x7fff64ff4d60) at /home/chapulina/blueprint_ws/src/ign-rendering/ogre/src/OgreMaterial.cc:53\n#16 0x00007fffa2ce339e in ignition::rendering::v2::OgreMaterial::Destroy() (this=0x7fff64ff4d60) at /home/chapulina/blueprint_ws/src/ign-rendering/ogre/src/OgreMaterial.cc:43\n#17 0x00007fffbc44eb8a in ignition::rendering::v2::BaseScene::DestroyMaterials() (this=0x7fff981ac180) at /usr/include/c++/8/bits/shared_ptr_base.h:1018\n#18 0x00007fffbc44b2a0 in ignition::rendering::v2::BaseScene::Clear() (this=0x7fff981ac180) at /home/chapulina/blueprint_ws/src/ign-rendering/src/base/BaseScene.cc:1031\n#19 0x00007fffbc44b2cd in ignition::rendering::v2::BaseScene::Destroy() (this=this@entry=0x7fff981ac180)\n    at /home/chapulina/blueprint_ws/src/ign-rendering/src/base/BaseScene.cc:1039\n#20 0x00007fffa2d16159 in ignition::rendering::v2::OgreScene::Destroy() (this=0x7fff981ac180) at /home/chapulina/blueprint_ws/src/ign-rendering/ogre/src/OgreScene.cc:288\n#21 0x00007fffa2cf154d in ignition::rendering::v2::BaseStore<ignition::rendering::v2::Scene, ignition::rendering::v2::OgreScene>::DestroyImpl(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::shared_ptr<ignition::rendering::v2::OgreScene> > >) (this=<optimized out>, _iter=...) at /home/chapulina/blueprint_ws/src/ign-rendering/include/ignition/rendering/base/BaseStorage.hh:953\n#22 0x00007fffa2cf3000 in ignition::rendering::v2::BaseStore<ignition::rendering::v2::Scene, ignition::rendering::v2::OgreScene>::Destroy(std::shared_ptr<ignition::rendering::v2::Scene>) (this=0x7fff981bdc50, _object=...) at /usr/include/c++/8/bits/shared_ptr_base.h:1167\n#23 0x00007fffbc449e76 in ignition::rendering::v2::BaseRenderEngine::DestroyScene(std::shared_ptr<ignition::rendering::v2::Scene>) (this=<optimized out>, _scene=\n    std::shared_ptr<ignition::rendering::v2::Scene> (use count 12392, weak count 1) = {...}) at /usr/include/c++/8/ext/atomicity.h:96\n#24 0x00007fffbc90f38c in ignition::gazebo::v2::IgnRenderer::Destroy() (this=0x555556e00130) at /usr/include/c++/8/ext/atomicity.h:96\n#25 0x00007fffbc90f435 in ignition::gazebo::v2::RenderThread::ShutDown() (this=0x555556e00110)\n    at /home/chapulina/blueprint_ws/src/ign-gazebo/src/gui/plugins/scene3d/Scene3D.cc:1244\n~~~", "markup": "markdown", "html": "<p>The boost thread error must be coming from within Ogre 1, because Ignition doesn't use boost. I was able to catch a backtrace, it seems to be a problem destroying materials (at least this time):</p>\n<div class=\"codehilite\"><pre><span></span>Thread 13 &quot;ignition::gazeb&quot; received signal SIGABRT, Aborted.\n[Switching to Thread 0x7fffa37ff700 (LWP 10554)]\n__GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51\n51      ../sysdeps/unix/sysv/linux/raise.c: No such file or directory.\n(gdb) bt\n#0  0x00007ffff7571e97 in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51\n#1  0x00007ffff7573801 in __GI_abort () at abort.c:79\n#2  0x00007ffff756339a in __assert_fail_base (fmt=0x7ffff76ea7d8 &quot;%s%s%s:%u: %s%sAssertion `%s&#39; failed.\\n%n&quot;, assertion=assertion@entry=0x7fffa2881078 &quot;!pthread_mutex_lock(&amp;m)&quot;, file=file@entry=0x7fffa2881028 &quot;/usr/include/boost/thread/pthread/recursive_mutex.hpp&quot;, line=line@entry=113, function=function@entry=0x7fffa28b78e0 &quot;void boost::recursive_mutex::lock()&quot;) at assert.c:92\n#3  0x00007ffff7563412 in __GI___assert_fail (assertion=0x7fffa2881078 &quot;!pthread_mutex_lock(&amp;m)&quot;, file=0x7fffa2881028 &quot;/usr/include/boost/thread/pthread/recursive_mutex.hpp&quot;, line=113, function=0x7fffa28b78e0 &quot;void boost::recursive_mutex::lock()&quot;) at assert.c:101\n#4  0x00007fffa26f404b in Ogre::Pass::_dirtyHash() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#5  0x00007fffa26f4f04 in Ogre::Pass::removeAllTextureUnitStates() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#6  0x00007fffa26f5c37 in Ogre::Pass::queueForDeletion() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#7  0x00007fffa2836a54 in Ogre::Technique::removeAllPasses() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#8  0x00007fffa283acec in Ogre::Technique::~Technique() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#9  0x00007fffa2674ad0 in Ogre::Material::removeAllTechniques() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#10 0x00007fffa2674b37 in Ogre::Material::~Material() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#11 0x00007fffa2674bc9 in Ogre::Material::~Material() () at /usr/lib/x86_64-linux-gnu/libOgreMain.so.1.9.0\n#12 0x00007fffa2ce339e in Ogre::SharedPtr&lt;Ogre::Material&gt;::destroy() (this=0x7fff64ff4de8, this=0x7fff64ff4de8) at /usr/include/OGRE/OgreMemoryNedPooling.h:77\n#13 0x00007fffa2ce339e in Ogre::SharedPtr&lt;Ogre::Material&gt;::release() (this=0x7fff64ff4de8) at /usr/include/OGRE/OgreSharedPtr.h:292\n#14 0x00007fffa2ce339e in Ogre::SharedPtr&lt;Ogre::Material&gt;::setNull() (this=0x7fff64ff4de8) at /usr/include/OGRE/OgreSharedPtr.h:280\n#15 0x00007fffa2ce339e in ignition::rendering::v2::OgreMaterial::Destroy() (this=0x7fff64ff4d60) at /home/chapulina/blueprint_ws/src/ign-rendering/ogre/src/OgreMaterial.cc:53\n#16 0x00007fffa2ce339e in ignition::rendering::v2::OgreMaterial::Destroy() (this=0x7fff64ff4d60) at /home/chapulina/blueprint_ws/src/ign-rendering/ogre/src/OgreMaterial.cc:43\n#17 0x00007fffbc44eb8a in ignition::rendering::v2::BaseScene::DestroyMaterials() (this=0x7fff981ac180) at /usr/include/c++/8/bits/shared_ptr_base.h:1018\n#18 0x00007fffbc44b2a0 in ignition::rendering::v2::BaseScene::Clear() (this=0x7fff981ac180) at /home/chapulina/blueprint_ws/src/ign-rendering/src/base/BaseScene.cc:1031\n#19 0x00007fffbc44b2cd in ignition::rendering::v2::BaseScene::Destroy() (this=this@entry=0x7fff981ac180)\n    at /home/chapulina/blueprint_ws/src/ign-rendering/src/base/BaseScene.cc:1039\n#20 0x00007fffa2d16159 in ignition::rendering::v2::OgreScene::Destroy() (this=0x7fff981ac180) at /home/chapulina/blueprint_ws/src/ign-rendering/ogre/src/OgreScene.cc:288\n#21 0x00007fffa2cf154d in ignition::rendering::v2::BaseStore&lt;ignition::rendering::v2::Scene, ignition::rendering::v2::OgreScene&gt;::DestroyImpl(std::_Rb_tree_iterator&lt;std::pair&lt;std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const, std::shared_ptr&lt;ignition::rendering::v2::OgreScene&gt; &gt; &gt;) (this=&lt;optimized out&gt;, _iter=...) at /home/chapulina/blueprint_ws/src/ign-rendering/include/ignition/rendering/base/BaseStorage.hh:953\n#22 0x00007fffa2cf3000 in ignition::rendering::v2::BaseStore&lt;ignition::rendering::v2::Scene, ignition::rendering::v2::OgreScene&gt;::Destroy(std::shared_ptr&lt;ignition::rendering::v2::Scene&gt;) (this=0x7fff981bdc50, _object=...) at /usr/include/c++/8/bits/shared_ptr_base.h:1167\n#23 0x00007fffbc449e76 in ignition::rendering::v2::BaseRenderEngine::DestroyScene(std::shared_ptr&lt;ignition::rendering::v2::Scene&gt;) (this=&lt;optimized out&gt;, _scene=\n    std::shared_ptr&lt;ignition::rendering::v2::Scene&gt; (use count 12392, weak count 1) = {...}) at /usr/include/c++/8/ext/atomicity.h:96\n#24 0x00007fffbc90f38c in ignition::gazebo::v2::IgnRenderer::Destroy() (this=0x555556e00130) at /usr/include/c++/8/ext/atomicity.h:96\n#25 0x00007fffbc90f435 in ignition::gazebo::v2::RenderThread::ShutDown() (this=0x555556e00110)\n    at /home/chapulina/blueprint_ws/src/ign-gazebo/src/gui/plugins/scene3d/Scene3D.cc:1244\n</pre></div>", "type": "rendered"}, "created_on": "2020-02-19T22:07:49.975203+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-02-19T22:07:49.983594+00:00", "type": "pullrequest_comment", "id": 136678544}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136058604.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136058604"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "I wasn\u2019t able to get this plugin working by loading it into anything other than `grid.sdf`, is this intended behavior or am I missing a step?", "markup": "markdown", "html": "<p>I wasn\u2019t able to get this plugin working by loading it into anything other than <code>grid.sdf</code>, is this intended behavior or am I missing a step?</p>", "type": "rendered"}, "created_on": "2020-02-14T20:48:23.372382+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "updated_on": "2020-02-14T20:48:33.285064+00:00", "type": "pullrequest_comment", "id": 136058604}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136059572.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136059572"}}, "parent": {"id": 136058604, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136058604.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136058604"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "It should work on any world using Ogre 1", "markup": "markdown", "html": "<p>It should work on any world using Ogre 1</p>", "type": "rendered"}, "created_on": "2020-02-14T20:57:32.152579+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-02-14T20:57:32.161885+00:00", "type": "pullrequest_comment", "id": 136059572}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136060328.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136060328"}}, "parent": {"id": 136059572, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136059572.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136059572"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "![](data/bitbucket.org/repo/8zodKzn/images/2615408287-grid2.gif)\nThis is what I see when I load it in", "markup": "markdown", "html": "<p><img alt=\"\" src=\"data/bitbucket.org/repo/8zodKzn/images/2615408287-grid2.gif\" />\nThis is what I see when I load it in</p>", "type": "rendered"}, "created_on": "2020-02-14T21:05:11.125221+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "updated_on": "2020-02-14T21:05:11.132290+00:00", "type": "pullrequest_comment", "id": 136060328}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136061423.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136061423"}}, "parent": {"id": 136060328, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136060328.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136060328"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Sorry, that\u2019s ogre2:sweat_smile: - you can disregard what I said", "markup": "markdown", "html": "<p>Sorry, that\u2019s ogre2<img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f605.png\" alt=\"\ud83d\ude05\" title=\":sweat_smile:\" data-emoji-short-name=\":sweat_smile:\" /> - you can disregard what I said</p>", "type": "rendered"}, "created_on": "2020-02-14T21:17:51.752757+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "updated_on": "2020-02-14T21:18:01.554928+00:00", "type": "pullrequest_comment", "id": 136061423}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136060032.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:0f0a48828f90..fa6cde757d2a?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.qml"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136060032"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "I think the min height might need to be increased, it\u2019s cutting off at color on my laptop when I load the plugin into various different scenes", "markup": "markdown", "html": "<p>I think the min height might need to be increased, it\u2019s cutting off at color on my laptop when I load the plugin into various different scenes</p>", "type": "rendered"}, "created_on": "2020-02-14T21:02:06.112064+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "inline": {"to": 27, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.qml"}, "updated_on": "2020-02-14T21:25:36.596112+00:00", "type": "pullrequest_comment", "id": 136060032}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136467525.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:0f0a48828f90..fa6cde757d2a?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.qml"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136467525"}}, "parent": {"id": 136060032, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136060032.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136060032"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "as per our offline discussion, the min height displays everything in the plugin, user just needs to use the scroll bar or manually enlarge the window to see all the loaded plugins.", "markup": "markdown", "html": "<p>as per our offline discussion, the min height displays everything in the plugin, user just needs to use the scroll bar or manually enlarge the window to see all the loaded plugins.</p>", "type": "rendered"}, "created_on": "2020-02-18T21:34:06.622369+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "inline": {"to": 27, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.qml"}, "updated_on": "2020-02-18T21:34:06.640042+00:00", "type": "pullrequest_comment", "id": 136467525}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136060894.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:0f0a48828f90..fa6cde757d2a?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136060894"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "I feel like this might be better named `UpdateHCellCount` and naming `UpdateVerCellCount` to `UpdateVCellCount` .  Something about `hon` being the shortened version of `horizontal` isn\u2019t quite intuitive to me - I\u2019ll leave it to your discretion though.", "markup": "markdown", "html": "<p>I feel like this might be better named <code>UpdateHCellCount</code> and naming <code>UpdateVerCellCount</code> to <code>UpdateVCellCount</code> .  Something about <code>hon</code> being the shortened version of <code>horizontal</code> isn\u2019t quite intuitive to me - I\u2019ll leave it to your discretion though.</p>", "type": "rendered"}, "created_on": "2020-02-14T21:11:38.414726+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "inline": {"to": 248, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.cc"}, "updated_on": "2020-02-14T21:11:38.421799+00:00", "type": "pullrequest_comment", "id": 136060894}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136060945.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:0f0a48828f90..fa6cde757d2a?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136060945"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Same as above note.", "markup": "markdown", "html": "<p>Same as above note.</p>", "type": "rendered"}, "created_on": "2020-02-14T21:12:02.225847+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "inline": {"to": 250, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.cc"}, "updated_on": "2020-02-14T21:12:02.232855+00:00", "type": "pullrequest_comment", "id": 136060945}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136061761.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:0f0a48828f90..fa6cde757d2a?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136061761"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "nit: maybe have x, y, and z on the first line and r, p, and y on the second", "markup": "markdown", "html": "<p>nit: maybe have x, y, and z on the first line and r, p, and y on the second</p>", "type": "rendered"}, "created_on": "2020-02-14T21:22:04.046821+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "inline": {"to": 262, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.cc"}, "updated_on": "2020-02-14T21:22:04.051983+00:00", "type": "pullrequest_comment", "id": 136061761}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136061812.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:0f0a48828f90..fa6cde757d2a?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136061812"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "docs for the param\\[in\\]'s", "markup": "markdown", "html": "<p>docs for the param[in]'s</p>", "type": "rendered"}, "created_on": "2020-02-14T21:22:40.756516+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "inline": {"to": 65, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.hh"}, "updated_on": "2020-02-14T21:22:40.763012+00:00", "type": "pullrequest_comment", "id": 136061812}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136061836.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:0f0a48828f90..fa6cde757d2a?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136061836"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "docs for the param\\[in\\]'s", "markup": "markdown", "html": "<p>docs for the param[in]'s</p>", "type": "rendered"}, "created_on": "2020-02-14T21:22:53.849195+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "inline": {"to": 68, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.hh"}, "updated_on": "2020-02-14T21:22:53.858661+00:00", "type": "pullrequest_comment", "id": 136061836}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136061895.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:0f0a48828f90..fa6cde757d2a?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136061895"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "nit: rename `_c` to `_cellCount`", "markup": "markdown", "html": "<p>nit: rename <code>_c</code> to <code>_cellCount</code></p>", "type": "rendered"}, "created_on": "2020-02-14T21:23:36.085965+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "inline": {"to": 54, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.hh"}, "updated_on": "2020-02-14T21:23:36.098063+00:00", "type": "pullrequest_comment", "id": 136061895}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136061925.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:0f0a48828f90..fa6cde757d2a?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136061925"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "nit: rename `_l` to `_length`", "markup": "markdown", "html": "<p>nit: rename <code>_l</code> to <code>_length</code></p>", "type": "rendered"}, "created_on": "2020-02-14T21:23:51.837526+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "inline": {"to": 62, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.hh"}, "updated_on": "2020-02-14T21:23:51.845382+00:00", "type": "pullrequest_comment", "id": 136061925}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136061950.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:0f0a48828f90..fa6cde757d2a?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136061950"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "nit: rename `_c` to `_cellCount`", "markup": "markdown", "html": "<p>nit: rename <code>_c</code> to <code>_cellCount</code></p>", "type": "rendered"}, "created_on": "2020-02-14T21:24:04.267774+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "inline": {"to": 58, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.hh"}, "updated_on": "2020-02-14T21:24:04.273064+00:00", "type": "pullrequest_comment", "id": 136061950}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136062458.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:0f0a48828f90..fa6cde757d2a?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.qml"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136062458"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "I think all the spin boxes might need an intuitive `maximumValue`  The current max seems to be 99 for all of them \u2192 x, y, z, cell length, horizontal and vertical cell count.  Maybe x, y, and z can go up to \\+1000 since their minimums are -1000.", "markup": "markdown", "html": "<p>I think all the spin boxes might need an intuitive <code>maximumValue</code>  The current max seems to be 99 for all of them \u2192 x, y, z, cell length, horizontal and vertical cell count.  Maybe x, y, and z can go up to +1000 since their minimums are -1000.</p>", "type": "rendered"}, "created_on": "2020-02-14T21:30:04.579219+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "inline": {"to": 123, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.qml"}, "updated_on": "2020-02-14T21:30:04.585495+00:00", "type": "pullrequest_comment", "id": 136062458}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136063637.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136063637"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Works well for me!  I left a few comments.  One thing that we could also think about is preferencing degrees over radians for the RPY inputs, we went this direction for the snap RPY values as they are more user intuitive so I think it might be better to stay consistent across plugins, but I could see the use case for both rads and degrees.", "markup": "markdown", "html": "<p>Works well for me!  I left a few comments.  One thing that we could also think about is preferencing degrees over radians for the RPY inputs, we went this direction for the snap RPY values as they are more user intuitive so I think it might be better to stay consistent across plugins, but I could see the use case for both rads and degrees.</p>", "type": "rendered"}, "created_on": "2020-02-14T21:43:10.597318+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "updated_on": "2020-02-14T21:43:10.603759+00:00", "type": "pullrequest_comment", "id": 136063637}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136678161.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:321384f95df0..59c416e799a6?path=src%2Fgui%2Fplugins%2Fgrid_config%2FGridConfig.qml"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136678161"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Some notes about the UI:\n\n* I'd remove the `/` from the units, i.e. `Position (m)`\n* Put the field name in front of the spin box, not on top of it (that's more common)", "markup": "markdown", "html": "<p>Some notes about the UI:</p>\n<ul>\n<li>I'd remove the <code>/</code> from the units, i.e. <code>Position (m)</code></li>\n<li>Put the field name in front of the spin box, not on top of it (that's more common)</li>\n</ul>", "type": "rendered"}, "created_on": "2020-02-19T22:04:13.325613+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "src/gui/plugins/grid_config/GridConfig.qml"}, "updated_on": "2020-02-19T22:04:13.334175+00:00", "type": "pullrequest_comment", "id": 136678161}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136682266.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136682266"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Thank you @jshep1 and @{5d3f35705e485d0dab01c896} for documenting all the crashes. I've been playing with this for 1 hour and:\n\n* Got no runtime crashes\n* Got 4 different types of crashes during shutdown. Most times the program shuts down cleanly though.\n* Shutdown crashes seem to happen more often when shutting down the GUI with `Ctrl+C` inside GDB.\n* Out of my 4 crashes, I can reproduce at least 2 of them on the `ign-gazebo2` branch, so they're not related by this PR.\n* One of the crashes is the boost thread one listed above. I could only reproduce it a single time, so it's tough to debug.\n* The other 3 crashes are documented [here](https://gist.github.com/chapulina/ea514bb682172c27dfcec70e7c563ce9).\n* I wasn't able to get any crashes pointing at the `this->moveToThread` line\n\nGiven all that, I'm inclined to get this in so we can unblock other PRs. We should keep an eye on these crashes though. What do the 2 of you think?", "markup": "markdown", "html": "<p>Thank you @jshep1 and <span class=\"ap-mention\" data-atlassian-id=\"5d3f35705e485d0dab01c896\">@Claire Wang</span> for documenting all the crashes. I've been playing with this for 1 hour and:</p>\n<ul>\n<li>Got no runtime crashes</li>\n<li>Got 4 different types of crashes during shutdown. Most times the program shuts down cleanly though.</li>\n<li>Shutdown crashes seem to happen more often when shutting down the GUI with <code>Ctrl+C</code> inside GDB.</li>\n<li>Out of my 4 crashes, I can reproduce at least 2 of them on the <code>ign-gazebo2</code> branch, so they're not related by this PR.</li>\n<li>One of the crashes is the boost thread one listed above. I could only reproduce it a single time, so it's tough to debug.</li>\n<li>The other 3 crashes are documented <a data-is-external-link=\"true\" href=\"https://gist.github.com/chapulina/ea514bb682172c27dfcec70e7c563ce9\" rel=\"nofollow\">here</a>.</li>\n<li>I wasn't able to get any crashes pointing at the <code>this-&gt;moveToThread</code> line</li>\n</ul>\n<p>Given all that, I'm inclined to get this in so we can unblock other PRs. We should keep an eye on these crashes though. What do the 2 of you think?</p>", "type": "rendered"}, "created_on": "2020-02-19T22:42:59.738265+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-02-19T22:42:59.811705+00:00", "type": "pullrequest_comment", "id": 136682266}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136684113.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136684113"}}, "parent": {"id": 136682266, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/136682266.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-136682266"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "I\u2019m ok with merging this PR for a couple of reasons. The crashes didn\u2019t happen as often \\(less than half the time\\) when I was debugging. Most of them don\u2019t interfere with the GUI functionality and only returns seg fault/mutex error upon shutdown. This GUI is a valuable feature to configure the grid. So yeah, monitoring crashes after merging this PR sounds good to me.\n\n\u200c", "markup": "markdown", "html": "<p>I\u2019m ok with merging this PR for a couple of reasons. The crashes didn\u2019t happen as often (less than half the time) when I was debugging. Most of them don\u2019t interfere with the GUI functionality and only returns seg fault/mutex error upon shutdown. This GUI is a valuable feature to configure the grid. So yeah, monitoring crashes after merging this PR sounds good to me.</p>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2020-02-19T23:01:48.139307+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-02-19T23:01:48.146273+00:00", "type": "pullrequest_comment", "id": 136684113}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507/comments/137270857.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507/_/diff#comment-137270857"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 507, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/507.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/507"}}, "title": "Add GUI to configure grid"}, "content": {"raw": "Merged Grid GUI demo \n\n![](data/bitbucket.org/repo/8zodKzn/images/4092294245-Grid_GUI_Demo.gif)\n\u200c", "markup": "markdown", "html": "<p>Merged Grid GUI demo </p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/8zodKzn/images/4092294245-Grid_GUI_Demo.gif\" />\n\u200c</p>", "type": "rendered"}, "created_on": "2020-02-25T00:02:44.197167+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-02-25T00:02:44.202407+00:00", "type": "pullrequest_comment", "id": 137270857}], "page": 1, "size": 40}