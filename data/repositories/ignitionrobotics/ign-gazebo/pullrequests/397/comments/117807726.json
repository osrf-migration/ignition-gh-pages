{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/397/comments/117807726.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:b6d588b9b661..890e28ea75d0?path=src%2Fcmd%2Fign.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/397/_/diff#comment-117807726"}}, "parent": {"id": 117806589, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/397/comments/117806589.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/397/_/diff#comment-117806589"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 397, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/397.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/397"}}, "title": "[Blueprint] Logging meshes and materials"}, "content": {"raw": "So\u2026 I had the logic together first, in the first block where the console log was initiated. Then I ran into this scenario:`/tmp/log` exists, because it was generated in a run without `--compress`; `/tmp/log(1).zip` exists, because it was generated in a run with `--compress`, so`/tmp/log(1)` doesn\u2019t exist; then, `common::uniqueDirectoryPath` gives `/tmp/log(1)` as the path, which works for the path, but does not work for the zip file. So it needs to then check the zip `cmpPath` after generating the `recordPathMod`, generate a `common::uniqueFilePath`, and go back to generate a new `recordPathMod`. But as it does the first and second renaming, all the messages about this renaming will not be logged. So\u2026 I moved the `cmpDest` to after the `recordPathMod` has been finalized.  \nThat said, I do like that way better, which combines the check of `/tmp/log(1)` and `/tmp/log(1).zip` in the same if-statement, because that gives paths like `/tmp/log(2)` and `/tmp/log(2).zip`. Downside is some messages are not logged. The current way logs all messages, but gives names like `/tmp/log(1).zip(1)`.", "markup": "markdown", "html": "<p>So\u2026 I had the logic together first, in the first block where the console log was initiated. Then I ran into this scenario:<code>/tmp/log</code> exists, because it was generated in a run without <code>--compress</code>; <code>/tmp/log(1).zip</code> exists, because it was generated in a run with <code>--compress</code>, so<code>/tmp/log(1)</code> doesn\u2019t exist; then, <code>common::uniqueDirectoryPath</code> gives <code>/tmp/log(1)</code> as the path, which works for the path, but does not work for the zip file. So it needs to then check the zip <code>cmpPath</code> after generating the <code>recordPathMod</code>, generate a <code>common::uniqueFilePath</code>, and go back to generate a new <code>recordPathMod</code>. But as it does the first and second renaming, all the messages about this renaming will not be logged. So\u2026 I moved the <code>cmpDest</code> to after the <code>recordPathMod</code> has been finalized.<br />\nThat said, I do like that way better, which combines the check of <code>/tmp/log(1)</code> and <code>/tmp/log(1).zip</code> in the same if-statement, because that gives paths like <code>/tmp/log(2)</code> and <code>/tmp/log(2).zip</code>. Downside is some messages are not logged. The current way logs all messages, but gives names like <code>/tmp/log(1).zip(1)</code>.</p>", "type": "rendered"}, "created_on": "2019-09-20T22:35:58.753292+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {"to": 187, "from": null, "outdated": true, "path": "src/cmd/ign.cc"}, "updated_on": "2019-09-20T22:36:51.336801+00:00", "type": "pullrequest_comment", "id": 117807726}