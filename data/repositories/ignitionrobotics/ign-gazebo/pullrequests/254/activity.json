{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98548963.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98548963"}}, "parent": {"id": 98548779, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98548779.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98548779"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "If we have both `PreUpdate` and `Update` running in parallel, maybe the test could check during `Update` at the same time as physics is using it", "markup": "markdown", "html": "<p>If we have both <code>PreUpdate</code> and <code>Update</code> running in parallel, maybe the test could check during <code>Update</code> at the same time as physics is using it</p>", "type": "rendered"}, "created_on": "2019-04-12T00:36:41.544189+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2019-04-12T00:36:41.553353+00:00", "type": "pullrequest_comment", "id": 98548963}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98548870.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98548870"}}, "parent": {"id": 98547601, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98547601.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98547601"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Thanks!", "markup": "markdown", "html": "<p>Thanks!</p>", "type": "rendered"}, "created_on": "2019-04-12T00:34:31.365487+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "inline": {}, "updated_on": "2019-04-12T00:34:31.374653+00:00", "type": "pullrequest_comment", "id": 98548870}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98548779.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98548779"}}, "parent": {"id": 98546325, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98546325.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98546325"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Good point. The component gets reset to zero after the Update call so this is the only place to grab it. I'll look into using the resulting acceleration.", "markup": "markdown", "html": "<p>Good point. The component gets reset to zero after the Update call so this is the only place to grab it. I'll look into using the resulting acceleration.</p>", "type": "rendered"}, "created_on": "2019-04-12T00:32:37.120225+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "inline": {}, "updated_on": "2019-04-12T00:32:37.129529+00:00", "type": "pullrequest_comment", "id": 98548779}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"update": {"description": "In light of the discussions in pull request #246, I have added a system that can be used to apply forces to a joint. The way pending joint forces are accumulated may change in the future, but for now, I'm just doing `+=` on the component.\r\n\r\nI'm in favor of renaming JointController to something else so it doesn't cause confusion going forward.\r\n\r\ncc @{557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6} , @{557058:67759e29-d1df-465f-868d-047738e36fc9} , @{557058:054df869-5cda-48f2-8b4e-81a61c133346}", "title": "[Acropolis] Add ApplyJointForce system", "destination": {"commit": {"hash": "94b9c1624ffd", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/94b9c1624ffd.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/94b9c1624ffd"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo1"}}, "reason": "", "source": {"commit": {"hash": "6e2f29c7de1c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/6e2f29c7de1c.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/6e2f29c7de1c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "apply_joint_force"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-04-12T00:05:50.027848+00:00"}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"approval": {"date": "2019-04-12T00:05:45.288221+00:00", "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98547601.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98547601"}}, "parent": {"id": 98544114, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98544114.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98544114"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Done in 6e2f29c", "markup": "markdown", "html": "<p>Done in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/6e2f29c\" rel=\"nofollow\" class=\"ap-connect-link\">6e2f29c</a></p>", "type": "rendered"}, "created_on": "2019-04-12T00:05:30.855835+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2019-04-12T00:05:30.865807+00:00", "type": "pullrequest_comment", "id": 98547601}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"update": {"description": "In light of the discussions in pull request #246, I have added a system that can be used to apply forces to a joint. The way pending joint forces are accumulated may change in the future, but for now, I'm just doing `+=` on the component.\r\n\r\nI'm in favor of renaming JointController to something else so it doesn't cause confusion going forward.\r\n\r\ncc @{557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6} , @{557058:67759e29-d1df-465f-868d-047738e36fc9} , @{557058:054df869-5cda-48f2-8b4e-81a61c133346}", "title": "[Acropolis] Add ApplyJointForce system", "destination": {"commit": {"hash": "94b9c1624ffd", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/94b9c1624ffd.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/94b9c1624ffd"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo1"}}, "reason": "", "source": {"commit": {"hash": "6e2f29c7de1c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/6e2f29c7de1c.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/6e2f29c7de1c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "apply_joint_force"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-04-12T00:04:57.566517+00:00"}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98546325.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98546325"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Right now this is relying on the fact that systems are run in series and that the test system is the last one to run, right? I think it's ok for now, but we should keep in mind that these assumptions may (will :fingers_crossed: ) be broken soon.", "markup": "markdown", "html": "<p>Right now this is relying on the fact that systems are run in series and that the test system is the last one to run, right? I think it's ok for now, but we should keep in mind that these assumptions may (will <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f91e.png\" alt=\"\ud83e\udd1e\" title=\":fingers_crossed:\" data-emoji-short-name=\":fingers_crossed:\" /> ) be broken soon.</p>", "type": "rendered"}, "created_on": "2019-04-11T23:41:17.713115+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2019-04-11T23:41:17.722819+00:00", "type": "pullrequest_comment", "id": 98546325}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98544114.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98544114"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Some of these headers are not needed", "markup": "markdown", "html": "<p>Some of these headers are not needed</p>", "type": "rendered"}, "created_on": "2019-04-11T23:00:40.229264+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2019-04-11T23:00:40.238705+00:00", "type": "pullrequest_comment", "id": 98544114}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"approval": {"date": "2019-04-11T20:57:56.087850+00:00", "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98535014.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98535014"}}, "parent": {"id": 98532872, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98532872.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98532872"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Sounds good. Thanks for looking into it.", "markup": "markdown", "html": "<p>Sounds good. Thanks for looking into it.</p>", "type": "rendered"}, "created_on": "2019-04-11T20:57:40.886745+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2019-04-11T20:57:40.896762+00:00", "type": "pullrequest_comment", "id": 98535014}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98532872.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98532872"}}, "parent": {"id": 98198601, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98198601.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98198601"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "I started working on this but I'm not sure I like the end result :slight_frown:. The issue is that there's no good way to determine the degrees of freedom of a joint from a system yet. So there is no easy way to prevent a mismatch between the size of the `JointForceCmd` component and the actual DOF of the joint.\n\nI propose leaving this as is for now and creating a new PR that makes it easy to query the DOF of a joint and then add this feature.", "markup": "markdown", "html": "<p>I started working on this but I'm not sure I like the end result <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f641.png\" alt=\"\ud83d\ude41\" title=\":slight_frown:\" data-emoji-short-name=\":slight_frown:\" />. The issue is that there's no good way to determine the degrees of freedom of a joint from a system yet. So there is no easy way to prevent a mismatch between the size of the <code>JointForceCmd</code> component and the actual DOF of the joint.</p>\n<p>I propose leaving this as is for now and creating a new PR that makes it easy to query the DOF of a joint and then add this feature.</p>", "type": "rendered"}, "created_on": "2019-04-11T20:36:20.162548+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "inline": {}, "updated_on": "2019-04-11T20:36:20.173521+00:00", "type": "pullrequest_comment", "id": 98532872}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98531607.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98531607"}}, "parent": {"id": 98198086, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98198086.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98198086"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Yup. 92bab26.", "markup": "markdown", "html": "<p>Yup. <a href=\"#!/ignitionrobotics/ign-gazebo/commits/92bab26\" rel=\"nofollow\" class=\"ap-connect-link\">92bab26</a>.</p>", "type": "rendered"}, "created_on": "2019-04-11T20:24:04.214353+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "inline": {}, "updated_on": "2019-04-11T20:24:04.227010+00:00", "type": "pullrequest_comment", "id": 98531607}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98531560.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98531560"}}, "parent": {"id": 98494713, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98494713.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98494713"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Renamed to `JointForceCmd` in aede4b6", "markup": "markdown", "html": "<p>Renamed to <code>JointForceCmd</code> in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/aede4b6\" rel=\"nofollow\" class=\"ap-connect-link\">aede4b6</a></p>", "type": "rendered"}, "created_on": "2019-04-11T20:23:28.707210+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2019-04-11T20:23:28.717433+00:00", "type": "pullrequest_comment", "id": 98531560}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"update": {"description": "In light of the discussions in pull request #246, I have added a system that can be used to apply forces to a joint. The way pending joint forces are accumulated may change in the future, but for now, I'm just doing `+=` on the component.\r\n\r\nI'm in favor of renaming JointController to something else so it doesn't cause confusion going forward.\r\n\r\ncc @{557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6} , @{557058:67759e29-d1df-465f-868d-047738e36fc9} , @{557058:054df869-5cda-48f2-8b4e-81a61c133346}", "title": "[Acropolis] Add ApplyJointForce system", "destination": {"commit": {"hash": "94b9c1624ffd", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/94b9c1624ffd.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/94b9c1624ffd"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo1"}}, "reason": "", "source": {"commit": {"hash": "92bab269c401", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/92bab269c401.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/92bab269c401"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "apply_joint_force"}}, "state": "OPEN", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "date": "2019-04-11T20:22:54.943776+00:00"}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98494713.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98494713"}}, "parent": {"id": 98196253, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98196253.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98196253"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Thanks for reviewing the PR @dgferigo.\n\n> Force references are stored in a new PendingJointForce components, velocity references instead in a JointVelocityCmd component (PR#260). Despite it would not be a recommended practice as already discussed, I think you're going to implement also a JointPositionCmd component. Is there any reason not to use JointForceCmd to have an uniform naming scheme? Since the force reference could be the output of a position / velocity PID controller, it would make sense to me.\n\nMakes sense to call it JointForceCmd to stay consistent with the other PR.\n\n> I still have few doubts about the resetting policy of these reference components. I do not have any strong opinion yet, and I\u2019m not sure if the best approach would be resetting the reference as happens in this PR, or leaving it there as happens in PR#260 for the velocity (I guess, expecting that it would be changed from the user side in the next iterations). Do you (or @Nate Koenig ) have any insight to share about this?\n\nIn my thinking, these components, especially the forces, are shared among many systems. Resetting them to zero enables systems to simply add their contributions to the component in the next simulation step. This may not make sense for velocity components, but having a consistent interface where all `*Cmd` components get cleared by the physics system in every step would be easier to document and understand. I can make a comment in PR #260 to that effect. If there are other components that we are currently not doing this on, please feel free to point them out. \n\n> Related to point 2., I do not know what would be the effect of setting 0 references in the cycles after the components have been reset. I noticed that the process of adding and removing components continuously is not efficient due to the ecm caching, so zeroing references seems the only way. I only argue if this can cause troubles to some physic engines. Though, I\u2019m not really knowledgeable about it.\n\nI'm not sure what you mean. Per my response above, it would be the responsibility of the system to set the `*Cmd` component to the desired value in every simulation step. Adding or removing a component does have an overhead compared to setting it to zero.", "markup": "markdown", "html": "<p>Thanks for reviewing the PR @dgferigo.</p>\n<blockquote>\n<p>Force references are stored in a new PendingJointForce components, velocity references instead in a JointVelocityCmd component (PR#260). Despite it would not be a recommended practice as already discussed, I think you're going to implement also a JointPositionCmd component. Is there any reason not to use JointForceCmd to have an uniform naming scheme? Since the force reference could be the output of a position / velocity PID controller, it would make sense to me.</p>\n</blockquote>\n<p>Makes sense to call it JointForceCmd to stay consistent with the other PR.</p>\n<blockquote>\n<p>I still have few doubts about the resetting policy of these reference components. I do not have any strong opinion yet, and I\u2019m not sure if the best approach would be resetting the reference as happens in this PR, or leaving it there as happens in PR#260 for the velocity (I guess, expecting that it would be changed from the user side in the next iterations). Do you (or @Nate Koenig ) have any insight to share about this?</p>\n</blockquote>\n<p>In my thinking, these components, especially the forces, are shared among many systems. Resetting them to zero enables systems to simply add their contributions to the component in the next simulation step. This may not make sense for velocity components, but having a consistent interface where all <code>*Cmd</code> components get cleared by the physics system in every step would be easier to document and understand. I can make a comment in <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/260/blueprint-joint-state-pub\" rel=\"nofollow\" class=\"ap-connect-link\">PR #260</a> to that effect. If there are other components that we are currently not doing this on, please feel free to point them out. </p>\n<blockquote>\n<p>Related to point 2., I do not know what would be the effect of setting 0 references in the cycles after the components have been reset. I noticed that the process of adding and removing components continuously is not efficient due to the ecm caching, so zeroing references seems the only way. I only argue if this can cause troubles to some physic engines. Though, I\u2019m not really knowledgeable about it.</p>\n</blockquote>\n<p>I'm not sure what you mean. Per my response above, it would be the responsibility of the system to set the <code>*Cmd</code> component to the desired value in every simulation step. Adding or removing a component does have an overhead compared to setting it to zero.</p>", "type": "rendered"}, "created_on": "2019-04-11T15:22:25.712501+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2019-04-11T15:22:25.794962+00:00", "type": "pullrequest_comment", "id": 98494713}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"update": {"description": "In light of the discussions in pull request #246, I have added a system that can be used to apply forces to a joint. The way pending joint forces are accumulated may change in the future, but for now, I'm just doing `+=` on the component.\r\n\r\nI'm in favor of renaming JointController to something else so it doesn't cause confusion going forward.\r\n\r\ncc @{557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6} , @{557058:67759e29-d1df-465f-868d-047738e36fc9} , @{557058:054df869-5cda-48f2-8b4e-81a61c133346}", "title": "[Acropolis] Add ApplyJointForce system", "destination": {"commit": {"hash": "04c1c2f77497", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/04c1c2f77497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/04c1c2f77497"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo1"}}, "reason": "", "source": {"commit": {"hash": "47fe64e6a8dd", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/47fe64e6a8dd.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/47fe64e6a8dd"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "apply_joint_force"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2019-04-09T22:51:50.251112+00:00"}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98198601.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98198601"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "I wonder if we should use a `msgs::Double_V` instead. This way we might support joints with more than one axis.", "markup": "markdown", "html": "<p>I wonder if we should use a <code>msgs::Double_V</code> instead. This way we might support joints with more than one axis.</p>", "type": "rendered"}, "created_on": "2019-04-09T22:49:16.325246+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2019-04-09T22:49:16.335080+00:00", "type": "pullrequest_comment", "id": 98198601}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98198086.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98198086"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Minor detail: I think we could take the mutex after the next line as we only care about `this->dataPtr->jointForceCmd`, right?", "markup": "markdown", "html": "<p>Minor detail: I think we could take the mutex after the next line as we only care about <code>this-&gt;dataPtr-&gt;jointForceCmd</code>, right?</p>", "type": "rendered"}, "created_on": "2019-04-09T22:41:20.242548+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {}, "updated_on": "2019-04-09T22:41:20.249293+00:00", "type": "pullrequest_comment", "id": 98198086}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98196253.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98196253"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Thanks @azeey , I finally managed to have a look to the PR. It looks good to me, I just have few minor comments:\n\n1. Force references are stored in a new `PendingJointForce` components, velocity references instead in a `JointVelocityCmd` component \\([PR#260](#!/ignitionrobotics/ign-gazebo/pull-requests/260/wip-joint-state-pub)\\). Despite it would not be a recommended practice as already discussed, I think you're going to implement also a `JointPositionCmd` component. Is there any reason not to use `JointForceCmd` to have an uniform naming scheme? Since the force reference could be the output of a position / velocity PID controller, it would make sense to me.\n2. I still have few doubts about the resetting policy of these reference components. I do not have any strong opinion yet, and I\u2019m not sure if the best approach would be resetting the reference as happens in this PR, or leaving it there as happens in PR#260 for the velocity \\(I guess, expecting that it would be changed from the user side in the next iterations\\). Do you \\(or @nkoenig \\) have any insight to share about this?\n3. Related to point 2., I do not know what would be the effect of setting 0 references in the cycles after the components have been reset. I noticed that the process of adding and removing components continuously is not efficient due to the ecm caching, so zeroing references seems the only way. I only argue if this can cause troubles to some physic engines. Though, I\u2019m not really knowledgeable about it.\n\n", "markup": "markdown", "html": "<p>Thanks @azeey , I finally managed to have a look to the PR. It looks good to me, I just have few minor comments:</p>\n<ol>\n<li>Force references are stored in a new <code>PendingJointForce</code> components, velocity references instead in a <code>JointVelocityCmd</code> component (<a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/260/wip-joint-state-pub\" rel=\"nofollow\">PR#260</a>). Despite it would not be a recommended practice as already discussed, I think you're going to implement also a <code>JointPositionCmd</code> component. Is there any reason not to use <code>JointForceCmd</code> to have an uniform naming scheme? Since the force reference could be the output of a position / velocity PID controller, it would make sense to me.</li>\n<li>I still have few doubts about the resetting policy of these reference components. I do not have any strong opinion yet, and I\u2019m not sure if the best approach would be resetting the reference as happens in this PR, or leaving it there as happens in PR#260 for the velocity (I guess, expecting that it would be changed from the user side in the next iterations). Do you (or @nkoenig ) have any insight to share about this?</li>\n<li>Related to point 2., I do not know what would be the effect of setting 0 references in the cycles after the components have been reset. I noticed that the process of adding and removing components continuously is not efficient due to the ecm caching, so zeroing references seems the only way. I only argue if this can cause troubles to some physic engines. Though, I\u2019m not really knowledgeable about it.</li>\n</ol>", "type": "rendered"}, "created_on": "2019-04-09T22:12:23.457435+00:00", "user": {"display_name": "Diego Ferigo", "uuid": "{994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D"}, "html": {"href": "https://bitbucket.org/%7B994b27a5-7d6d-42b2-8aa7-2ea82fbe7bf6%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:054df869-5cda-48f2-8b4e-81a61c133346/130cd3bf-aa0a-4355-bec2-c90f195acc4c/128"}}, "nickname": "dgferigo", "type": "user", "account_id": "557058:054df869-5cda-48f2-8b4e-81a61c133346"}, "updated_on": "2019-04-09T22:12:23.652814+00:00", "type": "pullrequest_comment", "id": 98196253}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"update": {"description": "In light of the discussions in pull request #246, I have added a system that can be used to apply forces to a joint. The way pending joint forces are accumulated may change in the future, but for now, I'm just doing `+=` on the component.\r\n\r\nI'm in favor of renaming JointController to something else so it doesn't cause confusion going forward.\r\n\r\ncc @{557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6} , @{557058:67759e29-d1df-465f-868d-047738e36fc9} , @{557058:054df869-5cda-48f2-8b4e-81a61c133346}", "title": "[Acropolis] Add ApplyJointForce system", "destination": {"commit": {"hash": "04c1c2f77497", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/04c1c2f77497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/04c1c2f77497"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo1"}}, "reason": "", "source": {"commit": {"hash": "fab2a198c986", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fab2a198c986.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fab2a198c986"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "apply_joint_force"}}, "state": "OPEN", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "date": "2019-04-09T15:01:39.886871+00:00"}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98025519.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98025519"}}, "parent": {"id": 97872127, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/97872127.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-97872127"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Agreed. Changed to `std::vector` in cf0bc3a.", "markup": "markdown", "html": "<p>Agreed. Changed to <code>std::vector</code> in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/cf0bc3a\" rel=\"nofollow\" class=\"ap-connect-link\">cf0bc3a</a>.</p>", "type": "rendered"}, "created_on": "2019-04-08T23:05:39.872972+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "inline": {}, "updated_on": "2019-04-08T23:05:39.883857+00:00", "type": "pullrequest_comment", "id": 98025519}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/98025480.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-98025480"}}, "parent": {"id": 97826578, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/97826578.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-97826578"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Good call. Addressed in cf0bc3a.", "markup": "markdown", "html": "<p>Good call. Addressed in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/cf0bc3a\" rel=\"nofollow\" class=\"ap-connect-link\">cf0bc3a</a>.</p>", "type": "rendered"}, "created_on": "2019-04-08T23:04:58.810027+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "inline": {}, "updated_on": "2019-04-08T23:04:58.821034+00:00", "type": "pullrequest_comment", "id": 98025480}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"update": {"description": "In light of the discussions in pull request #246, I have added a system that can be used to apply forces to a joint. The way pending joint forces are accumulated may change in the future, but for now, I'm just doing `+=` on the component.\r\n\r\nI'm in favor of renaming JointController to something else so it doesn't cause confusion going forward.\r\n\r\ncc @{557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6} , @{557058:67759e29-d1df-465f-868d-047738e36fc9} , @{557058:054df869-5cda-48f2-8b4e-81a61c133346}", "title": "[Acropolis] Add ApplyJointForce system", "destination": {"commit": {"hash": "828af9f2ca46", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/828af9f2ca46.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/828af9f2ca46"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo1"}}, "reason": "", "source": {"commit": {"hash": "cf0bc3a81c97", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/cf0bc3a81c97.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/cf0bc3a81c97"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "apply_joint_force"}}, "state": "OPEN", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "date": "2019-04-08T23:04:20.654351+00:00"}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"update": {"description": "In light of the discussions in pull request #246, I have added a system that can be used to apply forces to a joint. The way pending joint forces are accumulated may change in the future, but for now, I'm just doing `+=` on the component.\r\n\r\nI'm in favor of renaming JointController to something else so it doesn't cause confusion going forward.\r\n\r\ncc @{557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6} , @{557058:67759e29-d1df-465f-868d-047738e36fc9} , @{557058:054df869-5cda-48f2-8b4e-81a61c133346}", "title": "[Acropolis] Add ApplyJointForce system", "destination": {"commit": {"hash": "828af9f2ca46", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/828af9f2ca46.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/828af9f2ca46"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo1"}}, "reason": "", "source": {"commit": {"hash": "1219c296cea3", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/1219c296cea3.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/1219c296cea3"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "apply_joint_force"}}, "state": "OPEN", "author": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "date": "2019-04-08T22:10:46.862122+00:00"}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"update": {"description": "In light of the discussions in pull request #246, I have added a system that can be used to apply forces to a joint. The way pending joint forces are accumulated may change in the future, but for now, I'm just doing `+=` on the component.\r\n\r\nI'm in favor of renaming JointController to something else so it doesn't cause confusion going forward.\r\n\r\ncc @traversaro, @mxgrey, @dgferigo", "title": "[Acropolis] Add ApplyJointForce system", "destination": {"commit": {"hash": "828af9f2ca46", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/828af9f2ca46.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/828af9f2ca46"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo1"}}, "reason": "", "source": {"commit": {"hash": "1219c296cea3", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/1219c296cea3.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/1219c296cea3"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "apply_joint_force"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-04-08T22:08:23.080879+00:00"}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/97987840.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-97987840"}}, "parent": {"id": 97872127, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/97872127.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-97872127"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "+1", "markup": "markdown", "html": "<p>+1</p>", "type": "rendered"}, "created_on": "2019-04-08T16:47:24.316760+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2019-04-08T16:47:24.327269+00:00", "type": "pullrequest_comment", "id": 97987840}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/97872127.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-97872127"}}, "parent": {"id": 97826578, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/97826578.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-97826578"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Related to this comment: can we consider having the `Data` in these components contain a variable sized array? I feel like creating entirely new types to represent additional coordinates is a waste of symbols and isn\u2019t able to extend to arbitrary joint types. For example, the current implementation of this physics system can\u2019t handle ball joints \\(3 rotation dofs\\), euler joints \\(3 rotation dofs\\), planar joints \\(2 translation dofs, 1 rotation dof\\), or potentially other custom higher dof joints.\n\nInstead of checking for `DataType2` components, we could just take `std::size_t N = std::min(data.size(), jointIt->second->GetDegreesOfFreedom())` and then call\n\n```\nfor (std::size_t i=0; i < N; ++i)\n  jointIt->second->SetDataType(i, data[i]);\n```\n\nAnd pertaining directly to @{557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6} 's comment, we could consider emitting a warning when `data.size()` and `jointIt->second->GetDegreesOfFreedom()` don\u2019t match.", "markup": "markdown", "html": "<p>Related to this comment: can we consider having the <code>Data</code> in these components contain a variable sized array? I feel like creating entirely new types to represent additional coordinates is a waste of symbols and isn\u2019t able to extend to arbitrary joint types. For example, the current implementation of this physics system can\u2019t handle ball joints (3 rotation dofs), euler joints (3 rotation dofs), planar joints (2 translation dofs, 1 rotation dof), or potentially other custom higher dof joints.</p>\n<p>Instead of checking for <code>DataType2</code> components, we could just take <code>std::size_t N = std::min(data.size(), jointIt-&gt;second-&gt;GetDegreesOfFreedom())</code> and then call</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">for</span> <span class=\"o\">(</span><span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">size_t</span> <span class=\"nt\">i</span><span class=\"o\">=</span><span class=\"nt\">0</span><span class=\"o\">;</span> <span class=\"nt\">i</span> <span class=\"o\">&lt;</span> <span class=\"nt\">N</span><span class=\"o\">;</span> <span class=\"o\">++</span><span class=\"nt\">i</span><span class=\"o\">)</span>\n  <span class=\"nt\">jointIt-</span><span class=\"o\">&gt;</span><span class=\"nt\">second-</span><span class=\"o\">&gt;</span><span class=\"nt\">SetDataType</span><span class=\"o\">(</span><span class=\"nt\">i</span><span class=\"o\">,</span> <span class=\"nt\">data</span><span class=\"cp\">[</span><span class=\"nx\">i</span><span class=\"cp\">]</span><span class=\"o\">);</span>\n</pre></div>\n\n\n<p>And pertaining directly to <span class=\"ap-mention\" data-atlassian-id=\"557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6\">@Silvio Traversaro</span> 's comment, we could consider emitting a warning when <code>data.size()</code> and <code>jointIt-&gt;second-&gt;GetDegreesOfFreedom()</code> don\u2019t match.</p>", "type": "rendered"}, "created_on": "2019-04-08T04:24:15.082136+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {}, "updated_on": "2019-04-08T04:24:34.671060+00:00", "type": "pullrequest_comment", "id": 97872127}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/97826578.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-97826578"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "What happens if some system accidentally create a `PendingJointForce2` or `JointVelocity2` for a joint that actually has one 1 dof? The program will crash? Perhaps it is better to check in some way the error and report it?", "markup": "markdown", "html": "<p>What happens if some system accidentally create a <code>PendingJointForce2</code> or <code>JointVelocity2</code> for a joint that actually has one 1 dof? The program will crash? Perhaps it is better to check in some way the error and report it?</p>", "type": "rendered"}, "created_on": "2019-04-05T20:18:22.655025+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "inline": {}, "updated_on": "2019-04-05T20:18:22.717834+00:00", "type": "pullrequest_comment", "id": 97826578}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254/comments/97826225.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254/_/diff#comment-97826225"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}, "content": {"raw": "Thanks a lot @azeey ! I am still trying to fully grasp the new ignition-gazebo architecture, but I will try to have a look at the changes.", "markup": "markdown", "html": "<p>Thanks a lot @azeey ! I am still trying to fully grasp the new ignition-gazebo architecture, but I will try to have a look at the changes.</p>", "type": "rendered"}, "created_on": "2019-04-05T20:14:14.731479+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "updated_on": "2019-04-05T20:14:14.852415+00:00", "type": "pullrequest_comment", "id": 97826225}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"update": {"description": "In light of the discussions in pull request #246, I have added a system that can be used to apply forces to a joint. The way pending joint forces are accumulated may change in the future, but for now, I'm just doing `+=` on the component.\r\n\r\nI'm in favor of renaming JointController to something else so it doesn't cause confusion going forward.\r\n\r\ncc @traversaro, @mxgrey, @dgferigo", "title": "[Acropolis] Add ApplyJointForce system", "destination": {"commit": {"hash": "828af9f2ca46", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/828af9f2ca46.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/828af9f2ca46"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo1"}}, "reason": "", "source": {"commit": {"hash": "1219c296cea3", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/1219c296cea3.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/1219c296cea3"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "apply_joint_force"}}, "state": "OPEN", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "date": "2019-04-05T19:15:43.161987+00:00"}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}, {"update": {"description": "In light of the discussions in pull request #246, I have added a system that can be used to apply forces to a joint. The way pending joint forces are accumulated may change in the future, but for now, I'm just doing `+=` on the component.\r\n\r\nI'm in favor of renaming JointController to something else so it doesn't cause confusion going forward.\r\n\r\ncc @traversaro, @mxgrey, @dgferigo", "title": "[Acropolis] Add ApplyJointForce system", "destination": {"commit": {"hash": "828af9f2ca46", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/828af9f2ca46.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/828af9f2ca46"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo1"}}, "reason": "", "source": {"commit": {"hash": "1219c296cea3", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/1219c296cea3.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/1219c296cea3"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "apply_joint_force"}}, "state": "OPEN", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "date": "2019-04-05T19:15:43.121796+00:00"}, "pull_request": {"type": "pullrequest", "id": 254, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/254.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/254"}}, "title": "[Acropolis] Add ApplyJointForce system"}}]}