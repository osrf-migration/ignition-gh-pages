{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89921538.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:c352b5da7bb6..06efe3b5ad0f?path=include%2Fignition%2Fgazebo%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89921538"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "I'm trying to decide if this is potentially unsafe, but I can't quite reason through it.  I think making these `static` rather than using a singleton may put us at risk of the \u201cstatic initialization order fiasco\u201d \\([https://isocpp.org/wiki/faq/ctors#static-init-order](https://isocpp.org/wiki/faq/ctors#static-init-order)\\), but I\u2019m not positive.  Is there a reason that you didn\u2019t use the singleton here?", "markup": "markdown", "html": "<p>I'm trying to decide if this is potentially unsafe, but I can't quite reason through it.  I think making these <code>static</code> rather than using a singleton may put us at risk of the \u201cstatic initialization order fiasco\u201d (<a data-is-external-link=\"true\" href=\"https://isocpp.org/wiki/faq/ctors#static-init-order\" rel=\"nofollow\">https://isocpp.org/wiki/faq/ctors#static-init-order</a>), but I\u2019m not positive.  Is there a reason that you didn\u2019t use the singleton here?</p>", "type": "rendered"}, "created_on": "2019-01-31T02:01:00.320127+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 156, "from": null, "path": "include/ignition/gazebo/Factory.hh"}, "updated_on": "2019-01-31T02:01:00.327174+00:00", "type": "pullrequest_comment", "id": 89921538}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89926443.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:c352b5da7bb6..06efe3b5ad0f?path=include%2Fignition%2Fgazebo%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89926443"}}, "parent": {"id": 89921538, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89921538.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89921538"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "There shouldn\u2019t be any risk here, because the data dependencies of these static variables are self-contained. The static data here doesn\u2019t depend on any other static data \\(everything contained in this static map should have \u201cautomatic storage duration\u201d\\). So no matter what order the program\u2019s static data gets destructed in, the destructors of these members should work fine.", "markup": "markdown", "html": "<p>There shouldn\u2019t be any risk here, because the data dependencies of these static variables are self-contained. The static data here doesn\u2019t depend on any other static data (everything contained in this static map should have \u201cautomatic storage duration\u201d). So no matter what order the program\u2019s static data gets destructed in, the destructors of these members should work fine.</p>", "type": "rendered"}, "created_on": "2019-01-31T03:47:05.224455+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": 156, "from": null, "path": "include/ignition/gazebo/Factory.hh"}, "updated_on": "2019-01-31T03:47:05.236408+00:00", "type": "pullrequest_comment", "id": 89926443}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89928967.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:c352b5da7bb6..06efe3b5ad0f?path=include%2Fignition%2Fgazebo%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89928967"}}, "parent": {"id": 89926443, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89926443.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89926443"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Is that true even with the downstream component classes using the macro below \\(which calls the Register function\\)?  Does that create the dependency?", "markup": "markdown", "html": "<p>Is that true even with the downstream component classes using the macro below (which calls the Register function)?  Does that create the dependency?</p>", "type": "rendered"}, "created_on": "2019-01-31T04:40:33.236352+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 156, "from": null, "path": "include/ignition/gazebo/Factory.hh"}, "updated_on": "2019-01-31T04:40:33.252951+00:00", "type": "pullrequest_comment", "id": 89928967}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89929344.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:c352b5da7bb6..06efe3b5ad0f?path=include%2Fignition%2Fgazebo%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89929344"}}, "parent": {"id": 89928967, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89928967.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89928967"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Ah, sorry, I was thinking of the static data destruction fiasco, not the initialization fiasco. I also didn\u2019t notice that this function was being called by constructors of static objects.\n\nWrapping this data up in a singleton class should, indeed, help avoid that issue.", "markup": "markdown", "html": "<p>Ah, sorry, I was thinking of the static data destruction fiasco, not the initialization fiasco. I also didn\u2019t notice that this function was being called by constructors of static objects.</p>\n<p>Wrapping this data up in a singleton class should, indeed, help avoid that issue.</p>", "type": "rendered"}, "created_on": "2019-01-31T04:48:15.689941+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": 156, "from": null, "path": "include/ignition/gazebo/Factory.hh"}, "updated_on": "2019-01-31T04:48:15.699474+00:00", "type": "pullrequest_comment", "id": 89929344}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90393075.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:91a913d77cbe..4957acb1df7a?path=include%2Fignition%2Fgazebo%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90393075"}}, "parent": {"id": 89929344, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89929344.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89929344"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Thanks! Class updated to a singleton.", "markup": "markdown", "html": "<p>Thanks! Class updated to a singleton.</p>", "type": "rendered"}, "created_on": "2019-02-05T00:44:44.763594+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": 156, "from": null, "path": "include/ignition/gazebo/Factory.hh"}, "updated_on": "2019-02-05T00:44:44.773711+00:00", "type": "pullrequest_comment", "id": 90393075}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89921703.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:c352b5da7bb6..06efe3b5ad0f?path=include%2Fignition%2Fgazebo%2Fdetail%2FEntityComponentManager.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89921703"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "I'm slightly concerned that `typeid().name()` may have some of the same fragility we were trying to avoid: [https://en.cppreference.com/w/cpp/types/type\\_info/name](https://en.cppreference.com/w/cpp/types/type_info/name)\n\nSpecifically: \n\n> No guarantees are given; in particular, the returned string can be identical for several types and change between invocations of the same program.", "markup": "markdown", "html": "<p>I'm slightly concerned that <code>typeid().name()</code> may have some of the same fragility we were trying to avoid: <a data-is-external-link=\"true\" href=\"https://en.cppreference.com/w/cpp/types/type_info/name\" rel=\"nofollow\">https://en.cppreference.com/w/cpp/types/type_info/name</a></p>\n<p>Specifically: </p>\n<blockquote>\n<p>No guarantees are given; in particular, the returned string can be identical for several types and change between invocations of the same program.</p>\n</blockquote>", "type": "rendered"}, "created_on": "2019-01-31T02:04:44.314814+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 38, "from": null, "path": "include/ignition/gazebo/detail/EntityComponentManager.hh"}, "updated_on": "2019-01-31T02:04:44.322287+00:00", "type": "pullrequest_comment", "id": 89921703}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89925658.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:c352b5da7bb6..06efe3b5ad0f?path=include%2Fignition%2Fgazebo%2Fdetail%2FEntityComponentManager.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89925658"}}, "parent": {"id": 89921703, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89921703.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89921703"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "In all of the implementations that we support \\(GCC, Clang, MSVC\\), any collisions that could happen between the `typeid(T).name()` of different `T` classes would also result in a multiple definition error \\(in other words, one of those classes will collide with the other in the linker because they would share the same symbol name\\).\n\nThe standard doesn't make any guarantees about this, but the supported implementations always produce different `typeid(T).name()` values for different symbol names \\(in fact, Clang and GCC literally return the symbol name itself\\).", "markup": "markdown", "html": "<p>In all of the implementations that we support (GCC, Clang, MSVC), any collisions that could happen between the <code>typeid(T).name()</code> of different <code>T</code> classes would also result in a multiple definition error (in other words, one of those classes will collide with the other in the linker because they would share the same symbol name).</p>\n<p>The standard doesn't make any guarantees about this, but the supported implementations always produce different <code>typeid(T).name()</code> values for different symbol names (in fact, Clang and GCC literally return the symbol name itself).</p>", "type": "rendered"}, "created_on": "2019-01-31T03:33:16.049086+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": 38, "from": null, "path": "include/ignition/gazebo/detail/EntityComponentManager.hh"}, "updated_on": "2019-01-31T03:34:55.475208+00:00", "type": "pullrequest_comment", "id": 89925658}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89929072.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:c352b5da7bb6..06efe3b5ad0f?path=include%2Fignition%2Fgazebo%2Fdetail%2FEntityComponentManager.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89929072"}}, "parent": {"id": 89925658, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89925658.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89925658"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "The issue we are trying to avoid is that the `typeid()` hash\\_code doesn't have consistent behavior \\(which is what the standard states\\), and was creating issues between shared libraries and the main executable on macOS.  If `type_name` is more consistent than `hash_code` \\(and it sounds like it is\\) then I\u2019m good with it.", "markup": "markdown", "html": "<p>The issue we are trying to avoid is that the <code>typeid()</code> hash_code doesn't have consistent behavior (which is what the standard states), and was creating issues between shared libraries and the main executable on macOS.  If <code>type_name</code> is more consistent than <code>hash_code</code> (and it sounds like it is) then I\u2019m good with it.</p>", "type": "rendered"}, "created_on": "2019-01-31T04:42:39.537875+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 38, "from": null, "path": "include/ignition/gazebo/detail/EntityComponentManager.hh"}, "updated_on": "2019-01-31T04:42:39.549614+00:00", "type": "pullrequest_comment", "id": 89929072}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89929433.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:c352b5da7bb6..06efe3b5ad0f?path=include%2Fignition%2Fgazebo%2Fdetail%2FEntityComponentManager.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89929433"}}, "parent": {"id": 89929072, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89929072.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89929072"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "I was also thinking that we could annotate components with our own stable hash function.\n\nI took a quick stab at making the murmur2 hash a `constexpr`, so it can be evaluated completely at compile-time: [https://godbolt.org/z/KtJuMV](https://godbolt.org/z/KtJuMV) \\(based on [http://szelei.me/constexpr-murmurhash/](http://szelei.me/constexpr-murmurhash/)\\)\n\nIt seems to check out against a known-good implementation \\(the ign-common impl has a small bug\\).\n\nNote: that this would only work with c\\+\\+14 and up \\(not an issue as far as our current platforms\\)\n\nAlso note: murmurhash2 has some limitations, so the constexpr version does too?\n\n    // Note - This code makes a few assumptions about how your machine behaves -\n    \n    // 1. We can read a 4-byte value from any address without crashing\n    // 2. sizeof(int) == 4\n    \n    // And it has a few limitations -\n    \n    // 1. It will not work incrementally.\n    // 2. It will not produce the same results on little-endian and big-endian\n    //    machines.", "markup": "markdown", "html": "<p>I was also thinking that we could annotate components with our own stable hash function.</p>\n<p>I took a quick stab at making the murmur2 hash a <code>constexpr</code>, so it can be evaluated completely at compile-time: <a data-is-external-link=\"true\" href=\"https://godbolt.org/z/KtJuMV\" rel=\"nofollow\">https://godbolt.org/z/KtJuMV</a> (based on <a data-is-external-link=\"true\" href=\"http://szelei.me/constexpr-murmurhash/\" rel=\"nofollow\">http://szelei.me/constexpr-murmurhash/</a>)</p>\n<p>It seems to check out against a known-good implementation (the ign-common impl has a small bug).</p>\n<p>Note: that this would only work with c++14 and up (not an issue as far as our current platforms)</p>\n<p>Also note: murmurhash2 has some limitations, so the constexpr version does too?</p>\n<div class=\"codehilite\"><pre><span></span>// Note - This code makes a few assumptions about how your machine behaves -\n\n// 1. We can read a 4-byte value from any address without crashing\n// 2. sizeof(int) == 4\n\n// And it has a few limitations -\n\n// 1. It will not work incrementally.\n// 2. It will not produce the same results on little-endian and big-endian\n//    machines.\n</pre></div>", "type": "rendered"}, "created_on": "2019-01-31T04:49:44.561767+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 38, "from": null, "path": "include/ignition/gazebo/detail/EntityComponentManager.hh"}, "updated_on": "2019-01-31T04:55:33.871734+00:00", "type": "pullrequest_comment", "id": 89929433}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90393050.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:91a913d77cbe..4957acb1df7a?path=include%2Fignition%2Fgazebo%2Fdetail%2FEntityComponentManager.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90393050"}}, "parent": {"id": 89929433, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/89929433.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-89929433"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Code updated: `Factory`is a singleton now. I added some of the infrastructure for embedding the `id` and `name` in this pull request but is not fully enabled as it requires to update lots of tests.", "markup": "markdown", "html": "<p>Code updated: <code>Factory</code>is a singleton now. I added some of the infrastructure for embedding the <code>id</code> and <code>name</code> in this pull request but is not fully enabled as it requires to update lots of tests.</p>", "type": "rendered"}, "created_on": "2019-02-05T00:44:18.161406+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": 38, "from": null, "path": "include/ignition/gazebo/detail/EntityComponentManager.hh"}, "updated_on": "2019-02-05T00:44:18.170717+00:00", "type": "pullrequest_comment", "id": 90393050}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90192947.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:c352b5da7bb6..06efe3b5ad0f?path=include%2Fignition%2Fgazebo%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90192947"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "@caguero , as we spoke before, I renamed the `Factory` class to something less confusing in pull request #148. The new code you're adding could go into a separate class, called `ComponentFactory` for example, or maybe it even makes sense as part of the ECM.", "markup": "markdown", "html": "<p>@caguero , as we spoke before, I renamed the <code>Factory</code> class to something less confusing in <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/148/debt-rename-factory-and-erase\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #148</a>. The new code you're adding could go into a separate class, called <code>ComponentFactory</code> for example, or maybe it even makes sense as part of the ECM.</p>", "type": "rendered"}, "created_on": "2019-02-01T18:38:56.248688+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "include/ignition/gazebo/Factory.hh"}, "updated_on": "2019-02-01T18:38:56.266292+00:00", "type": "pullrequest_comment", "id": 90192947}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90209245.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:c352b5da7bb6..06efe3b5ad0f?path=include%2Fignition%2Fgazebo%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90209245"}}, "parent": {"id": 90192947, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90192947.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90192947"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "@caguero and I concluded that making it part of the ECM probably doesn\u2019t make sense, because it would force the ECM to be a singleton, instead it probably should live as a member of the ECM.", "markup": "markdown", "html": "<p>@caguero and I concluded that making it part of the ECM probably doesn\u2019t make sense, because it would force the ECM to be a singleton, instead it probably should live as a member of the ECM.</p>", "type": "rendered"}, "created_on": "2019-02-01T22:04:28.388103+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": null, "from": null, "path": "include/ignition/gazebo/Factory.hh"}, "updated_on": "2019-02-01T22:04:28.403899+00:00", "type": "pullrequest_comment", "id": 90209245}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90318771.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:bd92d188835e..4957acb1df7a?path=include%2Fignition%2Fgazebo%2Fdetail%2FEntityComponentManager.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90318771"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "My reservation with this \\(vs embedding the hash in the object\\) is that this will be evaluated at run-time, rather than compile-time.", "markup": "markdown", "html": "<p>My reservation with this (vs embedding the hash in the object) is that this will be evaluated at run-time, rather than compile-time.</p>", "type": "rendered"}, "created_on": "2019-02-04T14:10:55.486929+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 39, "from": null, "path": "include/ignition/gazebo/detail/EntityComponentManager.hh"}, "updated_on": "2019-02-04T14:10:55.503584+00:00", "type": "pullrequest_comment", "id": 90318771}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90392977.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:91a913d77cbe..4957acb1df7a?path=include%2Fignition%2Fgazebo%2Fdetail%2FEntityComponentManager.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90392977"}}, "parent": {"id": 90318771, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90318771.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90318771"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Totally agreed but if we use the embedded `id` we might need to update a lot of tests. ", "markup": "markdown", "html": "<p>Totally agreed but if we use the embedded <code>id</code> we might need to update a lot of tests. </p>", "type": "rendered"}, "created_on": "2019-02-05T00:42:33.503386+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": 39, "from": null, "path": "include/ignition/gazebo/detail/EntityComponentManager.hh"}, "updated_on": "2019-02-05T00:42:33.516721+00:00", "type": "pullrequest_comment", "id": 90392977}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90397024.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90397024"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "I know @caguero is still working on the failing tests, but we can already see that the new hash function fixes the failing diff drive test on homebrew :tada: ", "markup": "markdown", "html": "<p>I know @caguero is still working on the failing tests, but we can already see that the new hash function fixes the failing diff drive test on homebrew <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f389.png\" alt=\"\ud83c\udf89\" title=\":tada:\" data-emoji-short-name=\":tada:\" /> </p>", "type": "rendered"}, "created_on": "2019-02-05T02:14:46.029485+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-02-05T02:14:46.049031+00:00", "type": "pullrequest_comment", "id": 90397024}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90404339.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90404339"}}, "parent": {"id": 90397024, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90397024.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90397024"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "But seems to create segfaults on others?", "markup": "markdown", "html": "<p>But seems to create segfaults on others?</p>", "type": "rendered"}, "created_on": "2019-02-05T05:23:26.579528+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "updated_on": "2019-02-05T05:23:26.588118+00:00", "type": "pullrequest_comment", "id": 90404339}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90481854.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90481854"}}, "parent": {"id": 90404339, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90404339.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90404339"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "@caguero Do you have time to look at the macOS segfaults or do you need to hand it off?", "markup": "markdown", "html": "<p>@caguero Do you have time to look at the macOS segfaults or do you need to hand it off?</p>", "type": "rendered"}, "created_on": "2019-02-05T14:35:52.153403+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "updated_on": "2019-02-05T14:35:52.235239+00:00", "type": "pullrequest_comment", "id": 90481854}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90499060.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90499060"}}, "parent": {"id": 90404339, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90404339.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90404339"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Oh now the diff drive is also failing with segfaults :cry: ", "markup": "markdown", "html": "<p>Oh now the diff drive is also failing with segfaults <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f622.png\" alt=\"\ud83d\ude22\" title=\":cry:\" data-emoji-short-name=\":cry:\" /> </p>", "type": "rendered"}, "created_on": "2019-02-05T15:57:44.795738+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-02-05T15:57:44.812804+00:00", "type": "pullrequest_comment", "id": 90499060}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90533827.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90533827"}}, "parent": {"id": 90404339, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90404339.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90404339"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "I built this branch on Linux with `clang7` and , and I\u2019m getting some more consistent segfaults.\n\n    #0  0x00007fffbfd33680 in ?? ()\n    #1  0x00007ffff7a77024 in std::_Function_base::~_Function_base (this=0x775048) at /usr/bin/../lib/gcc/x86_64-linux-gnu/8/../../../../include/c++/8/bits/std_function.h:257\n    #2  0x00007ffff7a76fe5 in std::function<std::unique_ptr<ignition::gazebo::v0::components::Component, std::default_delete<ignition::gazebo::v0::components::Component> > ()>::~function() (this=0x775048) at /usr/bin/../lib/gcc/x86_64-linux-gnu/8/../../../../include/c++/8/bits/std_functi\n    on.h:128\n    #3  0x00007ffff7a76fc9 in std::pair<unsigned long const, std::function<std::unique_ptr<ignition::gazebo::v0::components::Component, std::default_delete<ignition::gazebo::v0::components::Component> > ()> >::~pair() (this=0x775040) at /usr/bin/../lib/gcc/x86_64-linux-gnu/8/../../../../\n    include/c++/8/bits/stl_pair.h:198\n    ...\n    #11 0x00007ffff7a76ca5 in std::map<unsigned long, std::function<std::unique_ptr<ignition::gazebo::v0::components::Component, std::default_delete<ignition::gazebo::v0::components::Component> > ()>, std::less<unsigned long>, std::allocator<std::pair<unsigned long const, std::function<s\n    td::unique_ptr<ignition::gazebo::v0::components::Component, std::default_delete<ignition::gazebo::v0::components::Component> > ()> > > >::~map() (this=0x7ffff7dd3e08 <ignition::common::SingletonT<ignition::gazebo::v0::components::Factory>::GetInstance()::t+56>) at /usr/bin/../lib/gcc\n    /x86_64-linux-gnu/8/../../../../include/c++/8/bits/stl_map.h:300\n    #12 0x00007ffff7a76a51 in ignition::gazebo::v0::components::Factory::~Factory (this=0x7ffff7dd3dd0 <ignition::common::SingletonT<ignition::gazebo::v0::components::Factory>::GetInstance()::t>) at /home/michael/repos/ign-gazebo/include/ignition/gazebo/components/Factory.hh:39\n\n\u200c\n\nMy initial thought is that it looks like _maybe_ the memory that the function was in is no longer valid, so calling the destructor of the `std::function` causes the segfault.", "markup": "markdown", "html": "<p>I built this branch on Linux with <code>clang7</code> and , and I\u2019m getting some more consistent segfaults.</p>\n<div class=\"codehilite\"><pre><span></span>#0  0x00007fffbfd33680 in ?? ()\n#1  0x00007ffff7a77024 in std::_Function_base::~_Function_base (this=0x775048) at /usr/bin/../lib/gcc/x86_64-linux-gnu/8/../../../../include/c++/8/bits/std_function.h:257\n#2  0x00007ffff7a76fe5 in std::function&lt;std::unique_ptr&lt;ignition::gazebo::v0::components::Component, std::default_delete&lt;ignition::gazebo::v0::components::Component&gt; &gt; ()&gt;::~function() (this=0x775048) at /usr/bin/../lib/gcc/x86_64-linux-gnu/8/../../../../include/c++/8/bits/std_functi\non.h:128\n#3  0x00007ffff7a76fc9 in std::pair&lt;unsigned long const, std::function&lt;std::unique_ptr&lt;ignition::gazebo::v0::components::Component, std::default_delete&lt;ignition::gazebo::v0::components::Component&gt; &gt; ()&gt; &gt;::~pair() (this=0x775040) at /usr/bin/../lib/gcc/x86_64-linux-gnu/8/../../../../\ninclude/c++/8/bits/stl_pair.h:198\n...\n#11 0x00007ffff7a76ca5 in std::map&lt;unsigned long, std::function&lt;std::unique_ptr&lt;ignition::gazebo::v0::components::Component, std::default_delete&lt;ignition::gazebo::v0::components::Component&gt; &gt; ()&gt;, std::less&lt;unsigned long&gt;, std::allocator&lt;std::pair&lt;unsigned long const, std::function&lt;s\ntd::unique_ptr&lt;ignition::gazebo::v0::components::Component, std::default_delete&lt;ignition::gazebo::v0::components::Component&gt; &gt; ()&gt; &gt; &gt; &gt;::~map() (this=0x7ffff7dd3e08 &lt;ignition::common::SingletonT&lt;ignition::gazebo::v0::components::Factory&gt;::GetInstance()::t+56&gt;) at /usr/bin/../lib/gcc\n/x86_64-linux-gnu/8/../../../../include/c++/8/bits/stl_map.h:300\n#12 0x00007ffff7a76a51 in ignition::gazebo::v0::components::Factory::~Factory (this=0x7ffff7dd3dd0 &lt;ignition::common::SingletonT&lt;ignition::gazebo::v0::components::Factory&gt;::GetInstance()::t&gt;) at /home/michael/repos/ign-gazebo/include/ignition/gazebo/components/Factory.hh:39\n</pre></div>\n\n\n<p>\u200c</p>\n<p>My initial thought is that it looks like <em>maybe</em> the memory that the function was in is no longer valid, so calling the destructor of the <code>std::function</code> causes the segfault.</p>", "type": "rendered"}, "created_on": "2019-02-05T20:00:24.779056+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "updated_on": "2019-02-05T20:00:24.800534+00:00", "type": "pullrequest_comment", "id": 90533827}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90399201.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:91a913d77cbe..4957acb1df7a?path=src%2FEntityComponentManager.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90399201"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Remove debug output.", "markup": "markdown", "html": "<p>Remove debug output.</p>", "type": "rendered"}, "created_on": "2019-02-05T03:12:57.313732+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 76, "from": null, "path": "src/EntityComponentManager.cc"}, "updated_on": "2019-02-05T03:12:57.321869+00:00", "type": "pullrequest_comment", "id": 90399201}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90401997.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:43f17bf1c0aa..4957acb1df7a?path=src%2FEntityComponentManager.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90401997"}}, "parent": {"id": 90399201, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90399201.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90399201"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Removed in [43f17bf](#!/ignitionrobotics/ign-gazebo/commits/43f17bf1c0aa7c9ec9e58b09d1e908d5ce9ec793).", "markup": "markdown", "html": "<p>Removed in <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/commits/43f17bf1c0aa7c9ec9e58b09d1e908d5ce9ec793\" rel=\"nofollow\">43f17bf</a>.</p>", "type": "rendered"}, "created_on": "2019-02-05T04:29:25.789836+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": 76, "from": null, "path": "src/EntityComponentManager.cc"}, "updated_on": "2019-02-05T04:29:25.798711+00:00", "type": "pullrequest_comment", "id": 90401997}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90399272.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90399272"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "I think that this is great once that small bit of debug output is removed.  We can eventually update to use the `ComponentTypeT.id()` at a later date.", "markup": "markdown", "html": "<p>I think that this is great once that small bit of debug output is removed.  We can eventually update to use the <code>ComponentTypeT.id()</code> at a later date.</p>", "type": "rendered"}, "created_on": "2019-02-05T03:14:35.842677+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "updated_on": "2019-02-05T03:14:35.849652+00:00", "type": "pullrequest_comment", "id": 90399272}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90853834.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:ec915b729a28..2ea815165ad8?path=include%2Fignition%2Fgazebo%2FSdfEntityCreator.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90853834"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "I think none of the new headers are needed here, this may be a leftover from when everything was `Factory`", "markup": "markdown", "html": "<p>I think none of the new headers are needed here, this may be a leftover from when everything was <code>Factory</code></p>", "type": "rendered"}, "created_on": "2019-02-07T19:02:19.393281+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 24, "from": null, "path": "include/ignition/gazebo/SdfEntityCreator.hh"}, "updated_on": "2019-02-07T19:02:19.404540+00:00", "type": "pullrequest_comment", "id": 90853834}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90854086.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:ec915b729a28..2ea815165ad8?path=include%2Fignition%2Fgazebo%2Fcomponents%2FAltimeter.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90854086"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Just curious if the `SimpleWrapper` include was changed from `\"\"` to `<>` on purpose", "markup": "markdown", "html": "<p>Just curious if the <code>SimpleWrapper</code> include was changed from <code>\"\"</code> to <code>&lt;&gt;</code> on purpose</p>", "type": "rendered"}, "created_on": "2019-02-07T19:04:23.616145+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 22, "from": null, "path": "include/ignition/gazebo/components/Altimeter.hh"}, "updated_on": "2019-02-07T19:04:23.622968+00:00", "type": "pullrequest_comment", "id": 90854086}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90857424.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:ec915b729a28..2ea815165ad8?path=include%2Fignition%2Fgazebo%2Fcomponents%2FAltimeter.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90857424"}}, "parent": {"id": 90854086, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90854086.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90854086"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Not sure, maybe @caguero knows why?", "markup": "markdown", "html": "<p>Not sure, maybe @caguero knows why?</p>", "type": "rendered"}, "created_on": "2019-02-07T19:36:52.391408+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 22, "from": null, "path": "include/ignition/gazebo/components/Altimeter.hh"}, "updated_on": "2019-02-07T19:36:52.406634+00:00", "type": "pullrequest_comment", "id": 90857424}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90857759.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:ec915b729a28..2ea815165ad8?path=include%2Fignition%2Fgazebo%2Fcomponents%2FAltimeter.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90857759"}}, "parent": {"id": 90857424, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90857424.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90857424"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "I changed it for not having one with `<>` and the other with `\"\"` when both headers belong to ignition Gazebo. Is there any reason for keeping it as it was originally?", "markup": "markdown", "html": "<p>I changed it for not having one with <code>&lt;&gt;</code> and the other with <code>\"\"</code> when both headers belong to ignition Gazebo. Is there any reason for keeping it as it was originally?</p>", "type": "rendered"}, "created_on": "2019-02-07T19:39:47.154563+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "inline": {"to": 22, "from": null, "path": "include/ignition/gazebo/components/Altimeter.hh"}, "updated_on": "2019-02-07T19:39:47.165711+00:00", "type": "pullrequest_comment", "id": 90857759}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90858482.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:ec915b729a28..2ea815165ad8?path=include%2Fignition%2Fgazebo%2Fcomponents%2FAltimeter.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90858482"}}, "parent": {"id": 90857759, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90857759.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90857759"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "My understanding is that it is preferred to use `\"\"` for internal headers. I think all headers here could use that. I do remember a conversation we had a while back with @mxgrey about how it didn't really matter because of the way we handle things in Ignition, so I was wondering if it was because of that.", "markup": "markdown", "html": "<p>My understanding is that it is preferred to use <code>\"\"</code> for internal headers. I think all headers here could use that. I do remember a conversation we had a while back with @mxgrey about how it didn't really matter because of the way we handle things in Ignition, so I was wondering if it was because of that.</p>", "type": "rendered"}, "created_on": "2019-02-07T19:46:36.552563+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 22, "from": null, "path": "include/ignition/gazebo/components/Altimeter.hh"}, "updated_on": "2019-02-07T19:46:36.577229+00:00", "type": "pullrequest_comment", "id": 90858482}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90854587.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:ec915b729a28..2ea815165ad8?path=include%2Fignition%2Fgazebo%2Fcomponents%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90854587"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Missing documentation for `_desc`", "markup": "markdown", "html": "<p>Missing documentation for <code>_desc</code></p>", "type": "rendered"}, "created_on": "2019-02-07T19:09:25.816581+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 73, "from": null, "path": "include/ignition/gazebo/components/Factory.hh"}, "updated_on": "2019-02-07T19:09:25.827015+00:00", "type": "pullrequest_comment", "id": 90854587}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90855018.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:ec915b729a28..2ea815165ad8?path=include%2Fignition%2Fgazebo%2Fcomponents%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90855018"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "These could be static member variables?", "markup": "markdown", "html": "<p>These could be static member variables?</p>", "type": "rendered"}, "created_on": "2019-02-07T19:13:41.189712+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 104, "from": null, "path": "include/ignition/gazebo/components/Factory.hh"}, "updated_on": "2019-02-07T19:13:41.200809+00:00", "type": "pullrequest_comment", "id": 90855018}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90857575.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:ec915b729a28..2ea815165ad8?path=include%2Fignition%2Fgazebo%2Fcomponents%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90857575"}}, "parent": {"id": 90855018, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90855018.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90855018"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Yup, will update.", "markup": "markdown", "html": "<p>Yup, will update.</p>", "type": "rendered"}, "created_on": "2019-02-07T19:38:17.062954+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 104, "from": null, "path": "include/ignition/gazebo/components/Factory.hh"}, "updated_on": "2019-02-07T19:38:17.074919+00:00", "type": "pullrequest_comment", "id": 90857575}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90855809.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:ec915b729a28..2ea815165ad8?path=include%2Fignition%2Fgazebo%2Fdetail%2FEntityComponentManager.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90855809"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Gotta update the documentation:\n\n`include/ignition/gazebo/EntityComponentManager.hh:      /// function that is equivalent to typeid(ComponentTypeT).hash_code().`", "markup": "markdown", "html": "<p>Gotta update the documentation:</p>\n<p><code>include/ignition/gazebo/EntityComponentManager.hh:      /// function that is equivalent to typeid(ComponentTypeT).hash_code().</code></p>", "type": "rendered"}, "created_on": "2019-02-07T19:21:15.390956+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 39, "from": null, "path": "include/ignition/gazebo/detail/EntityComponentManager.hh"}, "updated_on": "2019-02-07T19:21:15.400516+00:00", "type": "pullrequest_comment", "id": 90855809}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90856525.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:ec915b729a28..2ea815165ad8?path=include%2Fignition%2Fgazebo%2Fcomponents%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90856525"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "It would be good to document all the `tparam`s", "markup": "markdown", "html": "<p>It would be good to document all the <code>tparam</code>s</p>", "type": "rendered"}, "created_on": "2019-02-07T19:28:17.533521+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "include/ignition/gazebo/components/Factory.hh"}, "updated_on": "2019-02-07T19:28:17.542377+00:00", "type": "pullrequest_comment", "id": 90856525}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90857024.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:ec915b729a28..2ea815165ad8?path=include%2Fignition%2Fgazebo%2Fcomponents%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90857024"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "It feels that this `New` function is asking for duplicate information. If we need to pass the precise type `T` as a template, couldn't we deduce `_type` from that?\n\nSomething like:\n\n`auto type = EntityComponentManager::ComponentType<T>();`\n", "markup": "markdown", "html": "<p>It feels that this <code>New</code> function is asking for duplicate information. If we need to pass the precise type <code>T</code> as a template, couldn't we deduce <code>_type</code> from that?</p>\n<p>Something like:</p>\n<p><code>auto type = EntityComponentManager::ComponentType&lt;T&gt;();</code></p>", "type": "rendered"}, "created_on": "2019-02-07T19:33:10.302965+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 89, "from": null, "path": "include/ignition/gazebo/components/Factory.hh"}, "updated_on": "2019-02-07T19:33:10.316839+00:00", "type": "pullrequest_comment", "id": 90857024}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90857558.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:ec915b729a28..2ea815165ad8?path=include%2Fignition%2Fgazebo%2Fcomponents%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90857558"}}, "parent": {"id": 90857024, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90857024.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90857024"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "You are correct, I\u2019ll modify.", "markup": "markdown", "html": "<p>You are correct, I\u2019ll modify.</p>", "type": "rendered"}, "created_on": "2019-02-07T19:38:08.421799+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 89, "from": null, "path": "include/ignition/gazebo/components/Factory.hh"}, "updated_on": "2019-02-07T19:38:08.435517+00:00", "type": "pullrequest_comment", "id": 90857558}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90857235.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90857235"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "I left some comments, but I think this is a good start for us to iterate on top of. I should mention here that I'm working on a PR to go on top of this one that will combine `Component`, `SimpleWrapper` and `TagWrapper` into a class.", "markup": "markdown", "html": "<p>I left some comments, but I think this is a good start for us to iterate on top of. I should mention here that I'm working on a PR to go on top of this one that will combine <code>Component</code>, <code>SimpleWrapper</code> and <code>TagWrapper</code> into a class.</p>", "type": "rendered"}, "created_on": "2019-02-07T19:35:04.795968+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-02-07T19:35:04.815032+00:00", "type": "pullrequest_comment", "id": 90857235}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90859311.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90859311"}}, "parent": {"id": 90857235, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147/comments/90857235.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147/_/diff#comment-90857235"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 147, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/147.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/147"}}, "title": "[A-4] Component factory"}, "content": {"raw": "Pushed some style tweaks and handled the latest added components on ddb719a", "markup": "markdown", "html": "<p>Pushed some style tweaks and handled the latest added components on <a href=\"#!/ignitionrobotics/ign-gazebo/commits/ddb719a\" rel=\"nofollow\" class=\"ap-connect-link\">ddb719a</a></p>", "type": "rendered"}, "created_on": "2019-02-07T19:54:28.538648+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-02-07T19:54:28.562354+00:00", "type": "pullrequest_comment", "id": 90859311}], "page": 1, "size": 36}