{"pagelen": 50, "values": [{"update": {"description": "This allows the simulation runner to publish to the root `/clock` topic if no other simulator is currently running.\r\n\r\nI verified the behavior by spinning up two `ign gazebo -v 4` in sequence:\r\n\r\n  \r\nOn the first:\r\n\r\n```\r\n[Msg] Found no publishers on /clock, adding root clock topic\r\n```\r\n\r\nOn the second:\r\n\r\n```\r\n[Wrn] [SimulationRunner.cc:428] Found additional publishers on /clock, using namespaced clock topic only\r\n[Dbg] [SimulationRunner.cc:430] Publishers [Address, Message Type]:\r\n[Dbg] [SimulationRunner.cc:436]   tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n```\r\n\r\n\u200c\r\n\r\nAlso can be verified via `ign topic` \\(both running the default world\\).\r\n\r\n```\r\n$ ign topic -i -t /clock\r\nPublishers [Address, Message Type]:\r\n  tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n  \r\n$ ign topic -i -t /world/default/clock\r\nPublishers [Address, Message Type]:\r\n  tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n  tcp://172.17.0.1:40865, ignition.msgs.Clock\r\n```", "title": "Additionally publish root /clock topic if no other simulation running", "destination": {"commit": {"hash": "9023d0ca2dd4", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/9023d0ca2dd4.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/9023d0ca2dd4"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "f15cdd1aaa63", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/f15cdd1aaa63.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/f15cdd1aaa63"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "root_clock_topic"}}, "state": "MERGED", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2019-06-28T21:38:07.074101+00:00"}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107524388.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107524388"}}, "parent": {"id": 107494426, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107494426.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107494426"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}, "content": {"raw": "thanks.", "markup": "markdown", "html": "<p>thanks.</p>", "type": "rendered"}, "created_on": "2019-06-28T21:37:53.786446+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2019-06-28T21:37:53.797331+00:00", "type": "pullrequest_comment", "id": 107524388}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"approval": {"date": "2019-06-28T17:27:25.540370+00:00", "pullrequest": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107494426.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107494426"}}, "parent": {"id": 107398950, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107398950.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107398950"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}, "content": {"raw": "Thanks for the explanation.\n\n> most of the time there is just one world being simulated. Feels better to make the primary use case easier.\n\nAgreed, and I don't think that's limited to the clock topic. We should figure out a more generic strategy for the whole transport API to be consistent. I ticketed [an asana task](https://app.asana.com/0/933859523081052/1129128283940144/f).\n\n", "markup": "markdown", "html": "<p>Thanks for the explanation.</p>\n<blockquote>\n<p>most of the time there is just one world being simulated. Feels better to make the primary use case easier.</p>\n</blockquote>\n<p>Agreed, and I don't think that's limited to the clock topic. We should figure out a more generic strategy for the whole transport API to be consistent. I ticketed <a data-is-external-link=\"true\" href=\"https://app.asana.com/0/933859523081052/1129128283940144/f\" rel=\"nofollow\">an asana task</a>.</p>", "type": "rendered"}, "created_on": "2019-06-28T15:59:41.273738+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-06-28T15:59:41.283405+00:00", "type": "pullrequest_comment", "id": 107494426}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107476947.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107476947"}}, "parent": {"id": 107385622, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107385622.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107385622"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}, "content": {"raw": "Thanks, merged here.", "markup": "markdown", "html": "<p>Thanks, merged here.</p>", "type": "rendered"}, "created_on": "2019-06-28T14:03:49.844714+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "updated_on": "2019-06-28T14:03:49.858486+00:00", "type": "pullrequest_comment", "id": 107476947}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"update": {"description": "This allows the simulation runner to publish to the root `/clock` topic if no other simulator is currently running.\r\n\r\nI verified the behavior by spinning up two `ign gazebo -v 4` in sequence:\r\n\r\n  \r\nOn the first:\r\n\r\n```\r\n[Msg] Found no publishers on /clock, adding root clock topic\r\n```\r\n\r\nOn the second:\r\n\r\n```\r\n[Wrn] [SimulationRunner.cc:428] Found additional publishers on /clock, using namespaced clock topic only\r\n[Dbg] [SimulationRunner.cc:430] Publishers [Address, Message Type]:\r\n[Dbg] [SimulationRunner.cc:436]   tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n```\r\n\r\n\u200c\r\n\r\nAlso can be verified via `ign topic` \\(both running the default world\\).\r\n\r\n```\r\n$ ign topic -i -t /clock\r\nPublishers [Address, Message Type]:\r\n  tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n  \r\n$ ign topic -i -t /world/default/clock\r\nPublishers [Address, Message Type]:\r\n  tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n  tcp://172.17.0.1:40865, ignition.msgs.Clock\r\n```", "title": "Additionally publish root /clock topic if no other simulation running", "destination": {"commit": {"hash": "f8caebaae69e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/f8caebaae69e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/f8caebaae69e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "f15cdd1aaa63", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/f15cdd1aaa63.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/f15cdd1aaa63"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "root_clock_topic"}}, "state": "OPEN", "author": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "date": "2019-06-28T13:46:01.903684+00:00"}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107398950.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107398950"}}, "parent": {"id": 107384060, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107384060.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107384060"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}, "content": {"raw": "Path of least resistance. Cloudsim server needs to listen to the clock topic. Instead of trying to figure out the correct world name, we can have a root clock topic.\n\nAdditionally, most of the time there is just one world being simulated. Feels better to make the primary use case easier.", "markup": "markdown", "html": "<p>Path of least resistance. Cloudsim server needs to listen to the clock topic. Instead of trying to figure out the correct world name, we can have a root clock topic.</p>\n<p>Additionally, most of the time there is just one world being simulated. Feels better to make the primary use case easier.</p>", "type": "rendered"}, "created_on": "2019-06-28T01:49:05.399862+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2019-06-28T01:49:05.409820+00:00", "type": "pullrequest_comment", "id": 107398950}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107385622.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107385622"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}, "content": {"raw": "I updated the SimulationRunner clock test in [root\\_clock\\_topic\\_ian](#!/ignitionrobotics/ign-gazebo/branch/root_clock_topic_ian?dest=root_clock_topic) branch to check for the `/clock` topic msgs, and hopefully fix the flaky test", "markup": "markdown", "html": "<p>I updated the SimulationRunner clock test in <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/branch/root_clock_topic_ian?dest=root_clock_topic\" rel=\"nofollow\">root_clock_topic_ian</a> branch to check for the <code>/clock</code> topic msgs, and hopefully fix the flaky test</p>", "type": "rendered"}, "created_on": "2019-06-27T21:30:44.820097+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2019-06-27T21:30:44.827654+00:00", "type": "pullrequest_comment", "id": 107385622}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107384859.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107384859"}}, "parent": {"id": 107383742, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107383742.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107383742"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}, "content": {"raw": "So I believe that if it is the case of multiple simulation runners starting in the same Server instance, this bit of code insures that they are starting sequentially: [#!/ignitionrobotics/ign-gazebo/src/0c60411df5f6b4a0c9b6f7fb9ea3b91e7f068f5b/src/Server.cc#lines-245](#!/ignitionrobotics/ign-gazebo/src/0c60411df5f6b4a0c9b6f7fb9ea3b91e7f068f5b/src/Server.cc#lines-245)\n\nIf it is multiple Server executables, then there will be a race condition, I\u2019m not sure how we would guarantee other than starting one, sleeping, then starting another.", "markup": "markdown", "html": "<p>So I believe that if it is the case of multiple simulation runners starting in the same Server instance, this bit of code insures that they are starting sequentially: <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/src/0c60411df5f6b4a0c9b6f7fb9ea3b91e7f068f5b/src/Server.cc#lines-245\" rel=\"nofollow\">#!/ignitionrobotics/ign-gazebo/src/0c60411df5f6b4a0c9b6f7fb9ea3b91e7f068f5b/src/Server.cc#lines-245</a></p>\n<p>If it is multiple Server executables, then there will be a race condition, I\u2019m not sure how we would guarantee other than starting one, sleeping, then starting another.</p>", "type": "rendered"}, "created_on": "2019-06-27T21:21:39.553807+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {}, "updated_on": "2019-06-27T21:21:39.562845+00:00", "type": "pullrequest_comment", "id": 107384859}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107384060.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107384060"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}, "content": {"raw": "I'm curious, what's the use case?", "markup": "markdown", "html": "<p>I'm curious, what's the use case?</p>", "type": "rendered"}, "created_on": "2019-06-27T21:12:21.618182+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-06-27T21:12:21.629409+00:00", "type": "pullrequest_comment", "id": 107384060}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107383742.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107383742"}}, "parent": {"id": 107383663, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107383663.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107383663"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}, "content": {"raw": "we may just have to live with it?\n", "markup": "markdown", "html": "<p>we may just have to live with it?</p>", "type": "rendered"}, "created_on": "2019-06-27T21:08:48.408349+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2019-06-27T21:08:48.419623+00:00", "type": "pullrequest_comment", "id": 107383742}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107383663.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107383663"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}, "content": {"raw": "seems like potential for a race condition here", "markup": "markdown", "html": "<p>seems like potential for a race condition here</p>", "type": "rendered"}, "created_on": "2019-06-27T21:07:54.500652+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {}, "updated_on": "2019-06-27T21:07:54.507338+00:00", "type": "pullrequest_comment", "id": 107383663}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367/comments/107380849.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367/_/diff#comment-107380849"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}, "content": {"raw": "Looks to be just a few known flaky tests?  \n  \nPipelines:\n\n```\nThe following tests FAILED:\n\t 21 - UNIT_SimulationRunner_TEST (Failed)\n\t 91 - INTEGRATION_log_system (Failed)\n```\n\nUbuntu:   \n[[https://build.osrfoundation.org/job/ignition\\_gazebo-ci-pr\\_any-ubuntu\\_auto-amd64/1799/testReport/junit/\\(root\\)/LevelManagerPerfrormance/LevelVsNoLevel/](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-ubuntu_auto-amd64/1799/testReport/junit/(root)/LevelManagerPerfrormance/LevelVsNoLevel/)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-ubuntu_auto-amd64/1799/testReport/junit/(root)/LevelManagerPerfrormance/LevelVsNoLevel)\n\nHomebrew:  \n`The following tests FAILED: 97 - INTEGRATION_gpu_lidar (Child aborted)`", "markup": "markdown", "html": "<p>Looks to be just a few known flaky tests?  </p>\n<p>Pipelines:</p>\n<div class=\"codehilite\"><pre><span></span>The following tests FAILED:\n     21 - UNIT_SimulationRunner_TEST (Failed)\n     91 - INTEGRATION_log_system (Failed)\n</pre></div>\n\n\n<p>Ubuntu: <br />\n<a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-ubuntu_auto-amd64/1799/testReport/junit/(root)/LevelManagerPerfrormance/LevelVsNoLevel\" rel=\"nofollow\">[https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-ubuntu_auto-amd64/1799/testReport/junit/(root)/LevelManagerPerfrormance/LevelVsNoLevel/](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-ubuntu_auto-amd64/1799/testReport/junit/(root)/LevelManagerPerfrormance/LevelVsNoLevel/)</a></p>\n<p>Homebrew:<br />\n<code>The following tests FAILED: 97 - INTEGRATION_gpu_lidar (Child aborted)</code></p>", "type": "rendered"}, "created_on": "2019-06-27T20:38:49.302803+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "updated_on": "2019-06-27T20:38:49.310176+00:00", "type": "pullrequest_comment", "id": 107380849}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"approval": {"date": "2019-06-27T20:23:16.299465+00:00", "pullrequest": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"update": {"description": "This allows the simulation runner to publish to the root `/clock` topic if no other simulator is currently running.\r\n\r\nI verified the behavior by spinning up two `ign gazebo -v 4` in sequence:\r\n\r\n  \r\nOn the first:\r\n\r\n```\r\n[Msg] Found no publishers on /clock, adding root clock topic\r\n```\r\n\r\nOn the second:\r\n\r\n```\r\n[Wrn] [SimulationRunner.cc:428] Found additional publishers on /clock, using namespaced clock topic only\r\n[Dbg] [SimulationRunner.cc:430] Publishers [Address, Message Type]:\r\n[Dbg] [SimulationRunner.cc:436]   tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n```\r\n\r\n\u200c\r\n\r\nAlso can be verified via `ign topic` \\(both running the default world\\).\r\n\r\n```\r\n$ ign topic -i -t /clock\r\nPublishers [Address, Message Type]:\r\n  tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n  \r\n$ ign topic -i -t /world/default/clock\r\nPublishers [Address, Message Type]:\r\n  tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n  tcp://172.17.0.1:40865, ignition.msgs.Clock\r\n```", "title": "Additionally publish root /clock topic if no other simulation running", "destination": {"commit": {"hash": "f8caebaae69e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/f8caebaae69e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/f8caebaae69e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "0e75c41d6b9c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/0e75c41d6b9c.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/0e75c41d6b9c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "root_clock_topic"}}, "state": "OPEN", "author": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "date": "2019-06-27T20:11:42.293531+00:00"}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"update": {"description": "This allows the simulation runner to publish to the root `/clock` topic if no other simulator is currently running.\r\n\r\nI verified the behavior by spinning up two `ign gazebo -v 4` in sequence:\r\n\r\n  \r\nOn the first:\r\n\r\n```\r\n[Msg] Found no publishers on /clock, adding root clock topic\r\n```\r\n\r\nOn the second:\r\n\r\n```\r\n[Wrn] [SimulationRunner.cc:428] Found additional publishers on /clock, using namespaced clock topic only\r\n[Dbg] [SimulationRunner.cc:430] Publishers [Address, Message Type]:\r\n[Dbg] [SimulationRunner.cc:436]   tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n```\r\n\r\n\u200c\r\n\r\nAlso can be verified via `ign topic` \\(both running the default world\\).\r\n\r\n```\r\n$ ign topic -i -t /clock\r\nPublishers [Address, Message Type]:\r\n  tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n  \r\n$ ign topic -i -t /world/default/clock\r\nPublishers [Address, Message Type]:\r\n  tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n  tcp://172.17.0.1:40865, ignition.msgs.Clock\r\n```", "title": "Additionally publish root /clock topic if no other simulation running", "destination": {"commit": {"hash": "f8caebaae69e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/f8caebaae69e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/f8caebaae69e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "0e75c41d6b9c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/0e75c41d6b9c.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/0e75c41d6b9c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "root_clock_topic"}}, "state": "OPEN", "author": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "date": "2019-06-27T20:11:40.372160+00:00"}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"update": {"description": "This allows the simulation runner to publish to the root `/clock` topic if no other simulator is currently running.\r\n\r\nI verified the behavior by spinning up two `ign gazebo -v 4` in sequence:\r\n\r\n  \r\nOn the first:\r\n\r\n```\r\n[Msg] Found no publishers on /clock, adding root clock topic\r\n```\r\n\r\nOn the second:\r\n\r\n```\r\n[Wrn] [SimulationRunner.cc:428] Found additional publishers on /clock, using namespaced clock topic only\r\n[Dbg] [SimulationRunner.cc:430] Publishers [Address, Message Type]:\r\n[Dbg] [SimulationRunner.cc:436]   tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n```\r\n\r\n\u200c\r\n\r\nAlso can be verified via `ign topic` \\(both running the default world\\).\r\n\r\n```\r\n$ ign topic -i -t /clock\r\nPublishers [Address, Message Type]:\r\n  tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n  \r\n$ ign topic -i -t /world/default/clock\r\nPublishers [Address, Message Type]:\r\n  tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n  tcp://172.17.0.1:40865, ignition.msgs.Clock\r\n```", "title": "Additionally publish root /clock topic if no other simulation running", "destination": {"commit": {"hash": "f8caebaae69e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/f8caebaae69e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/f8caebaae69e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "52b5fbee6528", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/52b5fbee6528.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/52b5fbee6528"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "root_clock_topic"}}, "state": "OPEN", "author": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "date": "2019-06-27T19:59:18.608227+00:00"}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}, {"update": {"description": "This allows the simulation runner to publish to the root `/clock` topic if no other simulator is currently running.\r\n\r\nI verified the behavior by spinning up two `ign gazebo -v 4` in sequence:\r\n\r\n  \r\nOn the first:\r\n\r\n```\r\n[Msg] Found no publishers on /clock, adding root clock topic\r\n```\r\n\r\nOn the second:\r\n\r\n```\r\n[Wrn] [SimulationRunner.cc:428] Found additional publishers on /clock, using namespaced clock topic only\r\n[Dbg] [SimulationRunner.cc:430] Publishers [Address, Message Type]:\r\n[Dbg] [SimulationRunner.cc:436]   tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n```\r\n\r\n\u200c\r\n\r\nAlso can be verified via `ign topic` \\(both running the default world\\).\r\n\r\n```\r\n$ ign topic -i -t /clock\r\nPublishers [Address, Message Type]:\r\n  tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n  \r\n$ ign topic -i -t /world/default/clock\r\nPublishers [Address, Message Type]:\r\n  tcp://172.17.0.1:43337, ignition.msgs.Clock\r\n  tcp://172.17.0.1:40865, ignition.msgs.Clock\r\n```", "title": "Additionally publish root /clock topic if no other simulation running", "destination": {"commit": {"hash": "f8caebaae69e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/f8caebaae69e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/f8caebaae69e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "52b5fbee6528", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/52b5fbee6528.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/52b5fbee6528"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "root_clock_topic"}}, "state": "OPEN", "author": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "date": "2019-06-27T19:59:18.548814+00:00"}, "pull_request": {"type": "pullrequest", "id": 367, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/367.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/367"}}, "title": "Additionally publish root /clock topic if no other simulation running"}}]}