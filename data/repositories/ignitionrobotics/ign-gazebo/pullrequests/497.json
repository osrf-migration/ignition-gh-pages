{"rendered": {"description": {"raw": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "markup": "markdown", "html": "<p>This splits off the overwrite feature from <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/397/blueprint-logging-meshes-and-materials\" rel=\"nofollow\" class=\"ap-connect-link\">PR #397</a>.</p>\n<h1 id=\"markdown-header-testing-log-overwrite\">Testing --log-overwrite</h1>\n<p>Similar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.</p>\n<p>1. No <code>--log-overwrite</code> (default):</p>\n<p>Note in Citadel, we log to the <code>&lt;path&gt;</code> specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in <code>ign.cc</code>.</p>\n<div class=\"codehilite\"><pre><span></span># This SDF specifies the equivalent of --record-path &#39;/tmp/log&#39;\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\n\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\n[Msg] Recording to log file [/tmp/log/state.tlog]\n</pre></div>\n\n\n<p>2. <code>--log-overwrite</code>, <code>/tmp/log</code> already exists:</p>\n<div class=\"codehilite\"><pre><span></span>$ ign gazebo -v <span class=\"m\">4</span> -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path <span class=\"s1\">&#39;/tmp/log&#39;</span>\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Log path already exists on disk! Existing files will be overwritten.\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Removing existing path <span class=\"o\">[</span>/tmp/log<span class=\"o\">]</span>\n...\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Recording to log file <span class=\"o\">[</span>/tmp/log/state.tlog<span class=\"o\">]</span>\n...\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Stopping recording\n</pre></div>\n\n\n<p>3. No path specified anywhere, should log to default path:</p>\n<p>Comment out <code>&lt;path&gt;&lt;/path&gt;</code> in the SDF, then run it:</p>\n<div class=\"codehilite\"><pre><span></span>$ ign gazebo -v <span class=\"m\">4</span> -r examples/worlds/log_record_dbl_pendulum.sdf\n</pre></div>\n\n\n<p>Recording should go to <code>$HOME/.ignition/\u2026</code> default path.</p>\n<p>4. Specify one path in SDF, another path on command line, should log to the path on command line:</p>\n<p>Double check that <code>&lt;path&gt;</code> in SDF says <code>/tmp/log</code>.</p>\n<p>Specify a different path on command line. The path on command line should be taken over the path in SDF:</p>\n<div class=\"codehilite\"><pre><span></span>$ ign gazebo -v <span class=\"m\">4</span> -r examples/worlds/log_record_dbl_pendulum.sdf --record-path <span class=\"s1\">&#39;/tmp/logging&#39;</span>\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Recording to log file <span class=\"o\">[</span>/tmp/logging/state.tlog<span class=\"o\">]</span>\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "title": {"raw": "Log record overwrite", "markup": "markdown", "html": "<p>Log record overwrite</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diffstat/ignitionrobotics/ign-gazebo:a053680a9450%0Dfa6cde757d2a?from_pullrequest_id=497"}, "commits": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/commits.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497.json"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/merge"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/497"}, "activity": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:a053680a9450%0Dfa6cde757d2a?from_pullrequest_id=497"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/approve"}, "statuses": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/497/statuses_page=1.json"}}, "title": "Log record overwrite", "close_source_branch": true, "reviewers": [{"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}], "id": 497, "destination": {"commit": {"hash": "fa6cde757d2a", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fa6cde757d2a.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fa6cde757d2a"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "created_on": "2019-12-28T09:52:26.917867+00:00", "summary": {"raw": "This splits off the overwrite feature from PR #397.\r\n\r\n# Testing --log-overwrite\r\n\r\nSimilar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.\r\n\r\n1\\. No `--log-overwrite` \\(default\\):\r\n\r\nNote in Citadel, we log to the `<path>` specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in `ign.cc`.\r\n\r\n```\r\n# This SDF specifies the equivalent of --record-path '/tmp/log'\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n\r\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n```\r\n\r\n2\\. `--log-overwrite`, `/tmp/log` already exists:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path '/tmp/log'\r\n[Msg] Log path already exists on disk! Existing files will be overwritten.\r\n[Msg] Removing existing path [/tmp/log]\r\n...\r\n[Msg] Recording to log file [/tmp/log/state.tlog]\r\n...\r\n[Msg] Stopping recording\r\n```\r\n\r\n3\\. No path specified anywhere, should log to default path:\r\n\r\nComment out `<path></path>` in the SDF, then run it:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\r\n```\r\n\r\nRecording should go to `$HOME/.ignition/\u2026` default path.\r\n\r\n4\\. Specify one path in SDF, another path on command line, should log to the path on command line:\r\n\r\nDouble check that `<path>` in SDF says `/tmp/log`.\r\n\r\nSpecify a different path on command line. The path on command line should be taken over the path in SDF:\r\n\r\n```\r\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf --record-path '/tmp/logging'\r\n[Msg] Recording to log file [/tmp/logging/state.tlog]\r\n```\r\n\r\n\u200c", "markup": "markdown", "html": "<p>This splits off the overwrite feature from <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/397/blueprint-logging-meshes-and-materials\" rel=\"nofollow\" class=\"ap-connect-link\">PR #397</a>.</p>\n<h1 id=\"markdown-header-testing-log-overwrite\">Testing --log-overwrite</h1>\n<p>Similar tests have been added to integration test, especially because there are subtle differences between each test case, and it will be hard to remember them all manually in the future.</p>\n<p>1. No <code>--log-overwrite</code> (default):</p>\n<p>Note in Citadel, we log to the <code>&lt;path&gt;</code> specified in SDF. In future versions, recording will be logged to the same directory as the console log directory initialized in <code>ign.cc</code>.</p>\n<div class=\"codehilite\"><pre><span></span># This SDF specifies the equivalent of --record-path &#39;/tmp/log&#39;\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\n\n# Run it again. By default it will always overwrite, because overwrite is now taken care of in ign.cc\n$ ign gazebo -v 4 -r examples/worlds/log_record_dbl_pendulum.sdf\n[Msg] Overwriting existing file [/tmp/log/state.tlog]\n[Msg] Recording to log file [/tmp/log/state.tlog]\n</pre></div>\n\n\n<p>2. <code>--log-overwrite</code>, <code>/tmp/log</code> already exists:</p>\n<div class=\"codehilite\"><pre><span></span>$ ign gazebo -v <span class=\"m\">4</span> -r examples/worlds/log_record_dbl_pendulum.sdf --log-overwrite --record-path <span class=\"s1\">&#39;/tmp/log&#39;</span>\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Log path already exists on disk! Existing files will be overwritten.\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Removing existing path <span class=\"o\">[</span>/tmp/log<span class=\"o\">]</span>\n...\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Recording to log file <span class=\"o\">[</span>/tmp/log/state.tlog<span class=\"o\">]</span>\n...\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Stopping recording\n</pre></div>\n\n\n<p>3. No path specified anywhere, should log to default path:</p>\n<p>Comment out <code>&lt;path&gt;&lt;/path&gt;</code> in the SDF, then run it:</p>\n<div class=\"codehilite\"><pre><span></span>$ ign gazebo -v <span class=\"m\">4</span> -r examples/worlds/log_record_dbl_pendulum.sdf\n</pre></div>\n\n\n<p>Recording should go to <code>$HOME/.ignition/\u2026</code> default path.</p>\n<p>4. Specify one path in SDF, another path on command line, should log to the path on command line:</p>\n<p>Double check that <code>&lt;path&gt;</code> in SDF says <code>/tmp/log</code>.</p>\n<p>Specify a different path on command line. The path on command line should be taken over the path in SDF:</p>\n<div class=\"codehilite\"><pre><span></span>$ ign gazebo -v <span class=\"m\">4</span> -r examples/worlds/log_record_dbl_pendulum.sdf --record-path <span class=\"s1\">&#39;/tmp/logging&#39;</span>\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Recording to log file <span class=\"o\">[</span>/tmp/logging/state.tlog<span class=\"o\">]</span>\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "source": {"commit": {"hash": "38dca59a2ece", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/38dca59a2ece.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/38dca59a2ece"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "log_overwrite"}}, "comment_count": 47, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2020-02-20T18:16:37.794098+00:00", "type": "participant", "approved": false, "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}}, {"role": "REVIEWER", "participated_on": "2020-02-20T02:43:45.656799+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}], "reason": "", "updated_on": "2020-02-20T18:16:37.794098+00:00", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "merge_commit": {"hash": "a053680a9450", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/a053680a9450.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/a053680a9450"}}}, "closed_by": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}