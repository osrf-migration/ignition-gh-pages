{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/387/comments/111436089.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:e363f3353237..cc505203a1d8?path=src%2Fsystems%2Fsensors%2FSensors.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/387/_/diff#comment-111436089"}}, "parent": {"id": 111431705, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/387/comments/111431705.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/387/_/diff#comment-111431705"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 387, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/387.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/387"}}, "title": "Add worker threads for System PostUpdate phase"}, "content": {"raw": "I\u2019ll add a comment. This is a workaround for the fact that the sensors don\u2019t update their delta/nextFrame status until the rendering is complete.\n\nThis mirrors the sensors internal logic, and masks out sensors that are currently being rendered, but have not completed rendering, so won\u2019t correctly report their status. The delta was chosen to be slightly smaller than the sensors actual internal computation \\(which is 1.0/UpdateRate\\(\\)\\)", "markup": "markdown", "html": "<p>I\u2019ll add a comment. This is a workaround for the fact that the sensors don\u2019t update their delta/nextFrame status until the rendering is complete.</p>\n<p>This mirrors the sensors internal logic, and masks out sensors that are currently being rendered, but have not completed rendering, so won\u2019t correctly report their status. The delta was chosen to be slightly smaller than the sensors actual internal computation (which is 1.0/UpdateRate())</p>", "type": "rendered"}, "created_on": "2019-07-31T17:03:45.120430+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {"to": 197, "from": null, "outdated": true, "path": "src/systems/sensors/Sensors.cc"}, "updated_on": "2019-07-31T17:04:05.603058+00:00", "type": "pullrequest_comment", "id": 111436089}