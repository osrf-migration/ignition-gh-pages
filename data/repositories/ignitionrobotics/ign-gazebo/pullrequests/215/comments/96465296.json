{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/215/comments/96465296.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/215/_/diff#comment-96465296"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 215, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/215.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/215"}}, "title": "[Blueprint] Use ign-sensors altimeter sensor plugin"}, "content": {"raw": "I am having this with sensor\u2019s tests \\(the same happens with the logical camera\\)\n\n```\ndocker@1cddca897185:~/ignition/ign-gazebo/build$ ./bin/INTEGRATION_altimeter_system \nRunning main() from gtest_main.cc\n[==========] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from AltimeterTest\n[ RUN      ] AltimeterTest.ModelFalling\n[Msg] Loading SDF world file[/home/docker/ignition/ign-gazebo/test/worlds/altimeter.sdf].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [2251689575469537287].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [13994732549916512682].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [12592746352568925681].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [13224937992534617849].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [8064491505919932473].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [2668898242563798256].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [11371360182141354106].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [3297509811873971798].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [6687176221774458630].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [6612894081701502240].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [8546580419506082455].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [5081358965268446661].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [8112400427272910195].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [16454635107327670381].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [17121648710877364109].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [9853217982010720764].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [17938588655714334139].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [10522242218202596205].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [273039548655896271].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [12769636460016203504].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [10461520141335422054].\n[Dbg] [EntityComponentManager.cc:537] Created storage for component type [12173050716021724529].\n[Msg] Serving GUI information on [/world/altimeter_sensor/gui/info]\n[Msg] World [altimeter_sensor] initialized with [1ms] physics profile.\n[Err] [SensorFactory.cc:74] Unable to find sensor plugin path for [ignition-sensors1-altimeter]\n[Err] [SensorFactory.cc:115] Unable to instantiate sensor plugin for [ignition-sensors1-altimeter]\n[Err] [SensorFactory.hh:104] Failed to create sensor of type[altimeter]\nSegmentation fault (core dumped)\n```\n\nEDIT: maybe I am missing a env variable .", "markup": "markdown", "html": "<p>I am having this with sensor\u2019s tests (the same happens with the logical camera)</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">docker</span><span class=\"mi\">@1</span><span class=\"nl\">cddca897185</span><span class=\"p\">:</span><span class=\"o\">~/</span><span class=\"n\">ignition</span><span class=\"o\">/</span><span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"err\">$</span> <span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">INTEGRATION_altimeter_system</span> \n<span class=\"n\">Running</span> <span class=\"n\">main</span><span class=\"p\">()</span> <span class=\"n\">from</span> <span class=\"n\">gtest_main</span><span class=\"p\">.</span><span class=\"n\">cc</span>\n<span class=\"p\">[</span><span class=\"o\">==========</span><span class=\"p\">]</span> <span class=\"n\">Running</span> <span class=\"mi\">1</span> <span class=\"n\">test</span> <span class=\"n\">from</span> <span class=\"mi\">1</span> <span class=\"n\">test</span> <span class=\"k\">case</span><span class=\"p\">.</span>\n<span class=\"p\">[</span><span class=\"o\">----------</span><span class=\"p\">]</span> <span class=\"n\">Global</span> <span class=\"n\">test</span> <span class=\"n\">environment</span> <span class=\"n\">set</span><span class=\"o\">-</span><span class=\"n\">up</span><span class=\"p\">.</span>\n<span class=\"p\">[</span><span class=\"o\">----------</span><span class=\"p\">]</span> <span class=\"mi\">1</span> <span class=\"n\">test</span> <span class=\"n\">from</span> <span class=\"n\">AltimeterTest</span>\n<span class=\"p\">[</span> <span class=\"n\">RUN</span>      <span class=\"p\">]</span> <span class=\"n\">AltimeterTest</span><span class=\"p\">.</span><span class=\"n\">ModelFalling</span>\n<span class=\"p\">[</span><span class=\"n\">Msg</span><span class=\"p\">]</span> <span class=\"n\">Loading</span> <span class=\"n\">SDF</span> <span class=\"n\">world</span> <span class=\"n\">file</span><span class=\"p\">[</span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">docker</span><span class=\"o\">/</span><span class=\"n\">ignition</span><span class=\"o\">/</span><span class=\"n\">ign</span><span class=\"o\">-</span><span class=\"n\">gazebo</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"o\">/</span><span class=\"n\">worlds</span><span class=\"o\">/</span><span class=\"n\">altimeter</span><span class=\"p\">.</span><span class=\"n\">sdf</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">2251689575469537287</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">13994732549916512682</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">12592746352568925681</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">13224937992534617849</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">8064491505919932473</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">2668898242563798256</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">11371360182141354106</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">3297509811873971798</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">6687176221774458630</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">6612894081701502240</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">8546580419506082455</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">5081358965268446661</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">8112400427272910195</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">16454635107327670381</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">17121648710877364109</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">9853217982010720764</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">17938588655714334139</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">10522242218202596205</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">273039548655896271</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">12769636460016203504</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">10461520141335422054</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Dbg</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">EntityComponentManager</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">537</span><span class=\"p\">]</span> <span class=\"n\">Created</span> <span class=\"n\">storage</span> <span class=\"k\">for</span> <span class=\"n\">component</span> <span class=\"n\">type</span> <span class=\"p\">[</span><span class=\"mi\">12173050716021724529</span><span class=\"p\">].</span>\n<span class=\"p\">[</span><span class=\"n\">Msg</span><span class=\"p\">]</span> <span class=\"n\">Serving</span> <span class=\"n\">GUI</span> <span class=\"n\">information</span> <span class=\"n\">on</span> <span class=\"p\">[</span><span class=\"o\">/</span><span class=\"n\">world</span><span class=\"o\">/</span><span class=\"n\">altimeter_sensor</span><span class=\"o\">/</span><span class=\"n\">gui</span><span class=\"o\">/</span><span class=\"n\">info</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">Msg</span><span class=\"p\">]</span> <span class=\"n\">World</span> <span class=\"p\">[</span><span class=\"n\">altimeter_sensor</span><span class=\"p\">]</span> <span class=\"n\">initialized</span> <span class=\"n\">with</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"n\">ms</span><span class=\"p\">]</span> <span class=\"n\">physics</span> <span class=\"n\">profile</span><span class=\"p\">.</span>\n<span class=\"p\">[</span><span class=\"n\">Err</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">SensorFactory</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">74</span><span class=\"p\">]</span> <span class=\"n\">Unable</span> <span class=\"n\">to</span> <span class=\"n\">find</span> <span class=\"n\">sensor</span> <span class=\"n\">plugin</span> <span class=\"n\">path</span> <span class=\"k\">for</span> <span class=\"p\">[</span><span class=\"n\">ignition</span><span class=\"o\">-</span><span class=\"n\">sensors1</span><span class=\"o\">-</span><span class=\"n\">altimeter</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">Err</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">SensorFactory</span><span class=\"p\">.</span><span class=\"nl\">cc</span><span class=\"p\">:</span><span class=\"mi\">115</span><span class=\"p\">]</span> <span class=\"n\">Unable</span> <span class=\"n\">to</span> <span class=\"n\">instantiate</span> <span class=\"n\">sensor</span> <span class=\"n\">plugin</span> <span class=\"k\">for</span> <span class=\"p\">[</span><span class=\"n\">ignition</span><span class=\"o\">-</span><span class=\"n\">sensors1</span><span class=\"o\">-</span><span class=\"n\">altimeter</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">Err</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">SensorFactory</span><span class=\"p\">.</span><span class=\"nl\">hh</span><span class=\"p\">:</span><span class=\"mi\">104</span><span class=\"p\">]</span> <span class=\"n\">Failed</span> <span class=\"n\">to</span> <span class=\"n\">create</span> <span class=\"n\">sensor</span> <span class=\"n\">of</span> <span class=\"n\">type</span><span class=\"p\">[</span><span class=\"n\">altimeter</span><span class=\"p\">]</span>\n<span class=\"n\">Segmentation</span> <span class=\"n\">fault</span> <span class=\"p\">(</span><span class=\"n\">core</span> <span class=\"n\">dumped</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>EDIT: maybe I am missing a env variable .</p>", "type": "rendered"}, "created_on": "2019-03-26T19:33:27.639980+00:00", "user": {"display_name": "Javier Iv\u00e1n Choclin", "uuid": "{745acb37-6a3b-4169-8ba9-2c142a7408fb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D"}, "html": {"href": "https://bitbucket.org/%7B745acb37-6a3b-4169-8ba9-2c142a7408fb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2279399d-3c75-4e1e-b818-4fb8339b2939/26f5815d-5477-4106-ba9b-ac56ee23e175/128"}}, "nickname": "Javier Choclin", "type": "user", "account_id": "557058:2279399d-3c75-4e1e-b818-4fb8339b2939"}, "updated_on": "2019-03-26T19:34:33.868049+00:00", "type": "pullrequest_comment", "id": 96465296}