{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/38/comments/75487767.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/38/_/diff#comment-75487767"}}, "parent": {"id": 75382270, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/38/comments/75382270.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/38/_/diff#comment-75382270"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 38, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/38.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/38"}}, "title": "Implements AddSystem for adding systems to servers once loaded"}, "content": {"raw": "That test just takes a really long time. On my machine, it took 183s. I think it timed out on pipelines. I have traced it down this: [#!/ignitionrobotics/ign-gazebo/src/b549ed525915e75c78015c481bb457fd0a935d4f/src/Server\\_TEST.cc#lines-180:182](#!/ignitionrobotics/ign-gazebo/src/b549ed525915e75c78015c481bb457fd0a935d4f/src/Server_TEST.cc#lines-180:182). `server1` is running for 999999 iterations, each of which takes about 150us \\(depending on CPU load\\) due to sleeps and debug prints in `Physics.cc`.  I lowered the iterations to 9999 and the test still passes but only takes <5 seconds. I think the test would be more reliable if we could just stop the server after the EXPECT calls instead of setting the number of iterations because the duration of each iteration will change as the code changes. But there is no `Server::Stop` right now.", "markup": "markdown", "html": "<p>That test just takes a really long time. On my machine, it took 183s. I think it timed out on pipelines. I have traced it down this: <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/src/b549ed525915e75c78015c481bb457fd0a935d4f/src/Server_TEST.cc#lines-180:182\" rel=\"nofollow\">#!/ignitionrobotics/ign-gazebo/src/b549ed525915e75c78015c481bb457fd0a935d4f/src/Server_TEST.cc#lines-180:182</a>. <code>server1</code> is running for 999999 iterations, each of which takes about 150us (depending on CPU load) due to sleeps and debug prints in <code>Physics.cc</code>.  I lowered the iterations to 9999 and the test still passes but only takes &lt;5 seconds. I think the test would be more reliable if we could just stop the server after the EXPECT calls instead of setting the number of iterations because the duration of each iteration will change as the code changes. But there is no <code>Server::Stop</code> right now.</p>", "type": "rendered"}, "created_on": "2018-09-10T15:03:50.822131+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2018-09-10T15:03:50.840471+00:00", "type": "pullrequest_comment", "id": 75487767}