{"pagelen": 50, "values": [{"update": {"description": "The  position passed to the context menu was relative to the item so when you have a long list of entities in the entity tree, the entity context menu always pops up near the top of the entity tree widget.\r\n\r\nFixed by manually calculating the item offset position and adding the mouse pos to it. Not sure if that\u2019s the best way to do it or if there is a more convenient property to get the pos from.\r\n\r\nI accidentally pushed these changes to `ign-gazebo2` and reverted them in [f0e9d7d](#!/ignitionrobotics/ign-gazebo/commits/f0e9d7d135080a9b998d52b71290ba937b49dd2f)", "title": "Fix entity tree context menu position", "destination": {"commit": {"hash": "0f217dd1f710", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/0f217dd1f710.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/0f217dd1f710"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "d0ff4964a406", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/d0ff4964a406.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/d0ff4964a406"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "entity_tree_context"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-03-21T00:57:00.159696+00:00"}, "pull_request": {"type": "pullrequest", "id": 567, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567"}}, "title": "Fix entity tree context menu position"}}, {"approval": {"date": "2020-03-21T00:56:53.063626+00:00", "pullrequest": {"type": "pullrequest", "id": 567, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567"}}, "title": "Fix entity tree context menu position"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 567, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567"}}, "title": "Fix entity tree context menu position"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567/comments/141263449.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567/_/diff#comment-141263449"}}, "parent": {"id": 141263055, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567/comments/141263055.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567/_/diff#comment-141263055"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 567, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567"}}, "title": "Fix entity tree context menu position"}, "content": {"raw": "nice, updated. [e56567b](#!/ignitionrobotics/ign-gazebo/commits/e56567b1fdfec77778ac556d39cbd4c2aa71f73f)", "markup": "markdown", "html": "<p>nice, updated. <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/commits/e56567b1fdfec77778ac556d39cbd4c2aa71f73f\" rel=\"nofollow\">e56567b</a></p>", "type": "rendered"}, "created_on": "2020-03-21T00:54:57.042983+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-03-21T00:54:57.049671+00:00", "type": "pullrequest_comment", "id": 141263449}, "pull_request": {"type": "pullrequest", "id": 567, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567"}}, "title": "Fix entity tree context menu position"}}, {"update": {"description": "The  position passed to the context menu was relative to the item so when you have a long list of entities in the entity tree, the entity context menu always pops up near the top of the entity tree widget.\r\n\r\nFixed by manually calculating the item offset position and adding the mouse pos to it. Not sure if that\u2019s the best way to do it or if there is a more convenient property to get the pos from.\r\n\r\nI accidentally pushed these changes to `ign-gazebo2` and reverted them in [f0e9d7d](#!/ignitionrobotics/ign-gazebo/commits/f0e9d7d135080a9b998d52b71290ba937b49dd2f)", "title": "Fix entity tree context menu position", "destination": {"commit": {"hash": "0f217dd1f710", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/0f217dd1f710.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/0f217dd1f710"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "d0ff4964a406", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/d0ff4964a406.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/d0ff4964a406"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "entity_tree_context"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-03-21T00:54:34.734994+00:00"}, "pull_request": {"type": "pullrequest", "id": 567, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567"}}, "title": "Fix entity tree context menu position"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567/comments/141263055.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567/_/diff#comment-141263055"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 567, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567"}}, "title": "Fix entity tree context menu position"}, "content": {"raw": "This is not working for nested items because `styleData.index.row` returns the nested row, not the global one.\n\nThis worked better for me:\n\n```.diff\ndiff -r 1df46fcbe23e src/gui/plugins/entity_tree/EntityTree.qml\n--- a/src/gui/plugins/entity_tree/EntityTree.qml        Fri Mar 20 16:02:03 2020 -0700\n+++ b/src/gui/plugins/entity_tree/EntityTree.qml        Fri Mar 20 17:34:58 2020 -0700\n@@ -205,8 +205,8 @@\n             if (mouse.button == Qt.RightButton) {\n               var type = EntityTreeModel.EntityType(styleData.index)\n               var scopedName = EntityTreeModel.ScopedName(styleData.index)\n-              entityContextMenu.open(scopedName, type, parent.x + ma.mouseX,\n-                  styleData.index.row * itemHeight + ma.mouseY)\n+              var posInTree = mapToItem(entityTree, ma.mouseX, ma.mouseY)\n+              entityContextMenu.open(scopedName, type, posInTree.x, posInTree.y)\n               // Prevent plugin's context menu from opening\n               mouse.accepted = true\n             }\n```", "markup": "markdown", "html": "<p>This is not working for nested items because <code>styleData.index.row</code> returns the nested row, not the global one.</p>\n<p>This worked better for me:</p>\n<div class=\"codehilite language-diff\"><pre><span></span><span class=\"gh\">diff -r 1df46fcbe23e src/gui/plugins/entity_tree/EntityTree.qml</span>\n<span class=\"gd\">--- a/src/gui/plugins/entity_tree/EntityTree.qml        Fri Mar 20 16:02:03 2020 -0700</span>\n<span class=\"gi\">+++ b/src/gui/plugins/entity_tree/EntityTree.qml        Fri Mar 20 17:34:58 2020 -0700</span>\n<span class=\"gu\">@@ -205,8 +205,8 @@</span>\n             if (mouse.button == Qt.RightButton) {\n               var type = EntityTreeModel.EntityType(styleData.index)\n               var scopedName = EntityTreeModel.ScopedName(styleData.index)\n<span class=\"gd\">-              entityContextMenu.open(scopedName, type, parent.x + ma.mouseX,</span>\n<span class=\"gd\">-                  styleData.index.row * itemHeight + ma.mouseY)</span>\n<span class=\"gi\">+              var posInTree = mapToItem(entityTree, ma.mouseX, ma.mouseY)</span>\n<span class=\"gi\">+              entityContextMenu.open(scopedName, type, posInTree.x, posInTree.y)</span>\n               // Prevent plugin&#39;s context menu from opening\n               mouse.accepted = true\n             }\n</pre></div>", "type": "rendered"}, "created_on": "2020-03-21T00:36:07.993522+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-03-21T00:36:08.000014+00:00", "type": "pullrequest_comment", "id": 141263055}, "pull_request": {"type": "pullrequest", "id": 567, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567"}}, "title": "Fix entity tree context menu position"}}, {"update": {"description": "The  position passed to the context menu was relative to the item so when you have a long list of entities in the entity tree, the entity context menu always pops up near the top of the entity tree widget.\r\n\r\nFixed by manually calculating the item offset position and adding the mouse pos to it. Not sure if that\u2019s the best way to do it or if there is a more convenient property to get the pos from.\r\n\r\nI accidentally pushed these changes to `ign-gazebo2` and reverted them in [f0e9d7d](#!/ignitionrobotics/ign-gazebo/commits/f0e9d7d135080a9b998d52b71290ba937b49dd2f)", "title": "Fix entity tree context menu position", "destination": {"commit": {"hash": "f0e9d7d13508", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/f0e9d7d13508.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/f0e9d7d13508"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "1df46fcbe23e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/1df46fcbe23e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/1df46fcbe23e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "entity_tree_context"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-03-20T23:09:23.769487+00:00"}, "pull_request": {"type": "pullrequest", "id": 567, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567"}}, "title": "Fix entity tree context menu position"}}, {"update": {"description": "The  position passed to the context menu was relative to the item so when you have a long list of entities in the entity tree, the entity context menu always pops up near the top of the entity tree widget.\r\n\r\nFixed by manually calculating the item offset position and adding the mouse pos to it. Not sure if that\u2019s the best way to do it or if there is a more convenient property to get the pos from.\r\n\r\nI accidentally pushed these changes to `ign-gazebo2` and reverted them in [f0e9d7d](#!/ignitionrobotics/ign-gazebo/commits/f0e9d7d135080a9b998d52b71290ba937b49dd2f)", "title": "Fix entity tree context menu position", "destination": {"commit": {"hash": "f0e9d7d13508", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/f0e9d7d13508.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/f0e9d7d13508"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "1df46fcbe23e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/1df46fcbe23e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/1df46fcbe23e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "entity_tree_context"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-03-20T23:09:23.714816+00:00"}, "pull_request": {"type": "pullrequest", "id": 567, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/567.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/567"}}, "title": "Fix entity tree context menu position"}}]}