{"rendered": {"description": {"raw": "While debugging issue #1, I noticed that geometries weren\u2019t being rendered correctly when a link was given a transform relative to the model. It seems that this was affecting the \u201ccanonical link\u201d specifically, because the relative transform was being added on top of the model transform, when the relative transform should really be identity for the canonical link.\r\n\r\nTo test this issue, you can load the `debug_shapes.sdf` file with and without the change to see that two boxes which should be identical will land in different spots without the change.\r\n\r\nBefore change:\r\n\r\n![](data/bitbucket.org/repo/8zodKzn/images/1979105324-Screenshot_from_2018-10-08_15-38-58.png)\r\n\u200c\r\n\r\n After change:\r\n\r\n![](data/bitbucket.org/repo/8zodKzn/images/832205100-Screenshot_from_2018-10-08_15-40-34.png)\r\n  \r\n The change in this PR ensures that the canonical link pose is always transmitted as identity.\r\n\r\nThat said, I would suggest that we reconsider defining these poses as relative to the model transform, since that adds a layer of complexity and confusion which isn\u2019t necessary \\(unless there\u2019s some benefit for rendering or other systems that I\u2019m unaware of\\).", "markup": "markdown", "html": "<p>While debugging issue <a href=\"#!/ignitionrobotics/ign-gazebo/issues/1/weird-sphere-movement\" rel=\"nofollow\" title=\"Weird sphere movement\" class=\"ap-connect-link\"><s>#1</s></a>, I noticed that geometries weren\u2019t being rendered correctly when a link was given a transform relative to the model. It seems that this was affecting the \u201ccanonical link\u201d specifically, because the relative transform was being added on top of the model transform, when the relative transform should really be identity for the canonical link.</p>\n<p>To test this issue, you can load the <code>debug_shapes.sdf</code> file with and without the change to see that two boxes which should be identical will land in different spots without the change.</p>\n<p>Before change:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/8zodKzn/images/1979105324-Screenshot_from_2018-10-08_15-38-58.png\" />\n\u200c</p>\n<p>After change:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/8zodKzn/images/832205100-Screenshot_from_2018-10-08_15-40-34.png\" /></p>\n<p>The change in this PR ensures that the canonical link pose is always transmitted as identity.</p>\n<p>That said, I would suggest that we reconsider defining these poses as relative to the model transform, since that adds a layer of complexity and confusion which isn\u2019t necessary (unless there\u2019s some benefit for rendering or other systems that I\u2019m unaware of).</p>", "type": "rendered"}, "title": {"raw": "Ensure correct transform for canonical link", "markup": "markdown", "html": "<p>Ensure correct transform for canonical link</p>", "type": "rendered"}}, "type": "pullrequest", "description": "While debugging issue #1, I noticed that geometries weren\u2019t being rendered correctly when a link was given a transform relative to the model. It seems that this was affecting the \u201ccanonical link\u201d specifically, because the relative transform was being added on top of the model transform, when the relative transform should really be identity for the canonical link.\r\n\r\nTo test this issue, you can load the `debug_shapes.sdf` file with and without the change to see that two boxes which should be identical will land in different spots without the change.\r\n\r\nBefore change:\r\n\r\n![](data/bitbucket.org/repo/8zodKzn/images/1979105324-Screenshot_from_2018-10-08_15-38-58.png)\r\n\u200c\r\n\r\n After change:\r\n\r\n![](data/bitbucket.org/repo/8zodKzn/images/832205100-Screenshot_from_2018-10-08_15-40-34.png)\r\n  \r\n The change in this PR ensures that the canonical link pose is always transmitted as identity.\r\n\r\nThat said, I would suggest that we reconsider defining these poses as relative to the model transform, since that adds a layer of complexity and confusion which isn\u2019t necessary \\(unless there\u2019s some benefit for rendering or other systems that I\u2019m unaware of\\).", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/57/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diffstat/ignitionrobotics/ign-gazebo:e7702012c785%0Dba45cc52db64?from_pullrequest_id=57"}, "commits": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/57/commits.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/57.json"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/57/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/57/merge"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/57"}, "activity": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/57/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:e7702012c785%0Dba45cc52db64?from_pullrequest_id=57"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/57/approve"}, "statuses": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/57/statuses_page=1.json"}}, "title": "Ensure correct transform for canonical link", "close_source_branch": true, "reviewers": [], "id": 57, "destination": {"commit": {"hash": "ba45cc52db64", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/ba45cc52db64.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/ba45cc52db64"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "gui_plugins"}}, "created_on": "2018-10-08T07:50:36.571353+00:00", "summary": {"raw": "While debugging issue #1, I noticed that geometries weren\u2019t being rendered correctly when a link was given a transform relative to the model. It seems that this was affecting the \u201ccanonical link\u201d specifically, because the relative transform was being added on top of the model transform, when the relative transform should really be identity for the canonical link.\r\n\r\nTo test this issue, you can load the `debug_shapes.sdf` file with and without the change to see that two boxes which should be identical will land in different spots without the change.\r\n\r\nBefore change:\r\n\r\n![](data/bitbucket.org/repo/8zodKzn/images/1979105324-Screenshot_from_2018-10-08_15-38-58.png)\r\n\u200c\r\n\r\n After change:\r\n\r\n![](data/bitbucket.org/repo/8zodKzn/images/832205100-Screenshot_from_2018-10-08_15-40-34.png)\r\n  \r\n The change in this PR ensures that the canonical link pose is always transmitted as identity.\r\n\r\nThat said, I would suggest that we reconsider defining these poses as relative to the model transform, since that adds a layer of complexity and confusion which isn\u2019t necessary \\(unless there\u2019s some benefit for rendering or other systems that I\u2019m unaware of\\).", "markup": "markdown", "html": "<p>While debugging issue <a href=\"#!/ignitionrobotics/ign-gazebo/issues/1/weird-sphere-movement\" rel=\"nofollow\" title=\"Weird sphere movement\" class=\"ap-connect-link\"><s>#1</s></a>, I noticed that geometries weren\u2019t being rendered correctly when a link was given a transform relative to the model. It seems that this was affecting the \u201ccanonical link\u201d specifically, because the relative transform was being added on top of the model transform, when the relative transform should really be identity for the canonical link.</p>\n<p>To test this issue, you can load the <code>debug_shapes.sdf</code> file with and without the change to see that two boxes which should be identical will land in different spots without the change.</p>\n<p>Before change:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/8zodKzn/images/1979105324-Screenshot_from_2018-10-08_15-38-58.png\" />\n\u200c</p>\n<p>After change:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/8zodKzn/images/832205100-Screenshot_from_2018-10-08_15-40-34.png\" /></p>\n<p>The change in this PR ensures that the canonical link pose is always transmitted as identity.</p>\n<p>That said, I would suggest that we reconsider defining these poses as relative to the model transform, since that adds a layer of complexity and confusion which isn\u2019t necessary (unless there\u2019s some benefit for rendering or other systems that I\u2019m unaware of).</p>", "type": "rendered"}, "source": {"commit": {"hash": "271030b63a7b", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/271030b63a7b.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/271030b63a7b"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "gui_plugins_ExtraRotation"}}, "comment_count": 7, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2018-10-08T16:52:13.951143+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "PARTICIPANT", "participated_on": "2018-10-09T02:57:26.550389+00:00", "type": "participant", "approved": false, "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}}, {"role": "PARTICIPANT", "participated_on": "2018-10-09T17:25:26.045054+00:00", "type": "participant", "approved": false, "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}}], "reason": "", "updated_on": "2018-10-09T18:45:11.903501+00:00", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "merge_commit": {"hash": "e7702012c785", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/e7702012c785.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/e7702012c785"}}}, "closed_by": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}