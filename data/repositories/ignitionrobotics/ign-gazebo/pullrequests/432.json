{"rendered": {"description": {"raw": "Main changes are:\r\n\r\n* Use a more precise value of pi/2 for the orientation of wheels\r\n* Set fdir1, without which `<mu>` and `<mu2>` are not interpreted correctly\r\n* Scale the wheel separation by `1.24`. This I computed by dividing the commanded angular velocity by the measured angular velocity from the IMU. \r\n\r\nThe vehicle steers well without having to set the slip parameters.\r\n\r\nI noticed that the RTF was about 50% on my computer. Having 8 wheels per vehicle seems to strain the contact constraint solver in DART.\r\n\r\n## To Test\r\nRun\r\n```\r\nign gazebo -v 4 -r examples/worlds/track_drive.sdf  \r\n```\r\n\r\nIn another terminal, \r\n```\r\nign topic -t \"/model/vehicle_blue/cmd_vel\" -m ignition.msgs.Twist -p \"linear: {x: 2.0}, angular: {z: 1.0}\"\r\n```\r\n\r\nTo check the angular velocity,\r\n```\r\nign topic -e -t /world/track_drive/model/vehicle_blue/link/base_link/sensor/imu_sensor/imu/\r\n```", "markup": "markdown", "html": "<p>Main changes are:</p>\n<ul>\n<li>Use a more precise value of pi/2 for the orientation of wheels</li>\n<li>Set fdir1, without which <code>&lt;mu&gt;</code> and <code>&lt;mu2&gt;</code> are not interpreted correctly</li>\n<li>Scale the wheel separation by <code>1.24</code>. This I computed by dividing the commanded angular velocity by the measured angular velocity from the IMU. </li>\n</ul>\n<p>The vehicle steers well without having to set the slip parameters.</p>\n<p>I noticed that the RTF was about 50% on my computer. Having 8 wheels per vehicle seems to strain the contact constraint solver in DART.</p>\n<h2 id=\"markdown-header-to-test\">To Test</h2>\n<p>Run</p>\n<div class=\"codehilite\"><pre><span></span>ign gazebo -v 4 -r examples/worlds/track_drive.sdf  \n</pre></div>\n\n\n<p>In another terminal, </p>\n<div class=\"codehilite\"><pre><span></span>ign topic -t &quot;/model/vehicle_blue/cmd_vel&quot; -m ignition.msgs.Twist -p &quot;linear: {x: 2.0}, angular: {z: 1.0}&quot;\n</pre></div>\n\n\n<p>To check the angular velocity,</p>\n<div class=\"codehilite\"><pre><span></span>ign topic -e -t /world/track_drive/model/vehicle_blue/link/base_link/sensor/imu_sensor/imu/\n</pre></div>", "type": "rendered"}, "title": {"raw": "Improve steering behavior of example tracked vehicle", "markup": "markdown", "html": "<p>Improve steering behavior of example tracked vehicle</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Main changes are:\r\n\r\n* Use a more precise value of pi/2 for the orientation of wheels\r\n* Set fdir1, without which `<mu>` and `<mu2>` are not interpreted correctly\r\n* Scale the wheel separation by `1.24`. This I computed by dividing the commanded angular velocity by the measured angular velocity from the IMU. \r\n\r\nThe vehicle steers well without having to set the slip parameters.\r\n\r\nI noticed that the RTF was about 50% on my computer. Having 8 wheels per vehicle seems to strain the contact constraint solver in DART.\r\n\r\n## To Test\r\nRun\r\n```\r\nign gazebo -v 4 -r examples/worlds/track_drive.sdf  \r\n```\r\n\r\nIn another terminal, \r\n```\r\nign topic -t \"/model/vehicle_blue/cmd_vel\" -m ignition.msgs.Twist -p \"linear: {x: 2.0}, angular: {z: 1.0}\"\r\n```\r\n\r\nTo check the angular velocity,\r\n```\r\nign topic -e -t /world/track_drive/model/vehicle_blue/link/base_link/sensor/imu_sensor/imu/\r\n```", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/432/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diffstat/ignitionrobotics/ign-gazebo:890e28ea75d0%0Da5d9d4b4a0cf?from_pullrequest_id=432"}, "commits": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/432/commits.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/432.json"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/432/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/432/merge"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/432"}, "activity": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/432/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:890e28ea75d0%0Da5d9d4b4a0cf?from_pullrequest_id=432"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/432/approve"}, "statuses": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/432/statuses_page=1.json"}}, "title": "Improve steering behavior of example tracked vehicle", "close_source_branch": true, "reviewers": [], "id": 432, "destination": {"commit": {"hash": "a5d9d4b4a0cf", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/a5d9d4b4a0cf.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/a5d9d4b4a0cf"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "created_on": "2019-09-19T15:56:36.741136+00:00", "summary": {"raw": "Main changes are:\r\n\r\n* Use a more precise value of pi/2 for the orientation of wheels\r\n* Set fdir1, without which `<mu>` and `<mu2>` are not interpreted correctly\r\n* Scale the wheel separation by `1.24`. This I computed by dividing the commanded angular velocity by the measured angular velocity from the IMU. \r\n\r\nThe vehicle steers well without having to set the slip parameters.\r\n\r\nI noticed that the RTF was about 50% on my computer. Having 8 wheels per vehicle seems to strain the contact constraint solver in DART.\r\n\r\n## To Test\r\nRun\r\n```\r\nign gazebo -v 4 -r examples/worlds/track_drive.sdf  \r\n```\r\n\r\nIn another terminal, \r\n```\r\nign topic -t \"/model/vehicle_blue/cmd_vel\" -m ignition.msgs.Twist -p \"linear: {x: 2.0}, angular: {z: 1.0}\"\r\n```\r\n\r\nTo check the angular velocity,\r\n```\r\nign topic -e -t /world/track_drive/model/vehicle_blue/link/base_link/sensor/imu_sensor/imu/\r\n```", "markup": "markdown", "html": "<p>Main changes are:</p>\n<ul>\n<li>Use a more precise value of pi/2 for the orientation of wheels</li>\n<li>Set fdir1, without which <code>&lt;mu&gt;</code> and <code>&lt;mu2&gt;</code> are not interpreted correctly</li>\n<li>Scale the wheel separation by <code>1.24</code>. This I computed by dividing the commanded angular velocity by the measured angular velocity from the IMU. </li>\n</ul>\n<p>The vehicle steers well without having to set the slip parameters.</p>\n<p>I noticed that the RTF was about 50% on my computer. Having 8 wheels per vehicle seems to strain the contact constraint solver in DART.</p>\n<h2 id=\"markdown-header-to-test\">To Test</h2>\n<p>Run</p>\n<div class=\"codehilite\"><pre><span></span>ign gazebo -v 4 -r examples/worlds/track_drive.sdf  \n</pre></div>\n\n\n<p>In another terminal, </p>\n<div class=\"codehilite\"><pre><span></span>ign topic -t &quot;/model/vehicle_blue/cmd_vel&quot; -m ignition.msgs.Twist -p &quot;linear: {x: 2.0}, angular: {z: 1.0}&quot;\n</pre></div>\n\n\n<p>To check the angular velocity,</p>\n<div class=\"codehilite\"><pre><span></span>ign topic -e -t /world/track_drive/model/vehicle_blue/link/base_link/sensor/imu_sensor/imu/\n</pre></div>", "type": "rendered"}, "source": {"commit": {"hash": "4b2cd40c86eb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/4b2cd40c86eb.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/4b2cd40c86eb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "tracked_vehicle_steering"}}, "comment_count": 11, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2019-09-19T23:49:19.653710+00:00", "type": "participant", "approved": false, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, {"role": "PARTICIPANT", "participated_on": "2019-09-19T22:26:52.991075+00:00", "type": "participant", "approved": false, "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}}, {"role": "PARTICIPANT", "participated_on": "2019-09-20T02:48:10.742144+00:00", "type": "participant", "approved": false, "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}}, {"role": "PARTICIPANT", "participated_on": "2019-09-20T16:56:20.663689+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}], "reason": "", "updated_on": "2019-09-20T16:56:28.304330+00:00", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "merge_commit": {"hash": "890e28ea75d0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/890e28ea75d0.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/890e28ea75d0"}}}, "closed_by": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}