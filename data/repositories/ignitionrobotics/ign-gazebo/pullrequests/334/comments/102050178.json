{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/334/comments/102050178.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/334/_/diff#comment-102050178"}}, "parent": {"id": 102012065, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/334/comments/102012065.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/334/_/diff#comment-102012065"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 334, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/334.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/334"}}, "title": "[Blueprint] Pose commands"}, "content": {"raw": "@azeey was able to get a backtrace on a mac:\n\n~~~\n* thread #1, name = 'ZMQbg/1', queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x0)\n  * frame #0: 0x0000000000000000\n    frame #1: 0x0000000100414805 libignition-gazebo2.2.dylib`ignition::gazebo::v2::components::Factory::NewStorage(this=0x00000001000b2630, _typeId=0x00007ffeefbfdeb8) at Factory.hh:258:31\n    frame #2: 0x0000000100413ad0 libignition-gazebo2.2.dylib`ignition::gazebo::EntityComponentManagerPrivate::CreateComponentStorage(this=0x0000000106d3d0e0, _typeId=8485758560407126678) at EntityComponentManager.cc:546:51\n    frame #3: 0x000000010041384c libignition-gazebo2.2.dylib`ignition::gazebo::v2::EntityComponentManager::CreateComponentImplementation(this=0x0000000106d3cea8, _entity=4, _componentTypeId=8485758560407126678, _data=0x00007ffeefbfe170) at EntityComponentManager.cc:387:25\n    frame #4: 0x00000001085d59af libignition-gazebo-user-commands-system.dylib`std::__1::pair<unsigned long long, int> ignition::gazebo::v2::EntityComponentManager::CreateComponent<ignition::gazebo::v2::components::Component<ignition::math::v6::Pose3<double>, ignition::gazebo::v2::components::WorldPoseCmdTag, ignition::gazebo::v2::serializers::DefaultSerializer<ignition::math::v6::Pose3<double> > > >(this=0x0000000106d3cea8, _entity=4, _data=0x00007ffeefbfe170) at EntityComponentManager.hh:37:16\n    frame #5: 0x00000001085d57b7 libignition-gazebo-user-commands-system.dylib`ignition::gazebo::v2::systems::PoseCommand::Execute(this=0x0000000106d3d4d0) at UserCommands.cc:603:23\n    frame #6: 0x00000001085d1e51 libignition-gazebo-user-commands-system.dylib`ignition::gazebo::v2::systems::UserCommands::PreUpdate(this=0x000000010580c200, (null)=0x0000000106d3d010, (null)=0x0000000106d3cea8) at UserCommands.cc:235:15\n    frame #7: 0x00000001005bcad0 libignition-gazebo2.2.dylib`ignition::gazebo::v2::SimulationRunner::UpdateSystems(this=0x0000000106d3cda0) at SimulationRunner.cc:332:15\n    frame #8: 0x00000001005ba5aa libignition-gazebo2.2.dylib`ignition::gazebo::v2::SimulationRunner::Step(this=0x0000000106d3cda0, _info=0x0000000106d3d010) at SimulationRunner.cc:487:9\n    frame #9: 0x00000001005bda6d libignition-gazebo2.2.dylib`ignition::gazebo::v2::SimulationRunner::Run(this=0x0000000106d3cda0, _iterations=1) at SimulationRunner.cc:461:13\n    frame #10: 0x00000001005a0443 libignition-gazebo2.2.dylib`ignition::gazebo::v2::ServerPrivate::Run(this=0x000000010470a6b0, _iterations=1, _cond= Has Value=false ) at ServerPrivate.cc:163:35\n    frame #11: 0x0000000100591f8e libignition-gazebo2.2.dylib`ignition::gazebo::v2::Server::Run(this=0x00007ffeefbfed18, _blocking=true, _iterations=1, _paused=false) at Server.cc:245:27\n    frame #12: 0x00000001000191c0 INTEGRATION_user_commands`UserCommandsTest_Pose_Test::TestBody(this=0x0000000104706e90) at user_commands.cc:597:10\n    frame #13: 0x000000010008d63e INTEGRATION_user_commands`void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(object=0x0000000104706e90, method=21 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00, location=\"the test body\")(), char const*) at gtest.cc:2079:10\n    frame #14: 0x000000010006538b INTEGRATION_user_commands`void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(object=0x0000000104706e90, method=21 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00, location=\"the test body\")(), char const*) at gtest.cc:2115:14\n    frame #15: 0x0000000100065226 INTEGRATION_user_commands`testing::Test::Run(this=0x0000000104706e90) at gtest.cc:2151:5\n    frame #16: 0x0000000100066590 INTEGRATION_user_commands`testing::TestInfo::Run(this=0x000000010462eea0) at gtest.cc:2327:11\n    frame #17: 0x000000010006756f INTEGRATION_user_commands`testing::TestCase::Run(this=0x000000010462f1e0) at gtest.cc:2445:28\n    frame #18: 0x000000010006fc38 INTEGRATION_user_commands`testing::internal::UnitTestImpl::RunAllTests(this=0x000000010462ec70) at gtest.cc:4316:43\n    frame #19: 0x000000010009184e INTEGRATION_user_commands`bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(object=0x000000010462ec70, method=60 f9 06 00 01 00 00 00 00 00 00 00 00 00 00 00, location=\"auxiliary test code (environments or event listeners)\")(), char const*) at gtest.cc:2079:10\n    frame #20: 0x000000010006f6fb INTEGRATION_user_commands`bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(object=0x000000010462ec70, method=60 f9 06 00 01 00 00 00 00 00 00 00 00 00 00 00, location=\"auxiliary test code (environments or event listeners)\")(), char const*) at gtest.cc:2115:14\n    frame #21: 0x000000010006f5c0 INTEGRATION_user_commands`testing::UnitTest::Run(this=0x00000001000b2730) at gtest.cc:3927:10\n    frame #22: 0x0000000100097de1 INTEGRATION_user_commands`RUN_ALL_TESTS() at gtest.h:2288:46\n    frame #23: 0x0000000100097dc9 INTEGRATION_user_commands`main(argc=1, argv=0x00007ffeefbff340) at gtest_main.cc:37:10\n    frame #24: 0x00007fff778b53d5 libdyld.dylib`start + 1\n~~~\n\nI have no idea what's going on. Since ign-gazebo is not fully working on Mac, we could let this one slide for now if we're in a hurry.", "markup": "markdown", "html": "<p>@azeey was able to get a backtrace on a mac:</p>\n<div class=\"codehilite\"><pre><span></span>* thread #1, name = &#39;ZMQbg/1&#39;, queue = &#39;com.apple.main-thread&#39;, stop reason = EXC_BAD_ACCESS (code=1, address=0x0)\n  * frame #0: 0x0000000000000000\n    frame #1: 0x0000000100414805 libignition-gazebo2.2.dylib`ignition::gazebo::v2::components::Factory::NewStorage(this=0x00000001000b2630, _typeId=0x00007ffeefbfdeb8) at Factory.hh:258:31\n    frame #2: 0x0000000100413ad0 libignition-gazebo2.2.dylib`ignition::gazebo::EntityComponentManagerPrivate::CreateComponentStorage(this=0x0000000106d3d0e0, _typeId=8485758560407126678) at EntityComponentManager.cc:546:51\n    frame #3: 0x000000010041384c libignition-gazebo2.2.dylib`ignition::gazebo::v2::EntityComponentManager::CreateComponentImplementation(this=0x0000000106d3cea8, _entity=4, _componentTypeId=8485758560407126678, _data=0x00007ffeefbfe170) at EntityComponentManager.cc:387:25\n    frame #4: 0x00000001085d59af libignition-gazebo-user-commands-system.dylib`std::__1::pair&lt;unsigned long long, int&gt; ignition::gazebo::v2::EntityComponentManager::CreateComponent&lt;ignition::gazebo::v2::components::Component&lt;ignition::math::v6::Pose3&lt;double&gt;, ignition::gazebo::v2::components::WorldPoseCmdTag, ignition::gazebo::v2::serializers::DefaultSerializer&lt;ignition::math::v6::Pose3&lt;double&gt; &gt; &gt; &gt;(this=0x0000000106d3cea8, _entity=4, _data=0x00007ffeefbfe170) at EntityComponentManager.hh:37:16\n    frame #5: 0x00000001085d57b7 libignition-gazebo-user-commands-system.dylib`ignition::gazebo::v2::systems::PoseCommand::Execute(this=0x0000000106d3d4d0) at UserCommands.cc:603:23\n    frame #6: 0x00000001085d1e51 libignition-gazebo-user-commands-system.dylib`ignition::gazebo::v2::systems::UserCommands::PreUpdate(this=0x000000010580c200, (null)=0x0000000106d3d010, (null)=0x0000000106d3cea8) at UserCommands.cc:235:15\n    frame #7: 0x00000001005bcad0 libignition-gazebo2.2.dylib`ignition::gazebo::v2::SimulationRunner::UpdateSystems(this=0x0000000106d3cda0) at SimulationRunner.cc:332:15\n    frame #8: 0x00000001005ba5aa libignition-gazebo2.2.dylib`ignition::gazebo::v2::SimulationRunner::Step(this=0x0000000106d3cda0, _info=0x0000000106d3d010) at SimulationRunner.cc:487:9\n    frame #9: 0x00000001005bda6d libignition-gazebo2.2.dylib`ignition::gazebo::v2::SimulationRunner::Run(this=0x0000000106d3cda0, _iterations=1) at SimulationRunner.cc:461:13\n    frame #10: 0x00000001005a0443 libignition-gazebo2.2.dylib`ignition::gazebo::v2::ServerPrivate::Run(this=0x000000010470a6b0, _iterations=1, _cond= Has Value=false ) at ServerPrivate.cc:163:35\n    frame #11: 0x0000000100591f8e libignition-gazebo2.2.dylib`ignition::gazebo::v2::Server::Run(this=0x00007ffeefbfed18, _blocking=true, _iterations=1, _paused=false) at Server.cc:245:27\n    frame #12: 0x00000001000191c0 INTEGRATION_user_commands`UserCommandsTest_Pose_Test::TestBody(this=0x0000000104706e90) at user_commands.cc:597:10\n    frame #13: 0x000000010008d63e INTEGRATION_user_commands`void testing::internal::HandleSehExceptionsInMethodIfSupported&lt;testing::Test, void&gt;(object=0x0000000104706e90, method=21 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00, location=&quot;the test body&quot;)(), char const*) at gtest.cc:2079:10\n    frame #14: 0x000000010006538b INTEGRATION_user_commands`void testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::Test, void&gt;(object=0x0000000104706e90, method=21 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00, location=&quot;the test body&quot;)(), char const*) at gtest.cc:2115:14\n    frame #15: 0x0000000100065226 INTEGRATION_user_commands`testing::Test::Run(this=0x0000000104706e90) at gtest.cc:2151:5\n    frame #16: 0x0000000100066590 INTEGRATION_user_commands`testing::TestInfo::Run(this=0x000000010462eea0) at gtest.cc:2327:11\n    frame #17: 0x000000010006756f INTEGRATION_user_commands`testing::TestCase::Run(this=0x000000010462f1e0) at gtest.cc:2445:28\n    frame #18: 0x000000010006fc38 INTEGRATION_user_commands`testing::internal::UnitTestImpl::RunAllTests(this=0x000000010462ec70) at gtest.cc:4316:43\n    frame #19: 0x000000010009184e INTEGRATION_user_commands`bool testing::internal::HandleSehExceptionsInMethodIfSupported&lt;testing::internal::UnitTestImpl, bool&gt;(object=0x000000010462ec70, method=60 f9 06 00 01 00 00 00 00 00 00 00 00 00 00 00, location=&quot;auxiliary test code (environments or event listeners)&quot;)(), char const*) at gtest.cc:2079:10\n    frame #20: 0x000000010006f6fb INTEGRATION_user_commands`bool testing::internal::HandleExceptionsInMethodIfSupported&lt;testing::internal::UnitTestImpl, bool&gt;(object=0x000000010462ec70, method=60 f9 06 00 01 00 00 00 00 00 00 00 00 00 00 00, location=&quot;auxiliary test code (environments or event listeners)&quot;)(), char const*) at gtest.cc:2115:14\n    frame #21: 0x000000010006f5c0 INTEGRATION_user_commands`testing::UnitTest::Run(this=0x00000001000b2730) at gtest.cc:3927:10\n    frame #22: 0x0000000100097de1 INTEGRATION_user_commands`RUN_ALL_TESTS() at gtest.h:2288:46\n    frame #23: 0x0000000100097dc9 INTEGRATION_user_commands`main(argc=1, argv=0x00007ffeefbff340) at gtest_main.cc:37:10\n    frame #24: 0x00007fff778b53d5 libdyld.dylib`start + 1\n</pre></div>\n\n\n<p>I have no idea what's going on. Since ign-gazebo is not fully working on Mac, we could let this one slide for now if we're in a hurry.</p>", "type": "rendered"}, "created_on": "2019-05-15T02:54:58.116804+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-05-15T02:54:58.140987+00:00", "type": "pullrequest_comment", "id": 102050178}