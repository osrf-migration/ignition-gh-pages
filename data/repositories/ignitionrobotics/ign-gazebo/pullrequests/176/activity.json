{"pagelen": 50, "values": [{"update": {"description": "Right now component types have 2 IDs:\r\n\r\n* one used within the ECM, which is not guaranteed to be the same across runs or compilers\r\n* one registered with the Factory, which is guaranteed to be the same\r\n\r\nThis is confusing and error prone. In fact, the Factory code itself is mixing up both of them, setting one as `ComponentType::id` and keeping another into its `compsById` map, so currently `Factory::New(ComponentType::id)` doesn't work.\r\n\r\nThis PR:\r\n\r\n* **Removes the ECM's ID** and uses the one from the factory everywhere instead\r\n* A consequence is that **all components must be registered with the factory**\r\n* Removed `EntityComponentManager::ComponentType<Type>` since it is no longer convenient. We should use `Type::typeId` instead.\r\n* Adds functions `TypeName` and `TypeId`, which **allow retrieving the correct type information even from a `BaseComponent` pointer**. This is helpful when using `Factory::New`.\r\n\r\n---\r\n\r\n## Future work\r\n\r\n* Currently, if  someone forgets to register a component the error will manifest itself in weird ways. I'm planning to tackle this in a future pull request.\r\n\r\n---\r\n\r\nThis is broken off the `streaming` branch.", "title": "[A-4] One component type ID", "destination": {"commit": {"hash": "dba828e5d39d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/dba828e5d39d.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/dba828e5d39d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7c62169afbda", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/7c62169afbda.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/7c62169afbda"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "one_id"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-02-22T18:55:39.135675+00:00"}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92667708.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92667708"}}, "parent": {"id": 92647931, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92647931.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92647931"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}, "content": {"raw": "Ubuntu is green on pipelines and Jenkins, Homebrew only has the GPU test failure. Merging!", "markup": "markdown", "html": "<p>Ubuntu is green on pipelines and Jenkins, Homebrew only has the GPU test failure. Merging!</p>", "type": "rendered"}, "created_on": "2019-02-22T18:55:22.106631+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-02-22T18:55:22.117635+00:00", "type": "pullrequest_comment", "id": 92667708}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92666309.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92666309"}}, "parent": {"id": 92664043, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92664043.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92664043"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}, "content": {"raw": "Ok, here we go, queued: [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-ubuntu_auto-amd64&build=595)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-ubuntu_auto-amd64/595/)", "markup": "markdown", "html": "<p>Ok, here we go, queued: <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-ubuntu_auto-amd64/595/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-ubuntu_auto-amd64&amp;build=595\" /></a></p>", "type": "rendered"}, "created_on": "2019-02-22T18:41:38.380661+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-02-22T18:41:38.396703+00:00", "type": "pullrequest_comment", "id": 92666309}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92664043.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92664043"}}, "parent": {"id": 92662920, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92662920.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92662920"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}, "content": {"raw": "@\\_jrivero\\_ is on it again", "markup": "markdown", "html": "<p>@_jrivero_ is on it again</p>", "type": "rendered"}, "created_on": "2019-02-22T18:18:06.128711+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-02-22T18:18:06.141144+00:00", "type": "pullrequest_comment", "id": 92664043}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92662920.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92662920"}}, "parent": {"id": 92647839, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92647839.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92647839"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}, "content": {"raw": "It seems to be related to this: #!/ignitionrobotics/ign-common3-release/pull-requests/1\n\n@\\_jrivero\\_ says he's fixed it an hour ago, so I triggered a new build: [![Build Status](https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-ubuntu_auto-amd64&build=593)](https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-ubuntu_auto-amd64/593/)", "markup": "markdown", "html": "<p>It seems to be related to this: <a href=\"#!/ignitionrobotics/ign-common3-release/pull-requests/1\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-common3-release/pull-requests/1</a></p>\n<p>@_jrivero_ says he's fixed it an hour ago, so I triggered a new build: <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ignition_gazebo-ci-pr_any-ubuntu_auto-amd64/593/\" rel=\"nofollow\"><img alt=\"Build Status\" src=\"https://build.osrfoundation.org/buildStatus/icon?job=ignition_gazebo-ci-pr_any-ubuntu_auto-amd64&amp;build=593\" /></a></p>", "type": "rendered"}, "created_on": "2019-02-22T18:07:18.198498+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-02-22T18:07:18.211060+00:00", "type": "pullrequest_comment", "id": 92662920}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92647931.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92647931"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}, "content": {"raw": "LGTM with greener CI.", "markup": "markdown", "html": "<p>LGTM with greener CI.</p>", "type": "rendered"}, "created_on": "2019-02-22T16:07:02.925933+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "updated_on": "2019-02-22T16:07:03.104997+00:00", "type": "pullrequest_comment", "id": 92647931}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"approval": {"date": "2019-02-22T16:06:55.840752+00:00", "pullrequest": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}, "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92647839.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92647839"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}, "content": {"raw": "Jenkins is grumpy about something related to apt.  I sent it out in the build cop report, but not sure what exactly is going on here.  Maybe worth just doing a rebuild on all platforms?", "markup": "markdown", "html": "<p>Jenkins is grumpy about something related to apt.  I sent it out in the build cop report, but not sure what exactly is going on here.  Maybe worth just doing a rebuild on all platforms?</p>", "type": "rendered"}, "created_on": "2019-02-22T16:06:29.227178+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "updated_on": "2019-02-22T16:06:29.239779+00:00", "type": "pullrequest_comment", "id": 92647839}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92548316.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92548316"}}, "parent": {"id": 92511869, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92511869.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92511869"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}, "content": {"raw": "Nevermind, it just worked. I must have tried it mid-implementation so it didn't work because of something else. Done: 7c62169", "markup": "markdown", "html": "<p>Nevermind, it just worked. I must have tried it mid-implementation so it didn't work because of something else. Done: <a href=\"#!/ignitionrobotics/ign-gazebo/commits/7c62169\" rel=\"nofollow\" class=\"ap-connect-link\">7c62169</a></p>", "type": "rendered"}, "created_on": "2019-02-22T01:47:01.033766+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2019-02-22T01:47:01.050361+00:00", "type": "pullrequest_comment", "id": 92548316}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"update": {"description": "Right now component types have 2 IDs:\r\n\r\n* one used within the ECM, which is not guaranteed to be the same across runs or compilers\r\n* one registered with the Factory, which is guaranteed to be the same\r\n\r\nThis is confusing and error prone. In fact, the Factory code itself is mixing up both of them, setting one as `ComponentType::id` and keeping another into its `compsById` map, so currently `Factory::New(ComponentType::id)` doesn't work.\r\n\r\nThis PR:\r\n\r\n* **Removes the ECM's ID** and uses the one from the factory everywhere instead\r\n* A consequence is that **all components must be registered with the factory**\r\n* Removed `EntityComponentManager::ComponentType<Type>` since it is no longer convenient. We should use `Type::typeId` instead.\r\n* Adds functions `TypeName` and `TypeId`, which **allow retrieving the correct type information even from a `BaseComponent` pointer**. This is helpful when using `Factory::New`.\r\n\r\n---\r\n\r\n## Future work\r\n\r\n* Currently, if  someone forgets to register a component the error will manifest itself in weird ways. I'm planning to tackle this in a future pull request.\r\n\r\n---\r\n\r\nThis is broken off the `streaming` branch.", "title": "[A-4] One component type ID", "destination": {"commit": {"hash": "dba828e5d39d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/dba828e5d39d.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/dba828e5d39d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7c62169afbda", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/7c62169afbda.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/7c62169afbda"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "one_id"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-02-22T01:46:15.187075+00:00"}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"update": {"description": "Right now component types have 2 IDs:\r\n\r\n* one used within the ECM, which is not guaranteed to be the same across runs or compilers\r\n* one registered with the Factory, which is guaranteed to be the same\r\n\r\nThis is confusing and error prone. In fact, the Factory code itself is mixing up both of them, setting one as `ComponentType::id` and keeping another into its `compsById` map, so currently `Factory::New(ComponentType::id)` doesn't work.\r\n\r\nThis PR:\r\n\r\n* **Removes the ECM's ID** and uses the one from the factory everywhere instead\r\n* A consequence is that **all components must be registered with the factory**\r\n* Removed `EntityComponentManager::ComponentType<Type>` since it is no longer convenient. We should use `Type::typeId` instead.\r\n* Adds functions `TypeName` and `TypeId`, which **allow retrieving the correct type information even from a `BaseComponent` pointer**. This is helpful when using `Factory::New`.\r\n\r\n---\r\n\r\n## Future work\r\n\r\n* Currently, if  someone forgets to register a component the error will manifest itself in weird ways. I'm planning to tackle this in a future pull request.\r\n\r\n---\r\n\r\nThis is broken off the `streaming` branch.", "title": "[A-4] One component type ID", "destination": {"commit": {"hash": "dba828e5d39d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/dba828e5d39d.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/dba828e5d39d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "78cfc0157151", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/78cfc0157151.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/78cfc0157151"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "one_id"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-02-22T01:06:19.992115+00:00"}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92511869.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92511869"}}, "parent": {"id": 92511112, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92511112.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92511112"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}, "content": {"raw": "There are some parts of the code where we're using pure `BaseComponent`, so it can't be pure virtual easily. But I agree with you, I'll see if I can handle this quickly", "markup": "markdown", "html": "<p>There are some parts of the code where we're using pure <code>BaseComponent</code>, so it can't be pure virtual easily. But I agree with you, I'll see if I can handle this quickly</p>", "type": "rendered"}, "created_on": "2019-02-21T18:46:12.176966+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2019-02-21T18:46:12.191946+00:00", "type": "pullrequest_comment", "id": 92511869}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176/comments/92511112.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176/_/diff#comment-92511112"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}, "content": {"raw": "Should this maybe be a compilation error instead?  If marked with `=0`, it should just fail out.", "markup": "markdown", "html": "<p>Should this maybe be a compilation error instead?  If marked with <code>=0</code>, it should just fail out.</p>", "type": "rendered"}, "created_on": "2019-02-21T18:39:43.105560+00:00", "user": {"display_name": "Michael Carroll", "uuid": "{17dbbc15-cbc0-42f0-a985-cde9061c78a0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D"}, "html": {"href": "https://bitbucket.org/%7B17dbbc15-cbc0-42f0-a985-cde9061c78a0%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:65740f22-cc56-4418-9608-7e17d0ed47b7/2aa259f5-4de1-4f68-9156-eded72041d84/128"}}, "nickname": "Michael Carroll", "type": "user", "account_id": "557058:65740f22-cc56-4418-9608-7e17d0ed47b7"}, "inline": {}, "updated_on": "2019-02-21T18:39:43.114118+00:00", "type": "pullrequest_comment", "id": 92511112}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"update": {"description": "Right now component types have 2 IDs:\r\n\r\n* one used within the ECM, which is not guaranteed to be the same across runs or compilers\r\n* one registered with the Factory, which is guaranteed to be the same\r\n\r\nThis is confusing and error prone. In fact, the Factory code itself is mixing up both of them, setting one as `ComponentType::id` and keeping another into its `compsById` map, so currently `Factory::New(ComponentType::id)` doesn't work.\r\n\r\nThis PR:\r\n\r\n* **Removes the ECM's ID** and uses the one from the factory everywhere instead\r\n* A consequence is that **all components must be registered with the factory**\r\n* Removed `EntityComponentManager::ComponentType<Type>` since it is no longer convenient. We should use `Type::typeId` instead.\r\n* Adds functions `TypeName` and `TypeId`, which **allow retrieving the correct type information even from a `BaseComponent` pointer**. This is helpful when using `Factory::New`.\r\n\r\n---\r\n\r\n## Future work\r\n\r\n* Currently, if  someone forgets to register a component the error will manifest itself in weird ways. I'm planning to tackle this in a future pull request.\r\n\r\n---\r\n\r\nThis is broken off the `streaming` branch.", "title": "[A-4] One component type ID", "destination": {"commit": {"hash": "db9d256f5ba6", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/db9d256f5ba6.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/db9d256f5ba6"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "fdc9229bc7fd", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fdc9229bc7fd.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fdc9229bc7fd"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "one_id"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-02-21T05:07:45.201175+00:00"}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}, {"update": {"description": "Right now component types have 2 IDs:\r\n\r\n* one used within the ECM, which is not guaranteed to be the same across runs or compilers\r\n* one registered with the Factory, which is guaranteed to be the same\r\n\r\nThis is confusing and error prone. In fact, the Factory code itself is mixing up both of them, setting one as `ComponentType::id` and keeping another into its `compsById` map, so currently `Factory::New(ComponentType::id)` doesn't work.\r\n\r\nThis PR:\r\n\r\n* **Removes the ECM's ID** and uses the one from the factory everywhere instead\r\n* A consequence is that **all components must be registered with the factory**\r\n* Removed `EntityComponentManager::ComponentType<Type>` since it is no longer convenient. We should use `Type::typeId` instead.\r\n* Adds functions `TypeName` and `TypeId`, which **allow retrieving the correct type information even from a `BaseComponent` pointer**. This is helpful when using `Factory::New`.\r\n\r\n---\r\n\r\n## Future work\r\n\r\n* Currently, if  someone forgets to register a component the error will manifest itself in weird ways. I'm planning to tackle this in a future pull request.\r\n\r\n---\r\n\r\nThis is broken off the `streaming` branch.", "title": "[A-4] One component type ID", "destination": {"commit": {"hash": "db9d256f5ba6", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/db9d256f5ba6.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/db9d256f5ba6"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "fdc9229bc7fd", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/fdc9229bc7fd.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/fdc9229bc7fd"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "one_id"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2019-02-21T05:07:45.136822+00:00"}, "pull_request": {"type": "pullrequest", "id": 176, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/176.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/176"}}, "title": "[A-4] One component type ID"}}]}