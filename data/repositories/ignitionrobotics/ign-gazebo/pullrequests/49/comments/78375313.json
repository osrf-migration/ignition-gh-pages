{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/49/comments/78375313.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/49/_/diff#comment-78375313"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 49, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/49.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/49"}}, "title": "Start paused"}, "content": {"raw": "I noticed this branch is crashing on shutdown, but default doesn't. Here's a backtrace:\n\n~~~\nThread 16 \"ign-gazebo\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffe0538700 (LWP 31797)]\n0x00007ffff7a9d282 in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release\n    (this=0x555555c94ee0) at /usr/include/c++/8/bits/shared_ptr_base.h:161\n161                 _M_dispose();\n(gdb) bt\n#0  0x00007ffff7a9d282 in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release (this=0x555555c94ee0) at /usr/include/c++/8/bits/shared_ptr_base.h:161\n#1  0x00007ffff48e87e6 in std::__shared_count<(__gnu_cxx::_Lock_policy)2>::~__shared_count (this=0x7fffc006df98, __in_chrg=<optimized out>)\n    at /usr/include/c++/8/bits/shared_ptr_base.h:1151\n#2  std::__shared_ptr<ignition::transport::v6::ISubscriptionHandler, (__gnu_cxx::_Lock_policy)2>::~__shared_ptr (this=0x7fffc006df90, __in_chrg=<optimized out>)\n    at /usr/include/c++/8/bits/shared_ptr_base.h:1151\n#3  std::shared_ptr<ignition::transport::v6::ISubscriptionHandler>::~shared_ptr (\n    this=0x7fffc006df90, __in_chrg=<optimized out>)\n    at /usr/include/c++/8/bits/shared_ptr.h:103\n#4  ignition::transport::v6::Node::Publisher::<lambda()>::~<lambda> (\n    this=0x7fffc006df90, __in_chrg=<optimized out>)\n    at /home/developer/ign-transport/src/Node.cc:337\n#5  std::_Function_base::_Base_manager<ignition::transport::v6::Node::Publisher::Publish(const ProtoMsg&)::<lambda()> >::_M_destroy (__victim=...)\n    at /usr/include/c++/8/bits/std_function.h:188\n#6  std::_Function_base::_Base_manager<ignition::transport::v6::Node::Publisher::Publish(const ProtoMsg&)::<lambda()> >::_M_manager(std::_Any_data &, const std::_Any_data &, std::_Manager_operation) (__dest=..., __source=..., __op=<optimized out>)\n    at /usr/include/c++/8/bits/std_function.h:212\n#7  0x00007ffff4918e2a in std::_Function_base::~_Function_base (\n    this=0x7fffe0537970, __in_chrg=<optimized out>)\n    at /usr/include/c++/8/bits/std_function.h:257\n#8  std::function<void ()>::~function() (this=0x7fffe0537970, \n    __in_chrg=<optimized out>) at /usr/include/c++/8/bits/std_function.h:370\n#9  std::function<void ()>::operator=(std::function<void ()>&&) (__x=..., \n    this=0x7fffe0537990) at /usr/include/c++/8/bits/std_function.h:481\n#10 ignition::transport::v6::WorkOrder::operator= (this=0x7fffe0537990)\n    at /home/developer/ign-transport/src/WorkerPool.cc:35\n#11 ignition::transport::v6::WorkerPoolPrivate::Worker() ()\n    at /home/developer/ign-transport/src/WorkerPool.cc:98\n~~~", "markup": "markdown", "html": "<p>I noticed this branch is crashing on shutdown, but default doesn't. Here's a backtrace:</p>\n<div class=\"codehilite\"><pre><span></span>Thread 16 &quot;ign-gazebo&quot; received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffe0538700 (LWP 31797)]\n0x00007ffff7a9d282 in std::_Sp_counted_base&lt;(__gnu_cxx::_Lock_policy)2&gt;::_M_release\n    (this=0x555555c94ee0) at /usr/include/c++/8/bits/shared_ptr_base.h:161\n161                 _M_dispose();\n(gdb) bt\n#0  0x00007ffff7a9d282 in std::_Sp_counted_base&lt;(__gnu_cxx::_Lock_policy)2&gt;::_M_release (this=0x555555c94ee0) at /usr/include/c++/8/bits/shared_ptr_base.h:161\n#1  0x00007ffff48e87e6 in std::__shared_count&lt;(__gnu_cxx::_Lock_policy)2&gt;::~__shared_count (this=0x7fffc006df98, __in_chrg=&lt;optimized out&gt;)\n    at /usr/include/c++/8/bits/shared_ptr_base.h:1151\n#2  std::__shared_ptr&lt;ignition::transport::v6::ISubscriptionHandler, (__gnu_cxx::_Lock_policy)2&gt;::~__shared_ptr (this=0x7fffc006df90, __in_chrg=&lt;optimized out&gt;)\n    at /usr/include/c++/8/bits/shared_ptr_base.h:1151\n#3  std::shared_ptr&lt;ignition::transport::v6::ISubscriptionHandler&gt;::~shared_ptr (\n    this=0x7fffc006df90, __in_chrg=&lt;optimized out&gt;)\n    at /usr/include/c++/8/bits/shared_ptr.h:103\n#4  ignition::transport::v6::Node::Publisher::&lt;lambda()&gt;::~&lt;lambda&gt; (\n    this=0x7fffc006df90, __in_chrg=&lt;optimized out&gt;)\n    at /home/developer/ign-transport/src/Node.cc:337\n#5  std::_Function_base::_Base_manager&lt;ignition::transport::v6::Node::Publisher::Publish(const ProtoMsg&amp;)::&lt;lambda()&gt; &gt;::_M_destroy (__victim=...)\n    at /usr/include/c++/8/bits/std_function.h:188\n#6  std::_Function_base::_Base_manager&lt;ignition::transport::v6::Node::Publisher::Publish(const ProtoMsg&amp;)::&lt;lambda()&gt; &gt;::_M_manager(std::_Any_data &amp;, const std::_Any_data &amp;, std::_Manager_operation) (__dest=..., __source=..., __op=&lt;optimized out&gt;)\n    at /usr/include/c++/8/bits/std_function.h:212\n#7  0x00007ffff4918e2a in std::_Function_base::~_Function_base (\n    this=0x7fffe0537970, __in_chrg=&lt;optimized out&gt;)\n    at /usr/include/c++/8/bits/std_function.h:257\n#8  std::function&lt;void ()&gt;::~function() (this=0x7fffe0537970, \n    __in_chrg=&lt;optimized out&gt;) at /usr/include/c++/8/bits/std_function.h:370\n#9  std::function&lt;void ()&gt;::operator=(std::function&lt;void ()&gt;&amp;&amp;) (__x=..., \n    this=0x7fffe0537990) at /usr/include/c++/8/bits/std_function.h:481\n#10 ignition::transport::v6::WorkOrder::operator= (this=0x7fffe0537990)\n    at /home/developer/ign-transport/src/WorkerPool.cc:35\n#11 ignition::transport::v6::WorkerPoolPrivate::Worker() ()\n    at /home/developer/ign-transport/src/WorkerPool.cc:98\n</pre></div>", "type": "rendered"}, "created_on": "2018-10-08T17:58:03.020332+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2018-10-08T17:58:03.028438+00:00", "type": "pullrequest_comment", "id": 78375313}