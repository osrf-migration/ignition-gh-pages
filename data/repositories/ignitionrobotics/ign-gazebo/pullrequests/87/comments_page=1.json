{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82474539.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82474539"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 87, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87"}}, "title": "Change signature of Configure to use a raw pointer"}, "content": {"raw": "You could do `const std::shared_ptr<const sdf::Element>&` instead of a raw pointer \\(maybe create a typedef for it in `sdf/Element.hh` called `sdf::ConstElementPtr`\\).", "markup": "markdown", "html": "<p>You could do <code>const std::shared_ptr&lt;const sdf::Element&gt;&amp;</code> instead of a raw pointer (maybe create a typedef for it in <code>sdf/Element.hh</code> called <code>sdf::ConstElementPtr</code>).</p>", "type": "rendered"}, "created_on": "2018-11-15T02:23:18.057792+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-11-15T02:23:18.063909+00:00", "type": "pullrequest_comment", "id": 82474539}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82480888.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82480888"}}, "parent": {"id": 82474539, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82474539.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82474539"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 87, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87"}}, "title": "Change signature of Configure to use a raw pointer"}, "content": {"raw": "I started with doing that, but I found some discussion and guidelines [here](https://herbsutter.com/2013/06/05/gotw-91-solution-smart-pointer-parameters/) that passing  a raw pointer might be preferable. I don't think performance is relevant here since this will be called once, but I found the semantics argument convincing. What do you think?", "markup": "markdown", "html": "<p>I started with doing that, but I found some discussion and guidelines <a data-is-external-link=\"true\" href=\"https://herbsutter.com/2013/06/05/gotw-91-solution-smart-pointer-parameters/\" rel=\"nofollow\">here</a> that passing  a raw pointer might be preferable. I don't think performance is relevant here since this will be called once, but I found the semantics argument convincing. What do you think?</p>", "type": "rendered"}, "created_on": "2018-11-15T04:54:30.391653+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2018-11-15T04:54:30.402929+00:00", "type": "pullrequest_comment", "id": 82480888}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82481165.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82481165"}}, "parent": {"id": 82480888, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82480888.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82480888"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 87, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87"}}, "title": "Change signature of Configure to use a raw pointer"}, "content": {"raw": "I guess as long as we\u2019re sure that Systems won\u2019t ever want \\(or shouldn\u2019t be allowed to have\\) ownership of a read-only shared reference to the Element, that\u2019s reasonable.\n\nGiving a raw pointer basically says \"Get all of the information you want out of it right now, because after this you won't have access to this information ever again.\" If that's what we want `Configure(~)` to mean, then a raw pointer makes sense.", "markup": "markdown", "html": "<p>I guess as long as we\u2019re sure that Systems won\u2019t ever want (or shouldn\u2019t be allowed to have) ownership of a read-only shared reference to the Element, that\u2019s reasonable.</p>\n<p>Giving a raw pointer basically says \"Get all of the information you want out of it right now, because after this you won't have access to this information ever again.\" If that's what we want <code>Configure(~)</code> to mean, then a raw pointer makes sense.</p>", "type": "rendered"}, "created_on": "2018-11-15T05:00:45.246128+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-11-15T05:00:45.255917+00:00", "type": "pullrequest_comment", "id": 82481165}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82481433.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82481433"}}, "parent": {"id": 82481165, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82481165.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82481165"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 87, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87"}}, "title": "Change signature of Configure to use a raw pointer"}, "content": {"raw": "One potential argument for the `sdf::ConstElementPtr` might be for systems that will be loading its own plugins later on, and those plugins might want to see some configuration info that was passed during `Configure(~)` but not saved by the System because the System simply didn\u2019t know to save it \\(maybe there are plugin-specific fields that the System didn\u2019t know about\\).\n\nIf the System can save a shared reference to the `Element`, it could ensure that this information will be available to the plugin later on.  Since `Element` has a `std::unique_ptr<T>` member, I don\u2019t think it can support value copying, so hanging onto a shared reference is the System\u2019s best bet.", "markup": "markdown", "html": "<p>One potential argument for the <code>sdf::ConstElementPtr</code> might be for systems that will be loading its own plugins later on, and those plugins might want to see some configuration info that was passed during <code>Configure(~)</code> but not saved by the System because the System simply didn\u2019t know to save it (maybe there are plugin-specific fields that the System didn\u2019t know about).</p>\n<p>If the System can save a shared reference to the <code>Element</code>, it could ensure that this information will be available to the plugin later on.  Since <code>Element</code> has a <code>std::unique_ptr&lt;T&gt;</code> member, I don\u2019t think it can support value copying, so hanging onto a shared reference is the System\u2019s best bet.</p>", "type": "rendered"}, "created_on": "2018-11-15T05:06:16.623791+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-11-15T05:06:16.633107+00:00", "type": "pullrequest_comment", "id": 82481433}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82587659.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82587659"}}, "parent": {"id": 82481433, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82481433.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82481433"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 87, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87"}}, "title": "Change signature of Configure to use a raw pointer"}, "content": {"raw": "Plugins storing the SDF pointer for future reference is a common use case on Gazebo <= 9.", "markup": "markdown", "html": "<p>Plugins storing the SDF pointer for future reference is a common use case on Gazebo &lt;= 9.</p>", "type": "rendered"}, "created_on": "2018-11-15T18:19:14.153988+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2018-11-15T18:19:14.171817+00:00", "type": "pullrequest_comment", "id": 82587659}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82587750.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82587750"}}, "parent": {"id": 82481433, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82481433.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82481433"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 87, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87"}}, "title": "Change signature of Configure to use a raw pointer"}, "content": {"raw": "Good point.", "markup": "markdown", "html": "<p>Good point.</p>", "type": "rendered"}, "created_on": "2018-11-15T18:20:01.734114+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2018-11-15T18:20:01.772463+00:00", "type": "pullrequest_comment", "id": 82587750}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82605787.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82605787"}}, "parent": {"id": 82481433, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87/comments/82481433.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87/_/diff#comment-82481433"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 87, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/87.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/87"}}, "title": "Change signature of Configure to use a raw pointer"}, "content": {"raw": "I changed it to `const std::shared_ptr<const sdf::Element>&` in 555ba3d. I think it'd be better to wait for the API of systems to stabilize before we add the typedef to sdf.", "markup": "markdown", "html": "<p>I changed it to <code>const std::shared_ptr&lt;const sdf::Element&gt;&amp;</code> in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/555ba3d\" rel=\"nofollow\" class=\"ap-connect-link\">555ba3d</a>. I think it'd be better to wait for the API of systems to stabilize before we add the typedef to sdf.</p>", "type": "rendered"}, "created_on": "2018-11-15T21:35:00.965236+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2018-11-15T21:35:00.983211+00:00", "type": "pullrequest_comment", "id": 82605787}], "page": 1, "size": 7}