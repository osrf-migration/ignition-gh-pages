{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/388/comments/110011772.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/j_li0/ign-gazebo:ce179385bcfd..7a075e62eae8?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/388/_/diff#comment-110011772"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 388, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/388.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/388"}}, "title": "Publish battery state of charge in a topic"}, "content": {"raw": "If we don't expect other systems to modify the battery charge, we could publish this message during the `Update` call.\n\nIf we expect other systems to modify the battery charge, we should publish it during `PostUpdate`, but then we should check the `BatterySoC` component instead of the internal variable.\n\nRight now, this is not critical, so we can leave it as is. I'm just leaving this comment here for us to have this in mind once we support recharging the battery, which could be potentially done by other systems.", "markup": "markdown", "html": "<p>If we don't expect other systems to modify the battery charge, we could publish this message during the <code>Update</code> call.</p>\n<p>If we expect other systems to modify the battery charge, we should publish it during <code>PostUpdate</code>, but then we should check the <code>BatterySoC</code> component instead of the internal variable.</p>\n<p>Right now, this is not critical, so we can leave it as is. I'm just leaving this comment here for us to have this in mind once we support recharging the battery, which could be potentially done by other systems.</p>", "type": "rendered"}, "created_on": "2019-07-19T17:47:12.764558+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 349, "from": null, "outdated": true, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-07-19T17:47:12.772495+00:00", "type": "pullrequest_comment", "id": 110011772}