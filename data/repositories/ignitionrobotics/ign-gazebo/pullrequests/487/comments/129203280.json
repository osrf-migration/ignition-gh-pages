{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/487/comments/129203280.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/487/_/diff#comment-129203280"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 487, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/487.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/487"}}, "title": "Multicopter velocity control"}, "content": {"raw": "Some `clang-tidy` complaints:\n\n~~~\n/home/chapulina/blueprint_ws/src/ign-gazebo/src/systems/multicopter_control/Common.cc:166:19: warning: std::move of the variable 'rotor' of the trivially-copyable type 'ignitio\nn::gazebo::v2::systems::multicopter_control::Rotor' has no effect; remove std::move() [performance-move-const-arg]\n    out.push_back(std::move(rotor));\n                  ^~~~~~~~~~~~~~~~~\n/home/chapulina/blueprint_ws/src/ign-gazebo/src/systems/multicopter_control/Common.hh:75:33: warning: invalid case style for parameter 'rotorConfiguration' [readability-identif\nier-naming]\n      const RotorConfiguration &rotorConfiguration);\n                                ^~~~~~~~~~~~~~~~~~~\n                                _rotorConfiguration\nclang-tidy-6.0 -header-filter=/home/chapulina/blueprint_ws/src/ign-gazebo/(include|src)/* -p=/home/chapulina/blueprint_ws/src/ign-gazebo/build_tidy -quiet /home/chapulina/bluep\nrint_ws/src/ign-gazebo/src/systems/sensors/Sensors.cc\n68127 warnings generated.\n/home/chapulina/blueprint_ws/src/ign-gazebo/src/systems/multicopter_control/Common.hh:75:33: warning: invalid case style for parameter 'rotorConfiguration' [readability-identif\nier-naming]\n      const RotorConfiguration &rotorConfiguration);\n                                ^~~~~~~~~~~~~~~~~~~\n                                _rotorConfiguration\n/home/chapulina/blueprint_ws/src/ign-gazebo/src/systems/multicopter_control/LeeVelocityController.cc:73:19: warning: invalid case style for variable 'I' [readability-identifier\n-naming]\n  Eigen::Matrix4d I;\n                  ^~\n                  i\n/home/chapulina/blueprint_ws/src/ign-gazebo/src/systems/multicopter_control/LeeVelocityController.cc:82:15: warning: invalid case style for variable 'A' [readability-identifier\n-naming]\n  const auto &A = *allocationMatrix;\n              ^\n              a\n/home/chapulina/blueprint_ws/src/ign-gazebo/src/systems/multicopter_control/LeeVelocityController.cc:141:26: warning: invalid case style for variable 'R' [readability-identifie\nr-naming]\n  const Eigen::Matrix3d& R = _frameData.pose.linear();\n                         ^\n                         r\n/home/chapulina/blueprint_ws/src/ign-gazebo/src/systems/multicopter_control/LeeVelocityController.cc:168:19: warning: invalid case style for variable 'Rdes' [readability-identi\nfier-naming]\n  Eigen::Matrix3d Rdes;\n                  ^~~~~\n                  rdes\nclang-tidy-6.0 -header-filter=/home/chapulina/blueprint_ws/src/ign-gazebo/(include|src)/* -p=/home/chapulina/blueprint_ws/src/ign-gazebo/build_tidy -quiet /home/chapulina/bluep\nrint_ws/src/ign-gazebo/src/systems/touch_plugin/TouchPlugin.cc\n90881 warnings generated.\n/home/chapulina/blueprint_ws/src/ign-gazebo/src/systems/multicopter_control/Common.hh:75:33: warning: invalid case style for parameter 'rotorConfiguration' [readability-identif\nier-naming]\n      const RotorConfiguration &rotorConfiguration);\n                                ^~~~~~~~~~~~~~~~~~~\n                                _rotorConfiguration\n~~~", "markup": "markdown", "html": "<p>Some <code>clang-tidy</code> complaints:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">blueprint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">systems</span><span class=\"o\">/</span><span class=\"nt\">multicopter_control</span><span class=\"o\">/</span><span class=\"nt\">Common</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">166</span><span class=\"p\">:</span><span class=\"nd\">19</span><span class=\"o\">:</span> <span class=\"nt\">warning</span><span class=\"o\">:</span> <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">move</span> <span class=\"nt\">of</span> <span class=\"nt\">the</span> <span class=\"nt\">variable</span> <span class=\"s1\">&#39;rotor&#39;</span> <span class=\"nt\">of</span> <span class=\"nt\">the</span> <span class=\"nt\">trivially-copyable</span> <span class=\"nt\">type</span> <span class=\"s1\">&#39;ignitio</span>\n<span class=\"s1\">n::gazebo::v2::systems::multicopter_control::Rotor&#39;</span> <span class=\"nt\">has</span> <span class=\"nt\">no</span> <span class=\"nt\">effect</span><span class=\"o\">;</span> <span class=\"nt\">remove</span> <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">move</span><span class=\"o\">()</span> <span class=\"cp\">[</span><span class=\"nx\">performance</span><span class=\"na\">-move-const-arg</span><span class=\"cp\">]</span>\n    <span class=\"nt\">out</span><span class=\"p\">.</span><span class=\"nc\">push_back</span><span class=\"o\">(</span><span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">move</span><span class=\"o\">(</span><span class=\"nt\">rotor</span><span class=\"o\">));</span>\n                  <span class=\"o\">^~~~~~~~~~~~~~~~~</span>\n<span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">blueprint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">systems</span><span class=\"o\">/</span><span class=\"nt\">multicopter_control</span><span class=\"o\">/</span><span class=\"nt\">Common</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"p\">:</span><span class=\"nd\">75</span><span class=\"p\">:</span><span class=\"nd\">33</span><span class=\"o\">:</span> <span class=\"nt\">warning</span><span class=\"o\">:</span> <span class=\"nt\">invalid</span> <span class=\"nt\">case</span> <span class=\"nt\">style</span> <span class=\"nt\">for</span> <span class=\"nt\">parameter</span> <span class=\"s1\">&#39;rotorConfiguration&#39;</span> <span class=\"cp\">[</span><span class=\"nx\">readability</span><span class=\"na\">-identif</span>\n<span class=\"nx\">ier</span><span class=\"na\">-naming</span><span class=\"cp\">]</span>\n      <span class=\"nt\">const</span> <span class=\"nt\">RotorConfiguration</span> <span class=\"o\">&amp;</span><span class=\"nt\">rotorConfiguration</span><span class=\"o\">);</span>\n                                <span class=\"o\">^~~~~~~~~~~~~~~~~~~</span>\n                                <span class=\"nt\">_rotorConfiguration</span>\n<span class=\"nt\">clang-tidy-6</span><span class=\"p\">.</span><span class=\"nc\">0</span> <span class=\"nt\">-header-filter</span><span class=\"o\">=/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">blueprint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/(</span><span class=\"nt\">include</span><span class=\"o\">|</span><span class=\"nt\">src</span><span class=\"o\">)/*</span> <span class=\"nt\">-p</span><span class=\"o\">=/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">blueprint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">build_tidy</span> <span class=\"nt\">-quiet</span> <span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">bluep</span>\n<span class=\"nt\">rint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">systems</span><span class=\"o\">/</span><span class=\"nt\">sensors</span><span class=\"o\">/</span><span class=\"nt\">Sensors</span><span class=\"p\">.</span><span class=\"nc\">cc</span>\n<span class=\"nt\">68127</span> <span class=\"nt\">warnings</span> <span class=\"nt\">generated</span><span class=\"o\">.</span>\n<span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">blueprint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">systems</span><span class=\"o\">/</span><span class=\"nt\">multicopter_control</span><span class=\"o\">/</span><span class=\"nt\">Common</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"p\">:</span><span class=\"nd\">75</span><span class=\"p\">:</span><span class=\"nd\">33</span><span class=\"o\">:</span> <span class=\"nt\">warning</span><span class=\"o\">:</span> <span class=\"nt\">invalid</span> <span class=\"nt\">case</span> <span class=\"nt\">style</span> <span class=\"nt\">for</span> <span class=\"nt\">parameter</span> <span class=\"s1\">&#39;rotorConfiguration&#39;</span> <span class=\"cp\">[</span><span class=\"nx\">readability</span><span class=\"na\">-identif</span>\n<span class=\"nx\">ier</span><span class=\"na\">-naming</span><span class=\"cp\">]</span>\n      <span class=\"nt\">const</span> <span class=\"nt\">RotorConfiguration</span> <span class=\"o\">&amp;</span><span class=\"nt\">rotorConfiguration</span><span class=\"o\">);</span>\n                                <span class=\"o\">^~~~~~~~~~~~~~~~~~~</span>\n                                <span class=\"nt\">_rotorConfiguration</span>\n<span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">blueprint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">systems</span><span class=\"o\">/</span><span class=\"nt\">multicopter_control</span><span class=\"o\">/</span><span class=\"nt\">LeeVelocityController</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">73</span><span class=\"p\">:</span><span class=\"nd\">19</span><span class=\"o\">:</span> <span class=\"nt\">warning</span><span class=\"o\">:</span> <span class=\"nt\">invalid</span> <span class=\"nt\">case</span> <span class=\"nt\">style</span> <span class=\"nt\">for</span> <span class=\"nt\">variable</span> <span class=\"s1\">&#39;I&#39;</span> <span class=\"cp\">[</span><span class=\"nx\">readability</span><span class=\"na\">-identifier</span>\n<span class=\"na\">-naming</span><span class=\"cp\">]</span>\n  <span class=\"nt\">Eigen</span><span class=\"p\">::</span><span class=\"nd\">Matrix4d</span> <span class=\"nt\">I</span><span class=\"o\">;</span>\n                  <span class=\"o\">^~</span>\n                  <span class=\"nt\">i</span>\n<span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">blueprint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">systems</span><span class=\"o\">/</span><span class=\"nt\">multicopter_control</span><span class=\"o\">/</span><span class=\"nt\">LeeVelocityController</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">82</span><span class=\"p\">:</span><span class=\"nd\">15</span><span class=\"o\">:</span> <span class=\"nt\">warning</span><span class=\"o\">:</span> <span class=\"nt\">invalid</span> <span class=\"nt\">case</span> <span class=\"nt\">style</span> <span class=\"nt\">for</span> <span class=\"nt\">variable</span> <span class=\"s1\">&#39;A&#39;</span> <span class=\"cp\">[</span><span class=\"nx\">readability</span><span class=\"na\">-identifier</span>\n<span class=\"na\">-naming</span><span class=\"cp\">]</span>\n  <span class=\"nt\">const</span> <span class=\"nt\">auto</span> <span class=\"o\">&amp;</span><span class=\"nt\">A</span> <span class=\"o\">=</span> <span class=\"o\">*</span><span class=\"nt\">allocationMatrix</span><span class=\"o\">;</span>\n              <span class=\"o\">^</span>\n              <span class=\"nt\">a</span>\n<span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">blueprint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">systems</span><span class=\"o\">/</span><span class=\"nt\">multicopter_control</span><span class=\"o\">/</span><span class=\"nt\">LeeVelocityController</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">141</span><span class=\"p\">:</span><span class=\"nd\">26</span><span class=\"o\">:</span> <span class=\"nt\">warning</span><span class=\"o\">:</span> <span class=\"nt\">invalid</span> <span class=\"nt\">case</span> <span class=\"nt\">style</span> <span class=\"nt\">for</span> <span class=\"nt\">variable</span> <span class=\"s1\">&#39;R&#39;</span> <span class=\"cp\">[</span><span class=\"nx\">readability</span><span class=\"na\">-identifie</span>\n<span class=\"nx\">r</span><span class=\"na\">-naming</span><span class=\"cp\">]</span>\n  <span class=\"nt\">const</span> <span class=\"nt\">Eigen</span><span class=\"p\">::</span><span class=\"nd\">Matrix3d</span><span class=\"o\">&amp;</span> <span class=\"nt\">R</span> <span class=\"o\">=</span> <span class=\"nt\">_frameData</span><span class=\"p\">.</span><span class=\"nc\">pose</span><span class=\"p\">.</span><span class=\"nc\">linear</span><span class=\"o\">();</span>\n                         <span class=\"o\">^</span>\n                         <span class=\"nt\">r</span>\n<span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">blueprint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">systems</span><span class=\"o\">/</span><span class=\"nt\">multicopter_control</span><span class=\"o\">/</span><span class=\"nt\">LeeVelocityController</span><span class=\"p\">.</span><span class=\"nc\">cc</span><span class=\"p\">:</span><span class=\"nd\">168</span><span class=\"p\">:</span><span class=\"nd\">19</span><span class=\"o\">:</span> <span class=\"nt\">warning</span><span class=\"o\">:</span> <span class=\"nt\">invalid</span> <span class=\"nt\">case</span> <span class=\"nt\">style</span> <span class=\"nt\">for</span> <span class=\"nt\">variable</span> <span class=\"s1\">&#39;Rdes&#39;</span> <span class=\"cp\">[</span><span class=\"nx\">readability</span><span class=\"na\">-identi</span>\n<span class=\"nx\">fier</span><span class=\"na\">-naming</span><span class=\"cp\">]</span>\n  <span class=\"nt\">Eigen</span><span class=\"p\">::</span><span class=\"nd\">Matrix3d</span> <span class=\"nt\">Rdes</span><span class=\"o\">;</span>\n                  <span class=\"o\">^~~~~</span>\n                  <span class=\"nt\">rdes</span>\n<span class=\"nt\">clang-tidy-6</span><span class=\"p\">.</span><span class=\"nc\">0</span> <span class=\"nt\">-header-filter</span><span class=\"o\">=/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">blueprint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/(</span><span class=\"nt\">include</span><span class=\"o\">|</span><span class=\"nt\">src</span><span class=\"o\">)/*</span> <span class=\"nt\">-p</span><span class=\"o\">=/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">blueprint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">build_tidy</span> <span class=\"nt\">-quiet</span> <span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">bluep</span>\n<span class=\"nt\">rint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">systems</span><span class=\"o\">/</span><span class=\"nt\">touch_plugin</span><span class=\"o\">/</span><span class=\"nt\">TouchPlugin</span><span class=\"p\">.</span><span class=\"nc\">cc</span>\n<span class=\"nt\">90881</span> <span class=\"nt\">warnings</span> <span class=\"nt\">generated</span><span class=\"o\">.</span>\n<span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">chapulina</span><span class=\"o\">/</span><span class=\"nt\">blueprint_ws</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">systems</span><span class=\"o\">/</span><span class=\"nt\">multicopter_control</span><span class=\"o\">/</span><span class=\"nt\">Common</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"p\">:</span><span class=\"nd\">75</span><span class=\"p\">:</span><span class=\"nd\">33</span><span class=\"o\">:</span> <span class=\"nt\">warning</span><span class=\"o\">:</span> <span class=\"nt\">invalid</span> <span class=\"nt\">case</span> <span class=\"nt\">style</span> <span class=\"nt\">for</span> <span class=\"nt\">parameter</span> <span class=\"s1\">&#39;rotorConfiguration&#39;</span> <span class=\"cp\">[</span><span class=\"nx\">readability</span><span class=\"na\">-identif</span>\n<span class=\"nx\">ier</span><span class=\"na\">-naming</span><span class=\"cp\">]</span>\n      <span class=\"nt\">const</span> <span class=\"nt\">RotorConfiguration</span> <span class=\"o\">&amp;</span><span class=\"nt\">rotorConfiguration</span><span class=\"o\">);</span>\n                                <span class=\"o\">^~~~~~~~~~~~~~~~~~~</span>\n                                <span class=\"nt\">_rotorConfiguration</span>\n</pre></div>", "type": "rendered"}, "created_on": "2019-12-17T22:20:46.580879+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-12-17T22:20:46.588792+00:00", "type": "pullrequest_comment", "id": 129203280}