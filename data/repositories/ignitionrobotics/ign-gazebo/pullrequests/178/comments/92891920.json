{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/178/comments/92891920.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/178/_/diff#comment-92891920"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 178, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/178.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/178"}}, "title": "[A-2] Add depth camera sensor"}, "content": {"raw": "I\u2019m getting a crash running the `depth_camera_sensors.sdf` world. Not sure if you\u2019ve seen this but the backtrace points to:\n\n```\n0x00007fffc22d7123 in ignition::rendering::v1::Ogre2RenderTexture::RenderTarget() const ()\n    at /home/ian/code/ign_gz_ws/src/ign-rendering/ogre2/src/Ogre2RenderTarget.cc:260\n260\t  return this->ogreTexture->getBuffer()->getRenderTarget();\n```\n\nThe integration does not crash but the test fails for me:\n\n```\n/home/ian/code/ign_gz_ws/src/ign-gazebo/test/integration/depth_camera.cc:114: Failure\nValue of: ignition::math::INF_D\n  Actual: inf\nExpected: depthBuffer[first]\nWhich is: 1.5240719318389893\n/home/ian/code/ign_gz_ws/src/ign-gazebo/test/integration/depth_camera.cc:115: Failure\nThe difference between depthBuffer[mid] and expectedRangeAtMidPointBox1 is 1.0740724086761475, which exceeds 1e-4, where\ndepthBuffer[mid] evaluates to 1.5240724086761475,\nexpectedRangeAtMidPointBox1 evaluates to 0.45000000000000001, and\n1e-4 evaluates to 0.0001.\n/home/ian/code/ign_gz_ws/src/ign-gazebo/test/integration/depth_camera.cc:116: Failure\nValue of: ignition::math::INF_D\n  Actual: inf\nExpected: depthBuffer[last]\nWhich is: 1.5033360719680786\n```", "markup": "markdown", "html": "<p>I\u2019m getting a crash running the <code>depth_camera_sensors.sdf</code> world. Not sure if you\u2019ve seen this but the backtrace points to:</p>\n<div class=\"codehilite\"><pre><span></span>0x00007fffc22d7123 in ignition::rendering::v1::Ogre2RenderTexture::RenderTarget() const ()\n    at /home/ian/code/ign_gz_ws/src/ign-rendering/ogre2/src/Ogre2RenderTarget.cc:260\n260   return this-&gt;ogreTexture-&gt;getBuffer()-&gt;getRenderTarget();\n</pre></div>\n\n\n<p>The integration does not crash but the test fails for me:</p>\n<div class=\"codehilite\"><pre><span></span>/home/ian/code/ign_gz_ws/src/ign-gazebo/test/integration/depth_camera.cc:114: Failure\nValue of: ignition::math::INF_D\n  Actual: inf\nExpected: depthBuffer[first]\nWhich is: 1.5240719318389893\n/home/ian/code/ign_gz_ws/src/ign-gazebo/test/integration/depth_camera.cc:115: Failure\nThe difference between depthBuffer[mid] and expectedRangeAtMidPointBox1 is 1.0740724086761475, which exceeds 1e-4, where\ndepthBuffer[mid] evaluates to 1.5240724086761475,\nexpectedRangeAtMidPointBox1 evaluates to 0.45000000000000001, and\n1e-4 evaluates to 0.0001.\n/home/ian/code/ign_gz_ws/src/ign-gazebo/test/integration/depth_camera.cc:116: Failure\nValue of: ignition::math::INF_D\n  Actual: inf\nExpected: depthBuffer[last]\nWhich is: 1.5033360719680786\n</pre></div>", "type": "rendered"}, "created_on": "2019-02-26T01:53:54.399245+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2019-02-26T01:53:54.406601+00:00", "type": "pullrequest_comment", "id": 92891920}