{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/97177919.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:f5bb12efda1d..5cfd0b3297d6?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-97177919"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Instead of getting `dt` from the SDF, you could get it from `UpdateInfo.dt` at every update, in case it changes during the simulation. It's probably also best not to rely on parent SDF elements, so the plugin works even if just the current element and its children are passed.\n\nAlso, note that `dt` will be zero when simulation is paused, so you could check for that and shortcut the logic early.", "markup": "markdown", "html": "<p>Instead of getting <code>dt</code> from the SDF, you could get it from <code>UpdateInfo.dt</code> at every update, in case it changes during the simulation. It's probably also best not to rely on parent SDF elements, so the plugin works even if just the current element and its children are passed.</p>\n<p>Also, note that <code>dt</code> will be zero when simulation is paused, so you could check for that and shortcut the logic early.</p>", "type": "rendered"}, "created_on": "2019-04-02T01:21:44.277784+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 134, "from": null, "outdated": true, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-02T01:21:44.284871+00:00", "type": "pullrequest_comment", "id": 97177919}