{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/97177919.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:f5bb12efda1d..5cfd0b3297d6?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-97177919"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Instead of getting `dt` from the SDF, you could get it from `UpdateInfo.dt` at every update, in case it changes during the simulation. It's probably also best not to rely on parent SDF elements, so the plugin works even if just the current element and its children are passed.\n\nAlso, note that `dt` will be zero when simulation is paused, so you could check for that and shortcut the logic early.", "markup": "markdown", "html": "<p>Instead of getting <code>dt</code> from the SDF, you could get it from <code>UpdateInfo.dt</code> at every update, in case it changes during the simulation. It's probably also best not to rely on parent SDF elements, so the plugin works even if just the current element and its children are passed.</p>\n<p>Also, note that <code>dt</code> will be zero when simulation is paused, so you could check for that and shortcut the logic early.</p>", "type": "rendered"}, "created_on": "2019-04-02T01:21:44.277784+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 134, "from": null, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-02T01:21:44.284871+00:00", "type": "pullrequest_comment", "id": 97177919}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/97339155.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:2feb3347f579..5cfd0b3297d6?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-97339155"}}, "parent": {"id": 97177919, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/97177919.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-97177919"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Fixed in 2feb334", "markup": "markdown", "html": "<p>Fixed in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/2feb334\" rel=\"nofollow\" class=\"ap-connect-link\">2feb334</a></p>", "type": "rendered"}, "created_on": "2019-04-02T21:30:46.342523+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {"to": 134, "from": null, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-02T21:30:46.359356+00:00", "type": "pullrequest_comment", "id": 97339155}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/97179724.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-97179724"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "I just took a high level look at this PR to see if I can make a suggestion on how to avoid the shared pointer component. An idea would be to:\n\n* Keep `sdf::Battery` in `components::Battery` instead of `common::Battery`\n* Have a single system, `BatterySystem`\n* The `BatterySystem` has a container of `common::Battery`s\n* At `BatterySystem::Configure`, create `common::Battery`s for each `components::Battery` and register the relevant update functions\n* At `BatterySystem::PostUpdate`, update each battery in the container by calling `battery->Update(dt)`\n\nI may be missing some important detail, this is just a high-level suggestion. This is roughly similar to how sensors work right now. Let me know what you think.", "markup": "markdown", "html": "<p>I just took a high level look at this PR to see if I can make a suggestion on how to avoid the shared pointer component. An idea would be to:</p>\n<ul>\n<li>Keep <code>sdf::Battery</code> in <code>components::Battery</code> instead of <code>common::Battery</code></li>\n<li>Have a single system, <code>BatterySystem</code></li>\n<li>The <code>BatterySystem</code> has a container of <code>common::Battery</code>s</li>\n<li>At <code>BatterySystem::Configure</code>, create <code>common::Battery</code>s for each <code>components::Battery</code> and register the relevant update functions</li>\n<li>At <code>BatterySystem::PostUpdate</code>, update each battery in the container by calling <code>battery-&gt;Update(dt)</code></li>\n</ul>\n<p>I may be missing some important detail, this is just a high-level suggestion. This is roughly similar to how sensors work right now. Let me know what you think.</p>", "type": "rendered"}, "created_on": "2019-04-02T02:04:08.518867+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-04-02T02:04:08.526060+00:00", "type": "pullrequest_comment", "id": 97179724}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99545892.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99545892"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Simplifications from group discussion have been implemented in the latest commit.\n\n* 1 battery per Model \\(as opposed to per Link, because it is unclear in the case of a joint having multiple child links, if the battery runs out for one link but not another, it is unclear how to disable the joint such that it turns off one link without turning off the other\\)\n* `components::BatterySoC` added, maintains a `double`. Currently this is just the voltage. In the future it can be [capacity computed from the voltage](https://batteryuniversity.com/learn/article/how_to_measure_state_of_charge).\n* Physics system checks battery state. When battery drains \\(voltage < 0 currently\\), turn off all joints of that Model \\(set force to 0. Currently also set velocity to 0 because diff\\_drive does not use JointForceCmd yet, otherwise vehicle continues gliding.\\)\n* Removed `<battery>` tag from anywhere in SDF \\([this PR in sdformat](https://bitbucket.org/osrf/sdformat/pull-requests/513/add-battery-tag-under-link/diff) can be scrapped\\). Battery only specified in `<plugin>` under `<model>`\n\n", "markup": "markdown", "html": "<p>Simplifications from group discussion have been implemented in the latest commit.</p>\n<ul>\n<li>1 battery per Model (as opposed to per Link, because it is unclear in the case of a joint having multiple child links, if the battery runs out for one link but not another, it is unclear how to disable the joint such that it turns off one link without turning off the other)</li>\n<li><code>components::BatterySoC</code> added, maintains a <code>double</code>. Currently this is just the voltage. In the future it can be <a data-is-external-link=\"true\" href=\"https://batteryuniversity.com/learn/article/how_to_measure_state_of_charge\" rel=\"nofollow\">capacity computed from the voltage</a>.</li>\n<li>Physics system checks battery state. When battery drains (voltage &lt; 0 currently), turn off all joints of that Model (set force to 0. Currently also set velocity to 0 because diff_drive does not use JointForceCmd yet, otherwise vehicle continues gliding.)</li>\n<li>Removed <code>&lt;battery&gt;</code> tag from anywhere in SDF (<a data-is-external-link=\"true\" href=\"https://bitbucket.org/osrf/sdformat/pull-requests/513/add-battery-tag-under-link/diff\" rel=\"nofollow\">this PR in sdformat</a> can be scrapped). Battery only specified in <code>&lt;plugin&gt;</code> under <code>&lt;model&gt;</code></li>\n</ul>", "type": "rendered"}, "created_on": "2019-04-22T18:05:49.715374+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2019-04-22T21:29:19.101254+00:00", "type": "pullrequest_comment", "id": 99545892}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99575518.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:71b9dc1c07ad..3baefe7c6b25?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99575518"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Can we initialize all these in their declarations?", "markup": "markdown", "html": "<p>Can we initialize all these in their declarations?</p>", "type": "rendered"}, "created_on": "2019-04-23T01:02:28.819847+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 115, "from": null, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-23T01:02:28.829347+00:00", "type": "pullrequest_comment", "id": 99575518}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99884513.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:1af199b46393..0ba5dce374ea?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99884513"}}, "parent": {"id": 99575518, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99575518.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99575518"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Fixed in 1af199b", "markup": "markdown", "html": "<p>Fixed in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/1af199b\" rel=\"nofollow\" class=\"ap-connect-link\">1af199b</a></p>", "type": "rendered"}, "created_on": "2019-04-24T18:11:50.973759+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {"to": 115, "from": null, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-24T18:11:50.983128+00:00", "type": "pullrequest_comment", "id": 99884513}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99575678.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:71b9dc1c07ad..3baefe7c6b25?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99575678"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "I think you don't need to keep `batteryCompKey`. You already have the `batteryEntity`, so you could just use that, i.e.:\n\n`auto batteryComp = _ecm.Component<components::BatterySoC>(this->dataPtr->batteryEntity);`", "markup": "markdown", "html": "<p>I think you don't need to keep <code>batteryCompKey</code>. You already have the <code>batteryEntity</code>, so you could just use that, i.e.:</p>\n<p><code>auto batteryComp = _ecm.Component&lt;components::BatterySoC&gt;(this-&gt;dataPtr-&gt;batteryEntity);</code></p>", "type": "rendered"}, "created_on": "2019-04-23T01:06:25.524180+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 250, "from": null, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-23T01:06:25.535086+00:00", "type": "pullrequest_comment", "id": 99575678}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99884529.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:1af199b46393..0ba5dce374ea?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99884529"}}, "parent": {"id": 99575678, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99575678.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99575678"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Fixed in 1af199b", "markup": "markdown", "html": "<p>Fixed in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/1af199b\" rel=\"nofollow\" class=\"ap-connect-link\">1af199b</a></p>", "type": "rendered"}, "created_on": "2019-04-24T18:11:55.555618+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {"to": 250, "from": null, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-24T18:11:55.570630+00:00", "type": "pullrequest_comment", "id": 99884529}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99575725.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:71b9dc1c07ad..3baefe7c6b25?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99575725"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Since this will be the only mesage visible with verbosity == 3, we could print the battery name here too", "markup": "markdown", "html": "<p>Since this will be the only mesage visible with verbosity == 3, we could print the battery name here too</p>", "type": "rendered"}, "created_on": "2019-04-23T01:07:51.545906+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 221, "from": null, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-23T01:07:51.560380+00:00", "type": "pullrequest_comment", "id": 99575725}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99884535.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:1af199b46393..0ba5dce374ea?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99884535"}}, "parent": {"id": 99575725, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99575725.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99575725"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Fixed in 1af199b", "markup": "markdown", "html": "<p>Fixed in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/1af199b\" rel=\"nofollow\" class=\"ap-connect-link\">1af199b</a></p>", "type": "rendered"}, "created_on": "2019-04-24T18:11:59.219245+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {"to": 221, "from": null, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-24T18:11:59.232757+00:00", "type": "pullrequest_comment", "id": 99884535}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99575759.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:71b9dc1c07ad..3baefe7c6b25?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99575759"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Do we need a separate function for `Init`? It's only called here.", "markup": "markdown", "html": "<p>Do we need a separate function for <code>Init</code>? It's only called here.</p>", "type": "rendered"}, "created_on": "2019-04-23T01:08:49.653403+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 235, "from": null, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-23T01:08:49.668565+00:00", "type": "pullrequest_comment", "id": 99575759}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99884540.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:1af199b46393..0ba5dce374ea?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99884540"}}, "parent": {"id": 99575759, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99575759.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99575759"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Fixed in 1af199b", "markup": "markdown", "html": "<p>Fixed in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/1af199b\" rel=\"nofollow\" class=\"ap-connect-link\">1af199b</a></p>", "type": "rendered"}, "created_on": "2019-04-24T18:12:02.682224+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {"to": 235, "from": null, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-24T18:12:02.700656+00:00", "type": "pullrequest_comment", "id": 99884540}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99575816.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:71b9dc1c07ad..3baefe7c6b25?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99575816"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Maybe you want to skip the update if `_info.paused`?", "markup": "markdown", "html": "<p>Maybe you want to skip the update if <code>_info.paused</code>?</p>", "type": "rendered"}, "created_on": "2019-04-23T01:10:00.850145+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 243, "from": null, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-23T01:10:00.859799+00:00", "type": "pullrequest_comment", "id": 99575816}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99884545.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:1af199b46393..0ba5dce374ea?path=src%2Fsystems%2Fbattery_plugin%2FLinearBatteryPlugin.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99884545"}}, "parent": {"id": 99575816, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99575816.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99575816"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Fixed in 1af199b", "markup": "markdown", "html": "<p>Fixed in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/1af199b\" rel=\"nofollow\" class=\"ap-connect-link\">1af199b</a></p>", "type": "rendered"}, "created_on": "2019-04-24T18:12:06.074853+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "inline": {"to": 243, "from": null, "path": "src/systems/battery_plugin/LinearBatteryPlugin.cc"}, "updated_on": "2019-04-24T18:12:06.087475+00:00", "type": "pullrequest_comment", "id": 99884545}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99912199.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99912199"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "State of charge is now estimated in 0d0ba55, using equation from [here](https://www.researchgate.net/post/How_can_we_calculate_the_state_of_Charge_SOC_of_the_battery_in_on_load_condition), or direct link to equation image [here](https://www.researchgate.net/profile/Hamed_Hanifi/post/How_can_we_calculate_the_state_of_Charge_SOC_of_the_battery_in_on_load_condition/attachment/59d6356179197b8077992f4d/AS%3A384034527039488%401468572374707/download/SOc.jpg), slightly augmented to:\n\nSOC\\_t = SOC\\_\\{t-1\\} - integral\\_\\{t-100\\}^t\\(I\\_t dt\\) / capacity\n\nAt t=0, SOC\\_0 is initialized to 100%. \n\nIt\u2019s similar to the instantaneous charge `q` already calculated in the original plugin, except based on the integral sum over a historic time window \\(currently 100 iterations\\) of currents I\\_t and time interval dt, instead of the instantaneous current.", "markup": "markdown", "html": "<p>State of charge is now estimated in <a href=\"#!/ignitionrobotics/ign-gazebo/commits/0d0ba55\" rel=\"nofollow\" class=\"ap-connect-link\">0d0ba55</a>, using equation from <a data-is-external-link=\"true\" href=\"https://www.researchgate.net/post/How_can_we_calculate_the_state_of_Charge_SOC_of_the_battery_in_on_load_condition\" rel=\"nofollow\">here</a>, or direct link to equation image <a data-is-external-link=\"true\" href=\"https://www.researchgate.net/profile/Hamed_Hanifi/post/How_can_we_calculate_the_state_of_Charge_SOC_of_the_battery_in_on_load_condition/attachment/59d6356179197b8077992f4d/AS%3A384034527039488%401468572374707/download/SOc.jpg\" rel=\"nofollow\">here</a>, slightly augmented to:</p>\n<p>SOC_t = SOC_{t-1} - integral_{t-100}^t(I_t dt) / capacity</p>\n<p>At t=0, SOC_0 is initialized to 100%. </p>\n<p>It\u2019s similar to the instantaneous charge <code>q</code> already calculated in the original plugin, except based on the integral sum over a historic time window (currently 100 iterations) of currents I_t and time interval dt, instead of the instantaneous current.</p>", "type": "rendered"}, "created_on": "2019-04-25T00:14:22.410205+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2019-04-25T00:16:54.928893+00:00", "type": "pullrequest_comment", "id": 99912199}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/100381196.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-100381196"}}, "parent": {"id": 99912199, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/99912199.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-99912199"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "I think the battery charge `q` in Amp-hours keeps track of the state of charge well enough. Sorry I didn't notice this variable earlier. To estimate state of charge, I would just use the current charge `q` and the battery capacity `c` with `SOC = q / c`", "markup": "markdown", "html": "<p>I think the battery charge <code>q</code> in Amp-hours keeps track of the state of charge well enough. Sorry I didn't notice this variable earlier. To estimate state of charge, I would just use the current charge <code>q</code> and the battery capacity <code>c</code> with <code>SOC = q / c</code></p>", "type": "rendered"}, "created_on": "2019-04-29T22:55:35.818145+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-04-29T22:55:35.831179+00:00", "type": "pullrequest_comment", "id": 100381196}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/100381304.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-100381304"}}, "parent": {"id": 100381196, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/100381196.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-100381196"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "I think it's still nice to report the state-of-charge, since it's a ratio from `1` (full charge) to `0` (empty), but we could just make an accessor that computes it from `q` and `c`", "markup": "markdown", "html": "<p>I think it's still nice to report the state-of-charge, since it's a ratio from <code>1</code> (full charge) to <code>0</code> (empty), but we could just make an accessor that computes it from <code>q</code> and <code>c</code></p>", "type": "rendered"}, "created_on": "2019-04-29T22:57:20.869268+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-04-29T22:57:20.879973+00:00", "type": "pullrequest_comment", "id": 100381304}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/100513611.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-100513611"}}, "parent": {"id": 100381304, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/100381304.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-100381304"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "I'm not sure the `q` computation as it is now is correct... The numbers look weird. It's always nearly 0, even though it's initialized to 1.1665 by `<initial_charge>` in `linear_battery_demo.sdf`. I didn't change the equation. The only difference there could be from classic Gazebo is `dt`, which I believe should be in seconds, because they then divide by 3600 to convert to hours in the computation of `q`.\n\n`q / c` is also almost nearly 0 \\(e.g. -0.00133 when the SOC as computed currently is 0.86698\\). The SOC numbers at least do decrease from 1 to 0 gradually.", "markup": "markdown", "html": "<p>I'm not sure the <code>q</code> computation as it is now is correct... The numbers look weird. It's always nearly 0, even though it's initialized to 1.1665 by <code>&lt;initial_charge&gt;</code> in <code>linear_battery_demo.sdf</code>. I didn't change the equation. The only difference there could be from classic Gazebo is <code>dt</code>, which I believe should be in seconds, because they then divide by 3600 to convert to hours in the computation of <code>q</code>.</p>\n<p><code>q / c</code> is also almost nearly 0 (e.g. -0.00133 when the SOC as computed currently is 0.86698). The SOC numbers at least do decrease from 1 to 0 gradually.</p>", "type": "rendered"}, "created_on": "2019-04-30T18:37:44.631177+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2019-04-30T18:38:18.791405+00:00", "type": "pullrequest_comment", "id": 100513611}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/100537750.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-100537750"}}, "parent": {"id": 100513611, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/100513611.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-100513611"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "ok, with the changes in pull request #301, I think this is looking better", "markup": "markdown", "html": "<p>ok, with the changes in <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/301/simpler-state-of-charge-computation-pull\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #301</a>, I think this is looking better</p>", "type": "rendered"}, "created_on": "2019-04-30T23:32:14.219053+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-04-30T23:32:14.231194+00:00", "type": "pullrequest_comment", "id": 100537750}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/100539174.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-100539174"}}, "parent": {"id": 100537750, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/100537750.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-100537750"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "Thank you for the fix!", "markup": "markdown", "html": "<p>Thank you for the fix!</p>", "type": "rendered"}, "created_on": "2019-05-01T00:02:11.118488+00:00", "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "updated_on": "2019-05-01T00:02:11.134254+00:00", "type": "pullrequest_comment", "id": 100539174}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/100212040.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-100212040"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "I've read through the code, comparing to the osrf/gazebo plugins, and it looks like a straightforward port. I'll test it on Monday and check the new SOC calculation.", "markup": "markdown", "html": "<p>I've read through the code, comparing to the <a href=\"https://bitbucket.org/osrf/gazebo\" rel=\"nofollow\" class=\"ap-connect-link\">osrf/gazebo</a> plugins, and it looks like a straightforward port. I'll test it on Monday and check the new SOC calculation.</p>", "type": "rendered"}, "created_on": "2019-04-27T01:19:24.890286+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-04-27T01:19:24.900332+00:00", "type": "pullrequest_comment", "id": 100212040}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234/comments/100216292.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234/_/diff#comment-100216292"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 234, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/234.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/234"}}, "title": "[Acropolis] Port battery plugin from Gazebo classic"}, "content": {"raw": "I updated the homebrew bottle for ignition-common3 and the homebrew build for this branch is now :yellow_heart:  with just some flaky tests", "markup": "markdown", "html": "<p>I updated the homebrew bottle for ignition-common3 and the homebrew build for this branch is now <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f49b.png\" alt=\"\ud83d\udc9b\" title=\":yellow_heart:\" data-emoji-short-name=\":yellow_heart:\" />  with just some flaky tests</p>", "type": "rendered"}, "created_on": "2019-04-27T11:52:17.237252+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-04-27T11:52:28.812850+00:00", "type": "pullrequest_comment", "id": 100216292}], "page": 1, "size": 22}