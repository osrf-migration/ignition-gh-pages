{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/222/comments/95255325.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/222/_/diff#comment-95255325"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 222, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/222.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/222"}}, "title": "Unversioned system libraries"}, "content": {"raw": "the appveyor tests with ign-cmake0 appear to work, so how about the following:\n\n~~~\ndiff -r aaa2f61124ce src/systems/CMakeLists.txt\n--- a/src/systems/CMakeLists.txt        Fri Mar 15 14:07:30 2019 -0700\n+++ b/src/systems/CMakeLists.txt        Fri Mar 15 14:16:52 2019 -0700\n@@ -66,6 +66,10 @@\n   # files, we also install an unversioned symlink into the same versioned folder.\n   set(versioned ${CMAKE_SHARED_LIBRARY_PREFIX}${system_target}${CMAKE_SHARED_LIBRARY_SUFFIX})\n   set(unversioned ${CMAKE_SHARED_LIBRARY_PREFIX}${PROJECT_NAME_NO_VERSION_LOWER}-${system_name}${CMAKE_SHARED_LIBRARY_SUFFIX})\n+  if (WIN32)\n+    # create_symlink requires cmake 3.13 on windows\n+    cmake_minimum_required(VERSION 3.13 FATAL_ERROR)\n+  endif()\n   EXECUTE_PROCESS(COMMAND ${CMAKE_COMMAND} -E create_symlink ${versioned} ${unversioned})\n   INSTALL(FILES ${PROJECT_BINARY_DIR}/${unversioned} DESTINATION ${IGNITION_GAZEBO_PLUGIN_INSTALL_DIR})\n endfunction()\n~~~", "markup": "markdown", "html": "<p>the appveyor tests with ign-cmake0 appear to work, so how about the following:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r aaa2f61124ce src/systems/CMakeLists.txt</span>\n<span class=\"gd\">--- a/src/systems/CMakeLists.txt        Fri Mar 15 14:07:30 2019 -0700</span>\n<span class=\"gi\">+++ b/src/systems/CMakeLists.txt        Fri Mar 15 14:16:52 2019 -0700</span>\n<span class=\"gu\">@@ -66,6 +66,10 @@</span>\n   # files, we also install an unversioned symlink into the same versioned folder.\n   set(versioned ${CMAKE_SHARED_LIBRARY_PREFIX}${system_target}${CMAKE_SHARED_LIBRARY_SUFFIX})\n   set(unversioned ${CMAKE_SHARED_LIBRARY_PREFIX}${PROJECT_NAME_NO_VERSION_LOWER}-${system_name}${CMAKE_SHARED_LIBRARY_SUFFIX})\n<span class=\"gi\">+  if (WIN32)</span>\n<span class=\"gi\">+    # create_symlink requires cmake 3.13 on windows</span>\n<span class=\"gi\">+    cmake_minimum_required(VERSION 3.13 FATAL_ERROR)</span>\n<span class=\"gi\">+  endif()</span>\n   EXECUTE_PROCESS(COMMAND ${CMAKE_COMMAND} -E create_symlink ${versioned} ${unversioned})\n   INSTALL(FILES ${PROJECT_BINARY_DIR}/${unversioned} DESTINATION ${IGNITION_GAZEBO_PLUGIN_INSTALL_DIR})\n endfunction()\n</pre></div>", "type": "rendered"}, "created_on": "2019-03-15T21:17:34.596025+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-03-15T21:17:34.603003+00:00", "type": "pullrequest_comment", "id": 95255325}