{"rendered": {"description": {"raw": "This PR adds a service for generating SDFormat strings/files for worlds. There are multiple options for generating the SDFormat. \r\n\r\n1. Expand and inline included models\r\n2. Use the Fuel version in the URI generated for the model\r\n3. Use absolute or relative paths for resources such as meshes\r\n4. Copy model resources, such as meshes, and create a self contained model. \r\n\r\nOf these options, only the first two are currently implemented in this PR.\r\n\r\nLimitations:\r\n\r\n- Only models in the ECM are generated. This means a world that uses levels won't be saved correctly\r\n- The pose of models does not get updated properly if changes are made using the GUI transform tool while simulation is paused and the SDF generation service is called. It looks like the Pose component is not updated while simulation is paused. I think fixing that is beyond the scope of this PR.\r\n\r\nAssumptions:\r\n\r\n- In order to get the version number of Fuel URIs, I assume that the directory containing the model has a name that specifies the version.\r\n\r\nTODO:\r\n\r\n  - ~~Tie this into the GUI and save to file~~\r\n \r\nRequired:\r\n\r\n- [ign-msgs PR #174](#!/ignitionrobotics/ign-msgs/pull-requests/174/)\r\n\r\n\r\n# Try It\r\n\r\nRun:\r\n\r\n```ign gazebo -v 4 -r empty.sdf```\r\n\r\nInsert models using the `/world/empty/create` service or by dragging and dropping from Fuel\r\n\r\nTo generate an SDFormat string, run:\r\n\r\n```ign service -s /world/empty/generate_world_sdf --reqtype ignition.msgs.SdfGeneratorConfig --reptype ignition.msgs.StringMsg --timeout 3000 --req ' '\r\n```", "markup": "markdown", "html": "<p>This PR adds a service for generating SDFormat strings/files for worlds. There are multiple options for generating the SDFormat. </p>\n<ol>\n<li>Expand and inline included models</li>\n<li>Use the Fuel version in the URI generated for the model</li>\n<li>Use absolute or relative paths for resources such as meshes</li>\n<li>Copy model resources, such as meshes, and create a self contained model. </li>\n</ol>\n<p>Of these options, only the first two are currently implemented in this PR.</p>\n<p>Limitations:</p>\n<ul>\n<li>Only models in the ECM are generated. This means a world that uses levels won't be saved correctly</li>\n<li>The pose of models does not get updated properly if changes are made using the GUI transform tool while simulation is paused and the SDF generation service is called. It looks like the Pose component is not updated while simulation is paused. I think fixing that is beyond the scope of this PR.</li>\n</ul>\n<p>Assumptions:</p>\n<ul>\n<li>In order to get the version number of Fuel URIs, I assume that the directory containing the model has a name that specifies the version.</li>\n</ul>\n<p>TODO:</p>\n<ul>\n<li><del>Tie this into the GUI and save to file</del></li>\n</ul>\n<p>Required:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-msgs/pull-requests/174/\" rel=\"nofollow\">ign-msgs PR #174</a></li>\n</ul>\n<h1 id=\"markdown-header-try-it\">Try It</h1>\n<p>Run:</p>\n<p><code>ign gazebo -v 4 -r empty.sdf</code></p>\n<p>Insert models using the <code>/world/empty/create</code> service or by dragging and dropping from Fuel</p>\n<p>To generate an SDFormat string, run:</p>\n<p><code>ign service -s /world/empty/generate_world_sdf --reqtype ignition.msgs.SdfGeneratorConfig --reptype ignition.msgs.StringMsg --timeout 3000 --req ' '</code></p>", "type": "rendered"}, "title": {"raw": "Add ability to save worlds to SDFormat", "markup": "markdown", "html": "<p>Add ability to save worlds to SDFormat</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This PR adds a service for generating SDFormat strings/files for worlds. There are multiple options for generating the SDFormat. \r\n\r\n1. Expand and inline included models\r\n2. Use the Fuel version in the URI generated for the model\r\n3. Use absolute or relative paths for resources such as meshes\r\n4. Copy model resources, such as meshes, and create a self contained model. \r\n\r\nOf these options, only the first two are currently implemented in this PR.\r\n\r\nLimitations:\r\n\r\n- Only models in the ECM are generated. This means a world that uses levels won't be saved correctly\r\n- The pose of models does not get updated properly if changes are made using the GUI transform tool while simulation is paused and the SDF generation service is called. It looks like the Pose component is not updated while simulation is paused. I think fixing that is beyond the scope of this PR.\r\n\r\nAssumptions:\r\n\r\n- In order to get the version number of Fuel URIs, I assume that the directory containing the model has a name that specifies the version.\r\n\r\nTODO:\r\n\r\n  - ~~Tie this into the GUI and save to file~~\r\n \r\nRequired:\r\n\r\n- [ign-msgs PR #174](#!/ignitionrobotics/ign-msgs/pull-requests/174/)\r\n\r\n\r\n# Try It\r\n\r\nRun:\r\n\r\n```ign gazebo -v 4 -r empty.sdf```\r\n\r\nInsert models using the `/world/empty/create` service or by dragging and dropping from Fuel\r\n\r\nTo generate an SDFormat string, run:\r\n\r\n```ign service -s /world/empty/generate_world_sdf --reqtype ignition.msgs.SdfGeneratorConfig --reptype ignition.msgs.StringMsg --timeout 3000 --req ' '\r\n```", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/545/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diffstat/ignitionrobotics/ign-gazebo:963fe2188cf1%0D3de8c831cdf6?from_pullrequest_id=545"}, "commits": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/545/commits.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/545.json"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/545/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/545/merge"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/545"}, "activity": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/545/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:963fe2188cf1%0D3de8c831cdf6?from_pullrequest_id=545"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/545/approve"}, "statuses": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/545/statuses_page=1.json"}}, "title": "Add ability to save worlds to SDFormat", "close_source_branch": true, "reviewers": [{"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}], "id": 545, "destination": {"commit": {"hash": "3de8c831cdf6", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/3de8c831cdf6.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/3de8c831cdf6"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "created_on": "2020-03-04T01:47:42.080275+00:00", "summary": {"raw": "This PR adds a service for generating SDFormat strings/files for worlds. There are multiple options for generating the SDFormat. \r\n\r\n1. Expand and inline included models\r\n2. Use the Fuel version in the URI generated for the model\r\n3. Use absolute or relative paths for resources such as meshes\r\n4. Copy model resources, such as meshes, and create a self contained model. \r\n\r\nOf these options, only the first two are currently implemented in this PR.\r\n\r\nLimitations:\r\n\r\n- Only models in the ECM are generated. This means a world that uses levels won't be saved correctly\r\n- The pose of models does not get updated properly if changes are made using the GUI transform tool while simulation is paused and the SDF generation service is called. It looks like the Pose component is not updated while simulation is paused. I think fixing that is beyond the scope of this PR.\r\n\r\nAssumptions:\r\n\r\n- In order to get the version number of Fuel URIs, I assume that the directory containing the model has a name that specifies the version.\r\n\r\nTODO:\r\n\r\n  - ~~Tie this into the GUI and save to file~~\r\n \r\nRequired:\r\n\r\n- [ign-msgs PR #174](#!/ignitionrobotics/ign-msgs/pull-requests/174/)\r\n\r\n\r\n# Try It\r\n\r\nRun:\r\n\r\n```ign gazebo -v 4 -r empty.sdf```\r\n\r\nInsert models using the `/world/empty/create` service or by dragging and dropping from Fuel\r\n\r\nTo generate an SDFormat string, run:\r\n\r\n```ign service -s /world/empty/generate_world_sdf --reqtype ignition.msgs.SdfGeneratorConfig --reptype ignition.msgs.StringMsg --timeout 3000 --req ' '\r\n```", "markup": "markdown", "html": "<p>This PR adds a service for generating SDFormat strings/files for worlds. There are multiple options for generating the SDFormat. </p>\n<ol>\n<li>Expand and inline included models</li>\n<li>Use the Fuel version in the URI generated for the model</li>\n<li>Use absolute or relative paths for resources such as meshes</li>\n<li>Copy model resources, such as meshes, and create a self contained model. </li>\n</ol>\n<p>Of these options, only the first two are currently implemented in this PR.</p>\n<p>Limitations:</p>\n<ul>\n<li>Only models in the ECM are generated. This means a world that uses levels won't be saved correctly</li>\n<li>The pose of models does not get updated properly if changes are made using the GUI transform tool while simulation is paused and the SDF generation service is called. It looks like the Pose component is not updated while simulation is paused. I think fixing that is beyond the scope of this PR.</li>\n</ul>\n<p>Assumptions:</p>\n<ul>\n<li>In order to get the version number of Fuel URIs, I assume that the directory containing the model has a name that specifies the version.</li>\n</ul>\n<p>TODO:</p>\n<ul>\n<li><del>Tie this into the GUI and save to file</del></li>\n</ul>\n<p>Required:</p>\n<ul>\n<li><a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-msgs/pull-requests/174/\" rel=\"nofollow\">ign-msgs PR #174</a></li>\n</ul>\n<h1 id=\"markdown-header-try-it\">Try It</h1>\n<p>Run:</p>\n<p><code>ign gazebo -v 4 -r empty.sdf</code></p>\n<p>Insert models using the <code>/world/empty/create</code> service or by dragging and dropping from Fuel</p>\n<p>To generate an SDFormat string, run:</p>\n<p><code>ign service -s /world/empty/generate_world_sdf --reqtype ignition.msgs.SdfGeneratorConfig --reptype ignition.msgs.StringMsg --timeout 3000 --req ' '</code></p>", "type": "rendered"}, "source": {"commit": {"hash": "c3b3e37eaa5d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/c3b3e37eaa5d.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/c3b3e37eaa5d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "sdf_world_gen"}}, "comment_count": 40, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": "2020-04-07T23:40:28.668948+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "PARTICIPANT", "participated_on": "2020-04-09T03:37:10.324045+00:00", "type": "participant", "approved": false, "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}}], "reason": "", "updated_on": "2020-04-13T22:10:05.543862+00:00", "author": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "merge_commit": {"hash": "963fe2188cf1", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/963fe2188cf1.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/963fe2188cf1"}}}, "closed_by": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}