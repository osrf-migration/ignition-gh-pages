{"pagelen": 50, "values": [{"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "575799bcaf68", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/575799bcaf68.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/575799bcaf68"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7545e8a63626", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/7545e8a63626.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/7545e8a63626"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "MERGED", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-04-14T04:16:32.741095+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"approval": {"date": "2020-04-14T04:10:01.131877+00:00", "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144928634.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144928634"}}, "parent": {"id": 144928190, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144928190.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144928190"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "Ok [done](#!/ignitionrobotics/ign-gazebo/commits/7545e8a636261d2050a71dd07779dbb31127fb9a)", "markup": "markdown", "html": "<p>Ok <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/commits/7545e8a636261d2050a71dd07779dbb31127fb9a\" rel=\"nofollow\">done</a></p>", "type": "rendered"}, "created_on": "2020-04-14T03:17:06.974779+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "updated_on": "2020-04-14T03:17:06.980279+00:00", "type": "pullrequest_comment", "id": 144928634}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "575799bcaf68", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/575799bcaf68.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/575799bcaf68"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7545e8a63626", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/7545e8a63626.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/7545e8a63626"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-04-14T03:16:37.479330+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"approval": {"date": "2020-04-14T03:08:56.835111+00:00", "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144928190.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144928190"}}, "parent": {"id": 144924392, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144924392.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144924392"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "+1 to `unordered_set` - mind making the change, @{557058:798a6cdf-d171-444d-b8af-5d088f9feb2d} ? Then I think we're ready to merge. Thanks!", "markup": "markdown", "html": "<p>+1 to <code>unordered_set</code> - mind making the change, <span class=\"ap-mention\" data-atlassian-id=\"557058:798a6cdf-d171-444d-b8af-5d088f9feb2d\">@Luca Della Vedova</span> ? Then I think we're ready to merge. Thanks!</p>", "type": "rendered"}, "created_on": "2020-04-14T03:08:54.937457+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-04-14T03:08:54.948075+00:00", "type": "pullrequest_comment", "id": 144928190}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144924392.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144924392"}}, "parent": {"id": 144745757, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144745757.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144745757"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "I\u2019m also not 100% sure, from one side I think it makes sense that if we are explicitly ignoring a parameter that was set in the sdf because the mesh doesn\u2019t support it we at least inform the user we are doing it. The implementation however is not very pretty but I don\u2019t think that can be helped.  \nI\u2019m a \u201cweak yes\u201d, would fix the typo in [690](#!/ignitionrobotics/ign-gazebo/src/2f7a2e7304583b342e5c807a5347cf5a64b1903b/src/rendering/SceneManager.cc#lines-690) and probably set the set to an unordered\\_set in [693](#!/ignitionrobotics/ign-gazebo/src/2f7a2e7304583b342e5c807a5347cf5a64b1903b/src/rendering/SceneManager.cc#lines-693).", "markup": "markdown", "html": "<p>I\u2019m also not 100% sure, from one side I think it makes sense that if we are explicitly ignoring a parameter that was set in the sdf because the mesh doesn\u2019t support it we at least inform the user we are doing it. The implementation however is not very pretty but I don\u2019t think that can be helped.<br />\nI\u2019m a \u201cweak yes\u201d, would fix the typo in <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/src/2f7a2e7304583b342e5c807a5347cf5a64b1903b/src/rendering/SceneManager.cc#lines-690\" rel=\"nofollow\">690</a> and probably set the set to an unordered_set in <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/src/2f7a2e7304583b342e5c807a5347cf5a64b1903b/src/rendering/SceneManager.cc#lines-693\" rel=\"nofollow\">693</a>.</p>", "type": "rendered"}, "created_on": "2020-04-14T02:00:48.209603+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "updated_on": "2020-04-14T02:00:48.213963+00:00", "type": "pullrequest_comment", "id": 144924392}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144922976.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144922976"}}, "parent": {"id": 144904510, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144904510.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144904510"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "added comment about including copy constructor in animation classes. [c84630e](#!/ignitionrobotics/ign-gazebo/commits/c84630eb97c8541a76f9fb04bc6cf39c9cc56e36)", "markup": "markdown", "html": "<p>added comment about including copy constructor in animation classes. <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/commits/c84630eb97c8541a76f9fb04bc6cf39c9cc56e36\" rel=\"nofollow\">c84630e</a></p>", "type": "rendered"}, "created_on": "2020-04-14T01:38:21.121534+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-04-14T01:38:21.125688+00:00", "type": "pullrequest_comment", "id": 144922976}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144922951.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144922951"}}, "parent": {"id": 144918760, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144918760.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144918760"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "yeah that\u2019s what I have in mind as well. We should port the model to `openrobotics` account", "markup": "markdown", "html": "<p>yeah that\u2019s what I have in mind as well. We should port the model to <code>openrobotics</code> account</p>", "type": "rendered"}, "created_on": "2020-04-14T01:37:59.714705+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-04-14T01:37:59.721892+00:00", "type": "pullrequest_comment", "id": 144922951}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144922917.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144922917"}}, "parent": {"id": 144919097, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144919097.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144919097"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "done. [c84630e](#!/ignitionrobotics/ign-gazebo/commits/c84630eb97c8541a76f9fb04bc6cf39c9cc56e36)", "markup": "markdown", "html": "<p>done. <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/commits/c84630eb97c8541a76f9fb04bc6cf39c9cc56e36\" rel=\"nofollow\">c84630e</a></p>", "type": "rendered"}, "created_on": "2020-04-14T01:37:29.178756+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-04-14T01:37:29.184604+00:00", "type": "pullrequest_comment", "id": 144922917}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "575799bcaf68", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/575799bcaf68.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/575799bcaf68"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c84630eb97c8", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/c84630eb97c8.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/c84630eb97c8"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-04-14T01:36:31.283187+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144919240.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144919240"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "Works for me. I just have a small comment below.", "markup": "markdown", "html": "<p>Works for me. I just have a small comment below.</p>", "type": "rendered"}, "created_on": "2020-04-14T00:39:02.571391+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-04-14T00:39:02.573751+00:00", "type": "pullrequest_comment", "id": 144919240}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144919097.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144919097"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "I tried loading an actor whose trajectory type didn't match any animations and it crashes on this line. I think we should check that `animation` is valid before accessing it.", "markup": "markdown", "html": "<p>I tried loading an actor whose trajectory type didn't match any animations and it crashes on this line. I think we should check that <code>animation</code> is valid before accessing it.</p>", "type": "rendered"}, "created_on": "2020-04-14T00:36:51.251937+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-04-14T00:36:51.254611+00:00", "type": "pullrequest_comment", "id": 144919097}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144918760.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144918760"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "The inline actor in `actor.sdf` is triggering these warnings, we should remove the `interpolate_x` tag from it.\n\nI see Mingfei's included actor also triggers this. I think we should probably copy that actor to the `openrobotics` account and fix it there.", "markup": "markdown", "html": "<p>The inline actor in <code>actor.sdf</code> is triggering these warnings, we should remove the <code>interpolate_x</code> tag from it.</p>\n<p>I see Mingfei's included actor also triggers this. I think we should probably copy that actor to the <code>openrobotics</code> account and fix it there.</p>", "type": "rendered"}, "created_on": "2020-04-14T00:32:21.327203+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-04-14T00:32:21.329768+00:00", "type": "pullrequest_comment", "id": 144918760}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144904510.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144904510"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "Another thing to point out is that manual copying here is fragile. If new fields are added to the `SkeletonAnimation` class, we'll probably forget to copy them here. Maybe adding a copy constructor / operator to that class would also be handy - in the future.", "markup": "markdown", "html": "<p>Another thing to point out is that manual copying here is fragile. If new fields are added to the <code>SkeletonAnimation</code> class, we'll probably forget to copy them here. Maybe adding a copy constructor / operator to that class would also be handy - in the future.</p>", "type": "rendered"}, "created_on": "2020-04-13T21:40:32.947634+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-04-13T21:40:32.951487+00:00", "type": "pullrequest_comment", "id": 144904510}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "575799bcaf68", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/575799bcaf68.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/575799bcaf68"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4df31e573637", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/4df31e573637.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/4df31e573637"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-04-13T18:36:00.826864+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "575799bcaf68", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/575799bcaf68.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/575799bcaf68"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4df31e573637", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/4df31e573637.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/4df31e573637"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-04-11T22:26:06.391158+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144745757.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144745757"}}, "parent": {"id": 144734357, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144734357.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144734357"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "added warning msgs in [2f7a2e7](#!/ignitionrobotics/ign-gazebo/commits/2f7a2e7304583b342e5c807a5347cf5a64b1903b).  Now it prints a few msgs when running `actor.sdf`, e.g.\n\n```\n[Wrn] [SceneManager.cc:711] Animation has no x displacement. Ignoring <interpolate_x> for animation in 'file:///home/osrf/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/stand.dae'\n```\n\nI\u2019m on the fence about whether or not to include them or not. It requires the user to have prior knowledge of the animation data in the mesh. I think typical robotics developers aren\u2019t the ones creating the animations so they won\u2019t know until they try them out in simulation. I\u2019ll leave that to you @{557058:798a6cdf-d171-444d-b8af-5d088f9feb2d}  to decide if we should include the warnings or not. ", "markup": "markdown", "html": "<p>added warning msgs in <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/commits/2f7a2e7304583b342e5c807a5347cf5a64b1903b\" rel=\"nofollow\">2f7a2e7</a>.  Now it prints a few msgs when running <code>actor.sdf</code>, e.g.</p>\n<div class=\"codehilite\"><pre><span></span>[Wrn] [SceneManager.cc:711] Animation has no x displacement. Ignoring &lt;interpolate_x&gt; for animation in &#39;file:///home/osrf/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/stand.dae&#39;\n</pre></div>\n\n\n<p>I\u2019m on the fence about whether or not to include them or not. It requires the user to have prior knowledge of the animation data in the mesh. I think typical robotics developers aren\u2019t the ones creating the animations so they won\u2019t know until they try them out in simulation. I\u2019ll leave that to you <span class=\"ap-mention\" data-atlassian-id=\"557058:798a6cdf-d171-444d-b8af-5d088f9feb2d\">@Luca Della Vedova</span>  to decide if we should include the warnings or not. </p>", "type": "rendered"}, "created_on": "2020-04-11T22:22:47.292737+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-04-11T22:22:47.303387+00:00", "type": "pullrequest_comment", "id": 144745757}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "575799bcaf68", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/575799bcaf68.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/575799bcaf68"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "27079ffe1ed8", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/27079ffe1ed8.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/27079ffe1ed8"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-04-11T22:21:19.590003+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "575799bcaf68", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/575799bcaf68.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/575799bcaf68"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2f7a2e730458", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/2f7a2e730458.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/2f7a2e730458"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-04-11T22:08:07.340865+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144734214.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144734214"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "I found out that the hardcoded distance threshold was to prevent the `PoseAtX` function from going into an infinite loop for animations that do not move in x, e.g. person standing animation in `actor.sdf` so I added some checks back. I also fixed a problem with actors that have multiple animations from the same dae file, which was likely introduced in pull request #579.\n\n[61fbd5b](#!/ignitionrobotics/ign-gazebo/commits/61fbd5b3c6c94b4702f32255c83b3a5f3d845658)", "markup": "markdown", "html": "<p>I found out that the hardcoded distance threshold was to prevent the <code>PoseAtX</code> function from going into an infinite loop for animations that do not move in x, e.g. person standing animation in <code>actor.sdf</code> so I added some checks back. I also fixed a problem with actors that have multiple animations from the same dae file, which was likely introduced in <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/579/actor-skeleton-animation-auto-update-mode\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #579</a>.</p>\n<p><a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/commits/61fbd5b3c6c94b4702f32255c83b3a5f3d845658\" rel=\"nofollow\">61fbd5b</a></p>", "type": "rendered"}, "created_on": "2020-04-11T08:34:26.224224+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-04-11T09:20:55.256636+00:00", "type": "pullrequest_comment", "id": 144734214}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144734357.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144734357"}}, "parent": {"id": 144734261, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144734261.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144734261"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "yeah with the new changes, the `<interpolate_x>` should be respected except the case when there is no x displacement to interpolate. We can add a warning message when that happens. ", "markup": "markdown", "html": "<p>yeah with the new changes, the <code>&lt;interpolate_x&gt;</code> should be respected except the case when there is no x displacement to interpolate. We can add a warning message when that happens. </p>", "type": "rendered"}, "created_on": "2020-04-11T08:44:31.974545+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-04-11T08:44:31.980847+00:00", "type": "pullrequest_comment", "id": 144734357}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144734261.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144734261"}}, "parent": {"id": 144734214, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144734214.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144734214"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "Yea was looking at that, the infinite loop is the issue I was trying to fix in the first place with this PR, it only happens if the user sets InterpolateX\\(\\) to true and the actor doesn\u2019t move and it might be argued that if they do there is something logically wrong with the sdf \\(they are asking \u201cplease interpolate the animation based on x displacement\u201d but the x displacement is 0 in the first place\\).\n\nI do agree that wrong behavior is better than infinite loop in that case, but maybe we should still notify the user that something fishy is happening?\n\n\\[Edit\\] I\u2019m also a bit worried about arbitrary thresholds, i.e. 0.1 before or the tolerance for math::equal now, what will happen if the distance \u201coscillates\u201d around 0, for example because the center of mass at the hip is moving while walking?", "markup": "markdown", "html": "<p>Yea was looking at that, the infinite loop is the issue I was trying to fix in the first place with this PR, it only happens if the user sets InterpolateX() to true and the actor doesn\u2019t move and it might be argued that if they do there is something logically wrong with the sdf (they are asking \u201cplease interpolate the animation based on x displacement\u201d but the x displacement is 0 in the first place).</p>\n<p>I do agree that wrong behavior is better than infinite loop in that case, but maybe we should still notify the user that something fishy is happening?</p>\n<p>[Edit] I\u2019m also a bit worried about arbitrary thresholds, i.e. 0.1 before or the tolerance for math::equal now, what will happen if the distance \u201coscillates\u201d around 0, for example because the center of mass at the hip is moving while walking?</p>", "type": "rendered"}, "created_on": "2020-04-11T08:37:07.471499+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "updated_on": "2020-04-11T08:44:08.315791+00:00", "type": "pullrequest_comment", "id": 144734261}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "575799bcaf68", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/575799bcaf68.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/575799bcaf68"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d2e082d7c23f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/d2e082d7c23f.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/d2e082d7c23f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-04-11T08:37:44.998967+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/144734152.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-144734152"}}, "parent": {"id": 143918966, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/143918966.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-143918966"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "ign-common 3.5.0 is released. Triggered new builds", "markup": "markdown", "html": "<p>ign-common 3.5.0 is released. Triggered new builds</p>", "type": "rendered"}, "created_on": "2020-04-11T08:29:53.516571+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-04-11T08:29:53.521540+00:00", "type": "pullrequest_comment", "id": 144734152}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "575799bcaf68", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/575799bcaf68.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/575799bcaf68"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "61fbd5b3c6c9", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/61fbd5b3c6c9.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/61fbd5b3c6c9"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-04-11T08:28:55.800033+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "575799bcaf68", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/575799bcaf68.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/575799bcaf68"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "6799d25eba53", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/6799d25eba53.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/6799d25eba53"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-04-11T06:14:41.552368+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "2dd9c3d21b2c", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/2dd9c3d21b2c.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/2dd9c3d21b2c"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "bc5245f9eabb", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/bc5245f9eabb.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/bc5245f9eabb"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2020-04-10T01:15:16.769243+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/143918966.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-143918966"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "PR looks good to me. \n\nNote my changes in pull request #536 conflicts with this PR but it should be easy to resolve. We can merge this one first, and I\u2019ll port these changes over to my PR.\n\nBut first, we\u2019ll need an ign-common3 release for a clean CI build.", "markup": "markdown", "html": "<p>PR looks good to me. </p>\n<p>Note my changes in <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/536/using-interpolate_x-sdf-value-for\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #536</a> conflicts with this PR but it should be easy to resolve. We can merge this one first, and I\u2019ll port these changes over to my PR.</p>\n<p>But first, we\u2019ll need an ign-common3 release for a clean CI build.</p>", "type": "rendered"}, "created_on": "2020-04-06T22:46:25.116173+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2020-04-06T22:46:25.119949+00:00", "type": "pullrequest_comment", "id": 143918966}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "8064b9eb40be", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/8064b9eb40be.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/8064b9eb40be"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "67297a8ce06f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/67297a8ce06f.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/67297a8ce06f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-04-06T18:15:01.341134+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/232](#!/ignitionrobotics/ign-common/pull-requests/232)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "8064b9eb40be", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/8064b9eb40be.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/8064b9eb40be"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "67297a8ce06f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/67297a8ce06f.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/67297a8ce06f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-04-02T07:08:58.585157+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/229](#!/ignitionrobotics/ign-common/pull-requests/229)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "8064b9eb40be", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/8064b9eb40be.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/8064b9eb40be"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "67297a8ce06f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/67297a8ce06f.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/67297a8ce06f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-04-02T06:50:03.871441+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/142692983.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-142692983"}}, "parent": {"id": 137451926, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/137451926.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-137451926"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "@{557058:798a6cdf-d171-444d-b8af-5d088f9feb2d} . What do you think about avoiding ABI breakage in the ign-common PR by using the static map workaround Louise suggested?", "markup": "markdown", "html": "<p><span class=\"ap-mention\" data-atlassian-id=\"557058:798a6cdf-d171-444d-b8af-5d088f9feb2d\">@Luca Della Vedova</span> . What do you think about avoiding ABI breakage in the ign-common PR by using the static map workaround Louise suggested?</p>", "type": "rendered"}, "created_on": "2020-03-30T17:35:03.933834+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-03-30T17:35:04.001158+00:00", "type": "pullrequest_comment", "id": 142692983}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/229](#!/ignitionrobotics/ign-common/pull-requests/229)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "dd4ff2a4c111", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/dd4ff2a4c111.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/dd4ff2a4c111"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "46385b680d74", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/46385b680d74.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/46385b680d74"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-03-30T00:52:01.294959+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/137451926.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-137451926"}}, "parent": {"id": 137278369, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/137278369.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-137278369"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "\\+1 we could use the hack to get this in to ign-common3 if it\u2019s needed for the project, otherwise it would be good to use this opportunity to update the class to pimpl", "markup": "markdown", "html": "<p>+1 we could use the hack to get this in to ign-common3 if it\u2019s needed for the project, otherwise it would be good to use this opportunity to update the class to pimpl</p>", "type": "rendered"}, "created_on": "2020-02-25T19:49:28.034095+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-02-25T19:49:28.048962+00:00", "type": "pullrequest_comment", "id": 137451926}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/137278369.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-137278369"}}, "parent": {"id": 137277379, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/137277379.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-137277379"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "An ugly hack around the ABI break would be to store the new member in a static map [like this](https://community.kde.org/Policies/Binary_Compatibility_Issues_With_C%2B%2B#Adding_new_data_members_to_classes_without_d-pointer).\n\nIf this isn't urgent to get in, I second your option of waiting to see if we need more API breakages though.", "markup": "markdown", "html": "<p>An ugly hack around the ABI break would be to store the new member in a static map <a data-is-external-link=\"true\" href=\"https://community.kde.org/Policies/Binary_Compatibility_Issues_With_C%2B%2B#Adding_new_data_members_to_classes_without_d-pointer\" rel=\"nofollow\">like this</a>.</p>\n<p>If this isn't urgent to get in, I second your option of waiting to see if we need more API breakages though.</p>", "type": "rendered"}, "created_on": "2020-02-25T02:04:10.581592+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-02-25T02:04:10.588509+00:00", "type": "pullrequest_comment", "id": 137278369}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/137277379.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-137277379"}}, "parent": {"id": 137273194, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/137273194.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-137273194"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "I agree on changing the class to pimpl, I can do that and update the PR but I also agree that even with that change it is quite overkill to bump the whole stack.\n\nWhile this is a \u201cnice to have\u201d fix since the interpolate\\_x tag is basically broken we can put this on hold and see how the Dome development progresses on, if we reach a critical mass of API / ABI breaking changes on ign-common then we can push this and bump all the other packages?", "markup": "markdown", "html": "<p>I agree on changing the class to pimpl, I can do that and update the PR but I also agree that even with that change it is quite overkill to bump the whole stack.</p>\n<p>While this is a \u201cnice to have\u201d fix since the interpolate_x tag is basically broken we can put this on hold and see how the Dome development progresses on, if we reach a critical mass of API / ABI breaking changes on ign-common then we can push this and bump all the other packages?</p>", "type": "rendered"}, "created_on": "2020-02-25T01:45:38.280291+00:00", "user": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "inline": {}, "updated_on": "2020-02-25T01:45:38.286791+00:00", "type": "pullrequest_comment", "id": 137277379}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/137273194.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-137273194"}}, "parent": {"id": 137259497, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/137259497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-137259497"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "Yup, we can only have one version of each library per distribution, otherwise things can get too messy.\n\nIt feels a bit overkill to bump basically the entire stack just for that protected member variable though. If there's no way around it, it would be *great* to at least take the opportunity to pimpl that class too.", "markup": "markdown", "html": "<p>Yup, we can only have one version of each library per distribution, otherwise things can get too messy.</p>\n<p>It feels a bit overkill to bump basically the entire stack just for that protected member variable though. If there's no way around it, it would be <em>great</em> to at least take the opportunity to pimpl that class too.</p>", "type": "rendered"}, "created_on": "2020-02-25T00:35:28.620567+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2020-02-25T00:35:28.629179+00:00", "type": "pullrequest_comment", "id": 137273194}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536/comments/137259497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536/_/diff#comment-137259497"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}, "content": {"raw": "We should probably use the same ign-common version for all ignition libraries for Dome. So this means bumping to common4 for other libraries like ign-rendering, ign-sensors, ign-gui, etc. @{557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8} ?", "markup": "markdown", "html": "<p>We should probably use the same ign-common version for all ignition libraries for Dome. So this means bumping to common4 for other libraries like ign-rendering, ign-sensors, ign-gui, etc. <span class=\"ap-mention\" data-atlassian-id=\"557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8\">@Louise Poubel</span> ?</p>", "type": "rendered"}, "created_on": "2020-02-24T21:59:14.256184+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2020-02-24T21:59:14.265730+00:00", "type": "pullrequest_comment", "id": 137259497}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/229](#!/ignitionrobotics/ign-common/pull-requests/229)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "939014abd905", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/939014abd905.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/939014abd905"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "933f67abffb7", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/933f67abffb7.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/933f67abffb7"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-02-21T03:06:43.641558+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nI\u2019m not particularly happy with the \u201c-1\u201d hack, but it\u2019s the only way I could get this to work in this example.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/229](#!/ignitionrobotics/ign-common/pull-requests/229)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "939014abd905", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/939014abd905.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/939014abd905"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2b6dd997e18f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/2b6dd997e18f.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/2b6dd997e18f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-02-21T03:02:34.311577+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \r\nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\r\n\r\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\r\n\r\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\r\n\r\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\r\n\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<sdf version=\"1.6\">\r\n    <actor name=\"actor_test\">\r\n        <pose>0 0 1.0 0 0 0</pose>\r\n        <skin>\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n        </skin>\r\n        <animation name=\"walk_ni\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>false</interpolate_x>\r\n        </animation><animation name=\"walk\">\r\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\r\n            <scale>1.0</scale>\r\n            <interpolate_x>true</interpolate_x>\r\n        </animation>\r\n        <script>\r\n            <loop>true</loop>\r\n            <delay_start>1.0</delay_start>\r\n            <auto_start>true</auto_start>\r\n            <trajectory id=\"4\" type=\"walk_ni\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 0 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 4 1.0 0 0 1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n            <trajectory id=\"5\" type=\"walk\">\r\n                <waypoint>\r\n                    <time>0</time>\r\n                    <pose>0 4 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n                <waypoint>\r\n                    <time>4</time>\r\n                    <pose>0 0 1.0 0 0 -1.57</pose>\r\n                </waypoint>\r\n            </trajectory>\r\n        </script>\r\n    </actor>\r\n</sdf>\r\n```\r\n\r\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\r\nAnd after \\(the tag is used\\):\r\n\r\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\r\nDepends on ign-common PR [#!/ignitionrobotics/ign-common/pull-requests/229](#!/ignitionrobotics/ign-common/pull-requests/229)", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "939014abd905", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/939014abd905.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/939014abd905"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2b6dd997e18f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/2b6dd997e18f.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/2b6dd997e18f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-02-21T03:00:38.724608+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\n\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\n\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\n\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\n\n```xml\n<?xml version=\"1.0\" ?>\n<sdf version=\"1.6\">\n    <actor name=\"actor_test\">\n        <pose>0 0 1.0 0 0 0</pose>\n        <skin>\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\n            <scale>1.0</scale>\n        </skin>\n        <animation name=\"walk_ni\">\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\n            <scale>1.0</scale>\n            <interpolate_x>false</interpolate_x>\n        </animation><animation name=\"walk\">\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\n            <scale>1.0</scale>\n            <interpolate_x>true</interpolate_x>\n        </animation>\n        <script>\n            <loop>true</loop>\n            <delay_start>1.0</delay_start>\n            <auto_start>true</auto_start>\n            <trajectory id=\"4\" type=\"walk_ni\">\n                <waypoint>\n                    <time>0</time>\n                    <pose>0 0 1.0 0 0 1.57</pose>\n                </waypoint>\n                <waypoint>\n                    <time>4</time>\n                    <pose>0 4 1.0 0 0 1.57</pose>\n                </waypoint>\n            </trajectory>\n            <trajectory id=\"5\" type=\"walk\">\n                <waypoint>\n                    <time>0</time>\n                    <pose>0 4 1.0 0 0 -1.57</pose>\n                </waypoint>\n                <waypoint>\n                    <time>4</time>\n                    <pose>0 0 1.0 0 0 -1.57</pose>\n                </waypoint>\n            </trajectory>\n        </script>\n    </actor>\n</sdf>\n```\n\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\n\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\nAnd after \\(the tag is used\\):\n\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\nDepends on ign-common PR\n\n\u200c", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "939014abd905", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/939014abd905.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/939014abd905"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2b6dd997e18f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/2b6dd997e18f.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/2b6dd997e18f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-02-21T02:56:18.508619+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}, {"update": {"description": "This PR adds usage of interpolate\\_x SDF parameter for actor animations.  \nPreviously, the model pose was computed in a bit of a hacky way depending on a hardcoded distance threshold of 0.1, less than threshold resulted in normal animation playback, greater than threshold automatically switched to X interpolated animation, ignoring the sdf tag.\n\nThis PR removes the hack and uses the sdf tag instead to determine the animation playback speed, in a way similar to how it is [currently done in gazebo](https://bitbucket.org/osrf/gazebo/src/c1537db2c8550db2566a634fcee382a7ab6d7fbe/gazebo/physics/Actor.cc#lines-778).\n\nTargeting default because it might break existing behavior and it requires an ABI \\(I believe\\) breaking change in ign-common that will need to target default as well.\n\nTo test I used the actor.sdf example world, changing the model.sdf for the actor to the following:\n\n```xml\n<?xml version=\"1.0\" ?>\n<sdf version=\"1.6\">\n    <actor name=\"actor_test\">\n        <pose>0 0 1.0 0 0 0</pose>\n        <skin>\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\n            <scale>1.0</scale>\n        </skin>\n        <animation name=\"walk_ni\">\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\n            <scale>1.0</scale>\n            <interpolate_x>false</interpolate_x>\n        </animation><animation name=\"walk\">\n            <filename>file:///home/luca/.ignition/fuel/fuel.ignitionrobotics.org/Mingfei/models/actor/1//meshes/walk.dae</filename>\n            <scale>1.0</scale>\n            <interpolate_x>true</interpolate_x>\n        </animation>\n        <script>\n            <loop>true</loop>\n            <delay_start>1.0</delay_start>\n            <auto_start>true</auto_start>\n            <trajectory id=\"4\" type=\"walk_ni\">\n                <waypoint>\n                    <time>0</time>\n                    <pose>0 0 1.0 0 0 1.57</pose>\n                </waypoint>\n                <waypoint>\n                    <time>4</time>\n                    <pose>0 4 1.0 0 0 1.57</pose>\n                </waypoint>\n            </trajectory>\n            <trajectory id=\"5\" type=\"walk\">\n                <waypoint>\n                    <time>0</time>\n                    <pose>0 4 1.0 0 0 -1.57</pose>\n                </waypoint>\n                <waypoint>\n                    <time>4</time>\n                    <pose>0 0 1.0 0 0 -1.57</pose>\n                </waypoint>\n            </trajectory>\n        </script>\n    </actor>\n</sdf>\n```\n\nResult is the following, before the PRs \\(interpolate\\_x tag is ignored\\):\n\n![](https://bitbucket.org/repo/8zodKzn/images/3559567351-actor_before_pr.gif)\nAnd after \\(the tag is used\\):\n\n![](https://bitbucket.org/repo/8zodKzn/images/3624619904-actor_post_pr.gif)\nDepends on ign-common PR\n\n\u200c", "title": "Using interpolate_x sdf value for animation playback speed", "destination": {"commit": {"hash": "939014abd905", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/939014abd905.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/939014abd905"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2b6dd997e18f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/2b6dd997e18f.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/2b6dd997e18f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "animation_interpolatex"}}, "state": "OPEN", "author": {"display_name": "Luca Della Vedova", "uuid": "{dff01cd5-37c0-4865-84bc-7e6bc480a09c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D"}, "html": {"href": "https://bitbucket.org/%7Bdff01cd5-37c0-4865-84bc-7e6bc480a09c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5b24bfc2f4a3853203ffffb2a97b47dbd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLV-3.png"}}, "nickname": "luca_della_vedova", "type": "user", "account_id": "557058:798a6cdf-d171-444d-b8af-5d088f9feb2d"}, "date": "2020-02-21T02:56:18.465066+00:00"}, "pull_request": {"type": "pullrequest", "id": 536, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/536.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/536"}}, "title": "Using interpolate_x sdf value for animation playback speed"}}]}