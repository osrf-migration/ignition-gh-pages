{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573/comments/143648543.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573/_/diff#comment-143648543"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}, "content": {"raw": "Confirm behaviour as expected. Different/shorter list of missing features are warned when testing with TPE/Bullet/HelloWorld plugins.\n\nTerminal output see below\n\n`Bullet`: `find_physics_engined` \n\n```\n$ IGN_GAZEBO_PHYSICS_ENGINE_PATH=`pwd`/build/ignition-physics ign gazebo -v 2 shapes.sdf --physics-engine ignition-physics-bullet-plugin\n[Wrn] [Physics.cc:378] Plugin [ignition::physics::bullet::Plugin] misses required features:\n- N8ignition7physics14FixedJointCastE\n- N8ignition7physics18DetachJointFeatureE\n- N8ignition7physics19GetShapeBoundingBoxE\n- N8ignition7physics23AttachFixedJointFeatureE\n- N8ignition7physics30SetJointVelocityCommandFeatureE\n- N8ignition7physics34SetJointTransformFromParentFeatureE\n- N8ignition7physics3sdf16ConstructSdfLinkE\n- N8ignition7physics4mesh13MeshShapeCastE\n- N8ignition7physics4mesh22AttachMeshShapeFeatureE\n[Err] [Physics.cc:383] Failed to load a valid physics engine from [/home/claire/blueprint_ws/install/lib/ign-physics-1/engine-plugins/libignition-physics-bullet-plugin.so].\n[GUI] [Wrn] [Application.cc:649] [QT] file::/ComponentInspector/ComponentInspector.qml:161: ReferenceError: ComponentsModel is not defined\n[GUI] [Wrn] [RenderUtil.cc:903] Failed to create grid for scene [scene] on engine [ogre2]\n```\n\n`Bullet`: `chapulina/bullet`, with significantly fewer missing features printed\n\n```\n$ IGN_GAZEBO_PHYSICS_ENGINE_PATH=`pwd`/build/ignition-physics ign gazebo -v 2 shapes.sdf --physics-engine ignition-physics-bullet-plugin\n[Wrn] [Physics.cc:471] Plugin [ignition::physics::bullet::Plugin] misses required features:\n- N8ignition7physics3sdf16ConstructSdfLinkE\n[Err] [Physics.cc:476] Failed to load a valid physics engine from [/home/claire/blueprint_ws/install/lib/ign-physics-1/engine-plugins/libignition-physics-bullet-plugin.so].\n[GUI] [Wrn] [Application.cc:649] [QT] file::/ComponentInspector/ComponentInspector.qml:161: ReferenceError: ComponentsModel is not defined\n[GUI] [Wrn] [RenderUtil.cc:903] Failed to create grid for scene [scene] on engine [ogre2]\n```\n\n`TPE`: the last two missing features are different from `find_physics_engined` branch output\n\n```\n$ IGN_GAZEBO_PHYSICS_ENGINE_PATH=`pwd`/build/ignition-physics ign gazebo -v 2 shapes.sdf --physics-engine ignition-physics-tpe-plugin    \n[Wrn] [Physics.cc:476] Plugin [ignition::physics::tpeplugin::Plugin] misses required features:\n- N8ignition7physics17GetJointFromModelE\n- N8ignition7physics18GetBasicJointStateE\n- N8ignition7physics18SetBasicJointStateE\n- N8ignition7physics23GetBasicJointPropertiesE\n- N8ignition7physics26AddLinkExternalForceTorqueE\n- N8ignition7physics30GetContactsFromLastStepFeatureE\n- N8ignition7physics3sdf17ConstructSdfJointE\n- N8ignition7physics3sdf21ConstructSdfCollisionE\n[Err] [Physics.cc:481] Failed to load a valid physics engine from [/home/claire/citadel_ws/install/lib/ign-physics-2/engine-plugins/libignition-physics-tpe-plugin.so].\n[GUI] [Wrn] [Application.cc:649] [QT] file::/ComponentInspector/ComponentInspector.qml:161: ReferenceError: ComponentsModel is not defined\n```\n\n`HelloWorld`: only ~20 missing features are printed vs. ~23 in `find_physics_engined` \n\n```\n$ IGN_GAZEBO_PHYSICS_ENGINE_PATH=`pwd`/build ign gazebo -v 2 build/rolling_box.sdf --physics-engine HelloWorldPlugin\n[Wrn] [Physics.cc:476] Plugin [mock::HelloWorldPlugin] misses required features:\n- N8ignition7physics11ForwardStepE\n- N8ignition7physics16GetLinkFromModelE\n- N8ignition7physics16GetShapeFromLinkE\n- N8ignition7physics17GetJointFromModelE\n- N8ignition7physics17GetModelFromWorldE\n- N8ignition7physics18GetBasicJointStateE\n- N8ignition7physics18GetWorldFromEngineE\n- N8ignition7physics18LinkFrameSemanticsE\n- N8ignition7physics18SetBasicJointStateE\n- N8ignition7physics20FindFreeGroupFeatureE\n- N8ignition7physics20RemoveModelFromWorldE\n- N8ignition7physics21SetFreeGroupWorldPoseE\n- N8ignition7physics23GetBasicJointPropertiesE\n- N8ignition7physics26AddLinkExternalForceTorqueE\n- N8ignition7physics30GetContactsFromLastStepFeatureE\n- N8ignition7physics3sdf16ConstructSdfLinkE\n- N8ignition7physics3sdf17ConstructSdfJointE\n- N8ignition7physics3sdf17ConstructSdfModelE\n- N8ignition7physics3sdf17ConstructSdfWorldE\n- N8ignition7physics3sdf21ConstructSdfCollisionE\n[Err] [Physics.cc:481] Failed to load a valid physics engine from [/home/claire/citadel_ws/src/ign-physics/examples/hello_world_plugin/build/libHelloWorldPlugin.so].\n```\n\n\u200c", "markup": "markdown", "html": "<p>Confirm behaviour as expected. Different/shorter list of missing features are warned when testing with TPE/Bullet/HelloWorld plugins.</p>\n<p>Terminal output see below</p>\n<p><code>Bullet</code>: <code>find_physics_engined</code> </p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nv\">IGN_GAZEBO_PHYSICS_ENGINE_PATH</span><span class=\"o\">=</span><span class=\"sb\">`</span><span class=\"nb\">pwd</span><span class=\"sb\">`</span>/build/ignition-physics ign gazebo -v <span class=\"m\">2</span> shapes.sdf --physics-engine ignition-physics-bullet-plugin\n<span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:378<span class=\"o\">]</span> Plugin <span class=\"o\">[</span>ignition::physics::bullet::Plugin<span class=\"o\">]</span> misses required features:\n- N8ignition7physics14FixedJointCastE\n- N8ignition7physics18DetachJointFeatureE\n- N8ignition7physics19GetShapeBoundingBoxE\n- N8ignition7physics23AttachFixedJointFeatureE\n- N8ignition7physics30SetJointVelocityCommandFeatureE\n- N8ignition7physics34SetJointTransformFromParentFeatureE\n- N8ignition7physics3sdf16ConstructSdfLinkE\n- N8ignition7physics4mesh13MeshShapeCastE\n- N8ignition7physics4mesh22AttachMeshShapeFeatureE\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:383<span class=\"o\">]</span> Failed to load a valid physics engine from <span class=\"o\">[</span>/home/claire/blueprint_ws/install/lib/ign-physics-1/engine-plugins/libignition-physics-bullet-plugin.so<span class=\"o\">]</span>.\n<span class=\"o\">[</span>GUI<span class=\"o\">]</span> <span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Application.cc:649<span class=\"o\">]</span> <span class=\"o\">[</span>QT<span class=\"o\">]</span> file::/ComponentInspector/ComponentInspector.qml:161: ReferenceError: ComponentsModel is not defined\n<span class=\"o\">[</span>GUI<span class=\"o\">]</span> <span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>RenderUtil.cc:903<span class=\"o\">]</span> Failed to create grid <span class=\"k\">for</span> scene <span class=\"o\">[</span>scene<span class=\"o\">]</span> on engine <span class=\"o\">[</span>ogre2<span class=\"o\">]</span>\n</pre></div>\n\n\n<p><code>Bullet</code>: <code>chapulina/bullet</code>, with significantly fewer missing features printed</p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nv\">IGN_GAZEBO_PHYSICS_ENGINE_PATH</span><span class=\"o\">=</span><span class=\"sb\">`</span><span class=\"nb\">pwd</span><span class=\"sb\">`</span>/build/ignition-physics ign gazebo -v <span class=\"m\">2</span> shapes.sdf --physics-engine ignition-physics-bullet-plugin\n<span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:471<span class=\"o\">]</span> Plugin <span class=\"o\">[</span>ignition::physics::bullet::Plugin<span class=\"o\">]</span> misses required features:\n- N8ignition7physics3sdf16ConstructSdfLinkE\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:476<span class=\"o\">]</span> Failed to load a valid physics engine from <span class=\"o\">[</span>/home/claire/blueprint_ws/install/lib/ign-physics-1/engine-plugins/libignition-physics-bullet-plugin.so<span class=\"o\">]</span>.\n<span class=\"o\">[</span>GUI<span class=\"o\">]</span> <span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Application.cc:649<span class=\"o\">]</span> <span class=\"o\">[</span>QT<span class=\"o\">]</span> file::/ComponentInspector/ComponentInspector.qml:161: ReferenceError: ComponentsModel is not defined\n<span class=\"o\">[</span>GUI<span class=\"o\">]</span> <span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>RenderUtil.cc:903<span class=\"o\">]</span> Failed to create grid <span class=\"k\">for</span> scene <span class=\"o\">[</span>scene<span class=\"o\">]</span> on engine <span class=\"o\">[</span>ogre2<span class=\"o\">]</span>\n</pre></div>\n\n\n<p><code>TPE</code>: the last two missing features are different from <code>find_physics_engined</code> branch output</p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nv\">IGN_GAZEBO_PHYSICS_ENGINE_PATH</span><span class=\"o\">=</span><span class=\"sb\">`</span><span class=\"nb\">pwd</span><span class=\"sb\">`</span>/build/ignition-physics ign gazebo -v <span class=\"m\">2</span> shapes.sdf --physics-engine ignition-physics-tpe-plugin    \n<span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:476<span class=\"o\">]</span> Plugin <span class=\"o\">[</span>ignition::physics::tpeplugin::Plugin<span class=\"o\">]</span> misses required features:\n- N8ignition7physics17GetJointFromModelE\n- N8ignition7physics18GetBasicJointStateE\n- N8ignition7physics18SetBasicJointStateE\n- N8ignition7physics23GetBasicJointPropertiesE\n- N8ignition7physics26AddLinkExternalForceTorqueE\n- N8ignition7physics30GetContactsFromLastStepFeatureE\n- N8ignition7physics3sdf17ConstructSdfJointE\n- N8ignition7physics3sdf21ConstructSdfCollisionE\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:481<span class=\"o\">]</span> Failed to load a valid physics engine from <span class=\"o\">[</span>/home/claire/citadel_ws/install/lib/ign-physics-2/engine-plugins/libignition-physics-tpe-plugin.so<span class=\"o\">]</span>.\n<span class=\"o\">[</span>GUI<span class=\"o\">]</span> <span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Application.cc:649<span class=\"o\">]</span> <span class=\"o\">[</span>QT<span class=\"o\">]</span> file::/ComponentInspector/ComponentInspector.qml:161: ReferenceError: ComponentsModel is not defined\n</pre></div>\n\n\n<p><code>HelloWorld</code>: only ~20 missing features are printed vs. ~23 in <code>find_physics_engined</code> </p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nv\">IGN_GAZEBO_PHYSICS_ENGINE_PATH</span><span class=\"o\">=</span><span class=\"sb\">`</span><span class=\"nb\">pwd</span><span class=\"sb\">`</span>/build ign gazebo -v <span class=\"m\">2</span> build/rolling_box.sdf --physics-engine HelloWorldPlugin\n<span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:476<span class=\"o\">]</span> Plugin <span class=\"o\">[</span>mock::HelloWorldPlugin<span class=\"o\">]</span> misses required features:\n- N8ignition7physics11ForwardStepE\n- N8ignition7physics16GetLinkFromModelE\n- N8ignition7physics16GetShapeFromLinkE\n- N8ignition7physics17GetJointFromModelE\n- N8ignition7physics17GetModelFromWorldE\n- N8ignition7physics18GetBasicJointStateE\n- N8ignition7physics18GetWorldFromEngineE\n- N8ignition7physics18LinkFrameSemanticsE\n- N8ignition7physics18SetBasicJointStateE\n- N8ignition7physics20FindFreeGroupFeatureE\n- N8ignition7physics20RemoveModelFromWorldE\n- N8ignition7physics21SetFreeGroupWorldPoseE\n- N8ignition7physics23GetBasicJointPropertiesE\n- N8ignition7physics26AddLinkExternalForceTorqueE\n- N8ignition7physics30GetContactsFromLastStepFeatureE\n- N8ignition7physics3sdf16ConstructSdfLinkE\n- N8ignition7physics3sdf17ConstructSdfJointE\n- N8ignition7physics3sdf17ConstructSdfModelE\n- N8ignition7physics3sdf17ConstructSdfWorldE\n- N8ignition7physics3sdf21ConstructSdfCollisionE\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:481<span class=\"o\">]</span> Failed to load a valid physics engine from <span class=\"o\">[</span>/home/claire/citadel_ws/src/ign-physics/examples/hello_world_plugin/build/libHelloWorldPlugin.so<span class=\"o\">]</span>.\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2020-04-04T02:09:37.986471+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-04-04T02:09:37.989015+00:00", "type": "pullrequest_comment", "id": 143648543}