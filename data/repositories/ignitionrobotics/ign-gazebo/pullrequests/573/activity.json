{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573/comments/144717615.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573/_/diff#comment-144717615"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}, "content": {"raw": "This looks great! I like how casts are cached so that they don't hurt performance. I wanted to point out that it's not just the `MinimumFeatureList` that should not be modified. Even the `DetachableJointFeatureList` is now part of the ABI because adding a feature to it would break physics engine plugins that once worked. So if we really needed to add a feature to `DetachableJointFeatureList`, I guess we'll have to have another list, maybe `DetachableJointFeatureListWithNewFeature` and have some logic that tries to cast to `DetachableJointFeatureListWithNewFeature` first then fallback to `DetachableJointFeatureList`. I really hope it doesn't come to that though :fingers_crossed: \n", "markup": "markdown", "html": "<p>This looks great! I like how casts are cached so that they don't hurt performance. I wanted to point out that it's not just the <code>MinimumFeatureList</code> that should not be modified. Even the <code>DetachableJointFeatureList</code> is now part of the ABI because adding a feature to it would break physics engine plugins that once worked. So if we really needed to add a feature to <code>DetachableJointFeatureList</code>, I guess we'll have to have another list, maybe <code>DetachableJointFeatureListWithNewFeature</code> and have some logic that tries to cast to <code>DetachableJointFeatureListWithNewFeature</code> first then fallback to <code>DetachableJointFeatureList</code>. I really hope it doesn't come to that though <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f91e.png\" alt=\"\ud83e\udd1e\" title=\":fingers_crossed:\" data-emoji-short-name=\":fingers_crossed:\" /> </p>", "type": "rendered"}, "created_on": "2020-04-10T20:15:42.084503+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "updated_on": "2020-04-10T20:15:42.087324+00:00", "type": "pullrequest_comment", "id": 144717615}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"update": {"description": "## Overview\r\n\r\nPull request #541 adds the ability to choose different physics engine from the command line.\r\n\r\nThis pull request builds on top of that, and reduces `MinimumFeatureList` so that physics engines are not required to implement all features, and some of them are treated as optional.\r\n\r\n## Bullet\r\n\r\nI've been testing this with bullet using [this ign-physics PR](#!/ignitionrobotics/ign-physics/pull-requests/134/wip-bullet-updates/diff). There's only one feature left which Bullet doesn't implement, `ConstructSdfLink`. This PR an alternative to pull request #421.\r\n\r\n## Implementation\r\n\r\nThis PR makes the following features optional:\r\n\r\n* Features for detachable joints:\r\n\r\n    * `ignition::physics::AttachFixedJointFeature`\r\n    * `ignition::physics::DetachJointFeature`\r\n    * `ignition::physics::SetJointTransformFromParentFeature`\r\n    \r\n* Features for bounding box:\r\n\r\n    * `ignition::physics::GetModelBoundingBox`\r\n    \r\n* Features for joint velocity commands:\r\n\r\n    * `ignition::physics::SetJointVelocityCommandFeature`\r\n    \r\n* Features for 3D meshes:\r\n\r\n    * `ignition::physics::mesh::AttachMeshShapeFeature`\r\n    \r\n\r\nFor each group of optional features:\r\n\r\n* Create a feature list, i.e. `DetachableJointFeatureList`\r\n* Create entity types which use that list, i.e. `JointDetachableJointPtrType`\r\n* Create an entity map that holds the specialized entity type, i.e. `entityJointDetachableJointMap`\r\n* Use `entityCast` to cast from the original entity, created with `MinimumFeatureList`, to the specialized entity. `entityCast` will also populate the specialized map the first time it's called and get the entity from that map on subsequent calls. This means that `RequestFeature` is only called once for each combination of entity \\+ feature list.\r\n\r\nAny engine implementing all the minimum features will be loaded. If, at runtime, there's an attempt to use an unsupported feature, a warning is printed. That is:\r\n\r\n* If a `component::DetachableJoint` is created, a warning is printed and the joint isn't attached or detached.\r\n* If a `components::AxisAlignedBox` is created, a warning is printed and the box is not populated.\r\n* If a `components::JointVelocityCmd` is created, a warning is printed and the command has no effect.\r\n* If a collision has a mesh geometry, a warning is printed and the geometry isn't created.\r\n\r\n---\r\n\r\nThis PR is ready for review. I'll stop looking into Bullet now and remove features not needed by TPE on a subsequent PR.", "title": "Optional physics features", "destination": {"commit": {"hash": "3de8c831cdf6", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/3de8c831cdf6.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/3de8c831cdf6"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "61da24a1b843", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/61da24a1b843.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/61da24a1b843"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "chapulina/bullet"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-04-10T18:42:49.346002+00:00"}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"update": {"description": "## Overview\r\n\r\nPull request #541 adds the ability to choose different physics engine from the command line.\r\n\r\nThis pull request builds on top of that, and reduces `MinimumFeatureList` so that physics engines are not required to implement all features, and some of them are treated as optional.\r\n\r\n## Bullet\r\n\r\nI've been testing this with bullet using [this ign-physics PR](#!/ignitionrobotics/ign-physics/pull-requests/134/wip-bullet-updates/diff). There's only one feature left which Bullet doesn't implement, `ConstructSdfLink`. This PR an alternative to pull request #421.\r\n\r\n## Implementation\r\n\r\nThis PR makes the following features optional:\r\n\r\n* Features for detachable joints:\r\n\r\n    * `ignition::physics::AttachFixedJointFeature`\r\n    * `ignition::physics::DetachJointFeature`\r\n    * `ignition::physics::SetJointTransformFromParentFeature`\r\n    \r\n* Features for bounding box:\r\n\r\n    * `ignition::physics::GetModelBoundingBox`\r\n    \r\n* Features for joint velocity commands:\r\n\r\n    * `ignition::physics::SetJointVelocityCommandFeature`\r\n    \r\n* Features for 3D meshes:\r\n\r\n    * `ignition::physics::mesh::AttachMeshShapeFeature`\r\n    \r\n\r\nFor each group of optional features:\r\n\r\n* Create a feature list, i.e. `DetachableJointFeatureList`\r\n* Create entity types which use that list, i.e. `JointDetachableJointPtrType`\r\n* Create an entity map that holds the specialized entity type, i.e. `entityJointDetachableJointMap`\r\n* Use `entityCast` to cast from the original entity, created with `MinimumFeatureList`, to the specialized entity. `entityCast` will also populate the specialized map the first time it's called and get the entity from that map on subsequent calls. This means that `RequestFeature` is only called once for each combination of entity \\+ feature list.\r\n\r\nAny engine implementing all the minimum features will be loaded. If, at runtime, there's an attempt to use an unsupported feature, a warning is printed. That is:\r\n\r\n* If a `component::DetachableJoint` is created, a warning is printed and the joint isn't attached or detached.\r\n* If a `components::AxisAlignedBox` is created, a warning is printed and the box is not populated.\r\n* If a `components::JointVelocityCmd` is created, a warning is printed and the command has no effect.\r\n* If a collision has a mesh geometry, a warning is printed and the geometry isn't created.\r\n\r\n---\r\n\r\nThis PR is ready for review. I'll stop looking into Bullet now and remove features not needed by TPE on a subsequent PR.", "title": "Optional physics features", "destination": {"commit": {"hash": "3de8c831cdf6", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/3de8c831cdf6.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/3de8c831cdf6"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "b81bb3b03372", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/b81bb3b03372.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/b81bb3b03372"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "chapulina/bullet"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-04-10T18:42:12.822177+00:00"}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"update": {"description": "## Overview\r\n\r\nPull request #541 adds the ability to choose different physics engine from the command line.\r\n\r\nThis pull request builds on top of that, and reduces `MinimumFeatureList` so that physics engines are not required to implement all features, and some of them are treated as optional.\r\n\r\n## Bullet\r\n\r\nI've been testing this with bullet using [this ign-physics PR](#!/ignitionrobotics/ign-physics/pull-requests/134/wip-bullet-updates/diff). There's only one feature left which Bullet doesn't implement, `ConstructSdfLink`. This PR an alternative to pull request #421.\r\n\r\n## Implementation\r\n\r\nThis PR makes the following features optional:\r\n\r\n* Features for detachable joints:\r\n\r\n    * `ignition::physics::AttachFixedJointFeature`\r\n    * `ignition::physics::DetachJointFeature`\r\n    * `ignition::physics::SetJointTransformFromParentFeature`\r\n    \r\n* Features for bounding box:\r\n\r\n    * `ignition::physics::GetModelBoundingBox`\r\n    \r\n* Features for joint velocity commands:\r\n\r\n    * `ignition::physics::SetJointVelocityCommandFeature`\r\n    \r\n* Features for 3D meshes:\r\n\r\n    * `ignition::physics::mesh::AttachMeshShapeFeature`\r\n    \r\n\r\nFor each group of optional features:\r\n\r\n* Create a feature list, i.e. `DetachableJointFeatureList`\r\n* Create entity types which use that list, i.e. `JointDetachableJointPtrType`\r\n* Create an entity map that holds the specialized entity type, i.e. `entityJointDetachableJointMap`\r\n* Use `entityCast` to cast from the original entity, created with `MinimumFeatureList`, to the specialized entity. `entityCast` will also populate the specialized map the first time it's called and get the entity from that map on subsequent calls. This means that `RequestFeature` is only called once for each combination of entity \\+ feature list.\r\n\r\nAny engine implementing all the minimum features will be loaded. If, at runtime, there's an attempt to use an unsupported feature, a warning is printed. That is:\r\n\r\n* If a `component::DetachableJoint` is created, a warning is printed and the joint isn't attached or detached.\r\n* If a `components::AxisAlignedBox` is created, a warning is printed and the box is not populated.\r\n* If a `components::JointVelocityCmd` is created, a warning is printed and the command has no effect.\r\n* If a collision has a mesh geometry, a warning is printed and the geometry isn't created.\r\n\r\n---\r\n\r\nThis PR is ready for review. I'll stop looking into Bullet now and remove features not needed by TPE on a subsequent PR.", "title": "Optional physics features", "destination": {"commit": {"hash": "3de8c831cdf6", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/3de8c831cdf6.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/3de8c831cdf6"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "b81bb3b03372", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/b81bb3b03372.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/b81bb3b03372"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "chapulina/bullet"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-04-10T18:42:12.771827+00:00"}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"approval": {"date": "2020-04-10T01:20:53.402449+00:00", "pullrequest": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}, "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"update": {"description": "## Overview\r\n\r\nPull request #541 adds the ability to choose different physics engine from the command line.\r\n\r\nThis pull request builds on top of that, and reduces `MinimumFeatureList` so that physics engines are not required to implement all features, and some of them are treated as optional.\r\n\r\n## Bullet\r\n\r\nI've been testing this with bullet using [this ign-physics PR](#!/ignitionrobotics/ign-physics/pull-requests/134/wip-bullet-updates/diff). There's only one feature left which Bullet doesn't implement, `ConstructSdfLink`. This PR an alternative to pull request #421.\r\n\r\n## Implementation\r\n\r\nThis PR makes the following features optional:\r\n\r\n* Features for detachable joints:\r\n\r\n    * `ignition::physics::AttachFixedJointFeature`\r\n    * `ignition::physics::DetachJointFeature`\r\n    * `ignition::physics::SetJointTransformFromParentFeature`\r\n    \r\n* Features for bounding box:\r\n\r\n    * `ignition::physics::GetModelBoundingBox`\r\n    \r\n* Features for joint velocity commands:\r\n\r\n    * `ignition::physics::SetJointVelocityCommandFeature`\r\n    \r\n* Features for 3D meshes:\r\n\r\n    * `ignition::physics::mesh::AttachMeshShapeFeature`\r\n    \r\n\r\nFor each group of optional features:\r\n\r\n* Create a feature list, i.e. `DetachableJointFeatureList`\r\n* Create entity types which use that list, i.e. `JointDetachableJointPtrType`\r\n* Create an entity map that holds the specialized entity type, i.e. `entityJointDetachableJointMap`\r\n* Use `entityCast` to cast from the original entity, created with `MinimumFeatureList`, to the specialized entity. `entityCast` will also populate the specialized map the first time it's called and get the entity from that map on subsequent calls. This means that `RequestFeature` is only called once for each combination of entity \\+ feature list.\r\n\r\nAny engine implementing all the minimum features will be loaded. If, at runtime, there's an attempt to use an unsupported feature, a warning is printed. That is:\r\n\r\n* If a `component::DetachableJoint` is created, a warning is printed and the joint isn't attached or detached.\r\n* If a `components::AxisAlignedBox` is created, a warning is printed and the box is not populated.\r\n* If a `components::JointVelocityCmd` is created, a warning is printed and the command has no effect.\r\n* If a collision has a mesh geometry, a warning is printed and the geometry isn't created.\r\n\r\n---\r\n\r\nThis PR is ready for review. I'll stop looking into Bullet now and remove features not needed by TPE on a subsequent PR.", "title": "Optional physics features", "destination": {"commit": {"hash": "bc00ff278175", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/bc00ff278175.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/bc00ff278175"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "b81bb3b03372", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/b81bb3b03372.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/b81bb3b03372"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "chapulina/bullet"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-04-10T00:34:39.238310+00:00"}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573/comments/143648543.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573/_/diff#comment-143648543"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}, "content": {"raw": "Confirm behaviour as expected. Different/shorter list of missing features are warned when testing with TPE/Bullet/HelloWorld plugins.\n\nTerminal output see below\n\n`Bullet`: `find_physics_engined` \n\n```\n$ IGN_GAZEBO_PHYSICS_ENGINE_PATH=`pwd`/build/ignition-physics ign gazebo -v 2 shapes.sdf --physics-engine ignition-physics-bullet-plugin\n[Wrn] [Physics.cc:378] Plugin [ignition::physics::bullet::Plugin] misses required features:\n- N8ignition7physics14FixedJointCastE\n- N8ignition7physics18DetachJointFeatureE\n- N8ignition7physics19GetShapeBoundingBoxE\n- N8ignition7physics23AttachFixedJointFeatureE\n- N8ignition7physics30SetJointVelocityCommandFeatureE\n- N8ignition7physics34SetJointTransformFromParentFeatureE\n- N8ignition7physics3sdf16ConstructSdfLinkE\n- N8ignition7physics4mesh13MeshShapeCastE\n- N8ignition7physics4mesh22AttachMeshShapeFeatureE\n[Err] [Physics.cc:383] Failed to load a valid physics engine from [/home/claire/blueprint_ws/install/lib/ign-physics-1/engine-plugins/libignition-physics-bullet-plugin.so].\n[GUI] [Wrn] [Application.cc:649] [QT] file::/ComponentInspector/ComponentInspector.qml:161: ReferenceError: ComponentsModel is not defined\n[GUI] [Wrn] [RenderUtil.cc:903] Failed to create grid for scene [scene] on engine [ogre2]\n```\n\n`Bullet`: `chapulina/bullet`, with significantly fewer missing features printed\n\n```\n$ IGN_GAZEBO_PHYSICS_ENGINE_PATH=`pwd`/build/ignition-physics ign gazebo -v 2 shapes.sdf --physics-engine ignition-physics-bullet-plugin\n[Wrn] [Physics.cc:471] Plugin [ignition::physics::bullet::Plugin] misses required features:\n- N8ignition7physics3sdf16ConstructSdfLinkE\n[Err] [Physics.cc:476] Failed to load a valid physics engine from [/home/claire/blueprint_ws/install/lib/ign-physics-1/engine-plugins/libignition-physics-bullet-plugin.so].\n[GUI] [Wrn] [Application.cc:649] [QT] file::/ComponentInspector/ComponentInspector.qml:161: ReferenceError: ComponentsModel is not defined\n[GUI] [Wrn] [RenderUtil.cc:903] Failed to create grid for scene [scene] on engine [ogre2]\n```\n\n`TPE`: the last two missing features are different from `find_physics_engined` branch output\n\n```\n$ IGN_GAZEBO_PHYSICS_ENGINE_PATH=`pwd`/build/ignition-physics ign gazebo -v 2 shapes.sdf --physics-engine ignition-physics-tpe-plugin    \n[Wrn] [Physics.cc:476] Plugin [ignition::physics::tpeplugin::Plugin] misses required features:\n- N8ignition7physics17GetJointFromModelE\n- N8ignition7physics18GetBasicJointStateE\n- N8ignition7physics18SetBasicJointStateE\n- N8ignition7physics23GetBasicJointPropertiesE\n- N8ignition7physics26AddLinkExternalForceTorqueE\n- N8ignition7physics30GetContactsFromLastStepFeatureE\n- N8ignition7physics3sdf17ConstructSdfJointE\n- N8ignition7physics3sdf21ConstructSdfCollisionE\n[Err] [Physics.cc:481] Failed to load a valid physics engine from [/home/claire/citadel_ws/install/lib/ign-physics-2/engine-plugins/libignition-physics-tpe-plugin.so].\n[GUI] [Wrn] [Application.cc:649] [QT] file::/ComponentInspector/ComponentInspector.qml:161: ReferenceError: ComponentsModel is not defined\n```\n\n`HelloWorld`: only ~20 missing features are printed vs. ~23 in `find_physics_engined` \n\n```\n$ IGN_GAZEBO_PHYSICS_ENGINE_PATH=`pwd`/build ign gazebo -v 2 build/rolling_box.sdf --physics-engine HelloWorldPlugin\n[Wrn] [Physics.cc:476] Plugin [mock::HelloWorldPlugin] misses required features:\n- N8ignition7physics11ForwardStepE\n- N8ignition7physics16GetLinkFromModelE\n- N8ignition7physics16GetShapeFromLinkE\n- N8ignition7physics17GetJointFromModelE\n- N8ignition7physics17GetModelFromWorldE\n- N8ignition7physics18GetBasicJointStateE\n- N8ignition7physics18GetWorldFromEngineE\n- N8ignition7physics18LinkFrameSemanticsE\n- N8ignition7physics18SetBasicJointStateE\n- N8ignition7physics20FindFreeGroupFeatureE\n- N8ignition7physics20RemoveModelFromWorldE\n- N8ignition7physics21SetFreeGroupWorldPoseE\n- N8ignition7physics23GetBasicJointPropertiesE\n- N8ignition7physics26AddLinkExternalForceTorqueE\n- N8ignition7physics30GetContactsFromLastStepFeatureE\n- N8ignition7physics3sdf16ConstructSdfLinkE\n- N8ignition7physics3sdf17ConstructSdfJointE\n- N8ignition7physics3sdf17ConstructSdfModelE\n- N8ignition7physics3sdf17ConstructSdfWorldE\n- N8ignition7physics3sdf21ConstructSdfCollisionE\n[Err] [Physics.cc:481] Failed to load a valid physics engine from [/home/claire/citadel_ws/src/ign-physics/examples/hello_world_plugin/build/libHelloWorldPlugin.so].\n```\n\n\u200c", "markup": "markdown", "html": "<p>Confirm behaviour as expected. Different/shorter list of missing features are warned when testing with TPE/Bullet/HelloWorld plugins.</p>\n<p>Terminal output see below</p>\n<p><code>Bullet</code>: <code>find_physics_engined</code> </p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nv\">IGN_GAZEBO_PHYSICS_ENGINE_PATH</span><span class=\"o\">=</span><span class=\"sb\">`</span><span class=\"nb\">pwd</span><span class=\"sb\">`</span>/build/ignition-physics ign gazebo -v <span class=\"m\">2</span> shapes.sdf --physics-engine ignition-physics-bullet-plugin\n<span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:378<span class=\"o\">]</span> Plugin <span class=\"o\">[</span>ignition::physics::bullet::Plugin<span class=\"o\">]</span> misses required features:\n- N8ignition7physics14FixedJointCastE\n- N8ignition7physics18DetachJointFeatureE\n- N8ignition7physics19GetShapeBoundingBoxE\n- N8ignition7physics23AttachFixedJointFeatureE\n- N8ignition7physics30SetJointVelocityCommandFeatureE\n- N8ignition7physics34SetJointTransformFromParentFeatureE\n- N8ignition7physics3sdf16ConstructSdfLinkE\n- N8ignition7physics4mesh13MeshShapeCastE\n- N8ignition7physics4mesh22AttachMeshShapeFeatureE\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:383<span class=\"o\">]</span> Failed to load a valid physics engine from <span class=\"o\">[</span>/home/claire/blueprint_ws/install/lib/ign-physics-1/engine-plugins/libignition-physics-bullet-plugin.so<span class=\"o\">]</span>.\n<span class=\"o\">[</span>GUI<span class=\"o\">]</span> <span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Application.cc:649<span class=\"o\">]</span> <span class=\"o\">[</span>QT<span class=\"o\">]</span> file::/ComponentInspector/ComponentInspector.qml:161: ReferenceError: ComponentsModel is not defined\n<span class=\"o\">[</span>GUI<span class=\"o\">]</span> <span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>RenderUtil.cc:903<span class=\"o\">]</span> Failed to create grid <span class=\"k\">for</span> scene <span class=\"o\">[</span>scene<span class=\"o\">]</span> on engine <span class=\"o\">[</span>ogre2<span class=\"o\">]</span>\n</pre></div>\n\n\n<p><code>Bullet</code>: <code>chapulina/bullet</code>, with significantly fewer missing features printed</p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nv\">IGN_GAZEBO_PHYSICS_ENGINE_PATH</span><span class=\"o\">=</span><span class=\"sb\">`</span><span class=\"nb\">pwd</span><span class=\"sb\">`</span>/build/ignition-physics ign gazebo -v <span class=\"m\">2</span> shapes.sdf --physics-engine ignition-physics-bullet-plugin\n<span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:471<span class=\"o\">]</span> Plugin <span class=\"o\">[</span>ignition::physics::bullet::Plugin<span class=\"o\">]</span> misses required features:\n- N8ignition7physics3sdf16ConstructSdfLinkE\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:476<span class=\"o\">]</span> Failed to load a valid physics engine from <span class=\"o\">[</span>/home/claire/blueprint_ws/install/lib/ign-physics-1/engine-plugins/libignition-physics-bullet-plugin.so<span class=\"o\">]</span>.\n<span class=\"o\">[</span>GUI<span class=\"o\">]</span> <span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Application.cc:649<span class=\"o\">]</span> <span class=\"o\">[</span>QT<span class=\"o\">]</span> file::/ComponentInspector/ComponentInspector.qml:161: ReferenceError: ComponentsModel is not defined\n<span class=\"o\">[</span>GUI<span class=\"o\">]</span> <span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>RenderUtil.cc:903<span class=\"o\">]</span> Failed to create grid <span class=\"k\">for</span> scene <span class=\"o\">[</span>scene<span class=\"o\">]</span> on engine <span class=\"o\">[</span>ogre2<span class=\"o\">]</span>\n</pre></div>\n\n\n<p><code>TPE</code>: the last two missing features are different from <code>find_physics_engined</code> branch output</p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nv\">IGN_GAZEBO_PHYSICS_ENGINE_PATH</span><span class=\"o\">=</span><span class=\"sb\">`</span><span class=\"nb\">pwd</span><span class=\"sb\">`</span>/build/ignition-physics ign gazebo -v <span class=\"m\">2</span> shapes.sdf --physics-engine ignition-physics-tpe-plugin    \n<span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:476<span class=\"o\">]</span> Plugin <span class=\"o\">[</span>ignition::physics::tpeplugin::Plugin<span class=\"o\">]</span> misses required features:\n- N8ignition7physics17GetJointFromModelE\n- N8ignition7physics18GetBasicJointStateE\n- N8ignition7physics18SetBasicJointStateE\n- N8ignition7physics23GetBasicJointPropertiesE\n- N8ignition7physics26AddLinkExternalForceTorqueE\n- N8ignition7physics30GetContactsFromLastStepFeatureE\n- N8ignition7physics3sdf17ConstructSdfJointE\n- N8ignition7physics3sdf21ConstructSdfCollisionE\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:481<span class=\"o\">]</span> Failed to load a valid physics engine from <span class=\"o\">[</span>/home/claire/citadel_ws/install/lib/ign-physics-2/engine-plugins/libignition-physics-tpe-plugin.so<span class=\"o\">]</span>.\n<span class=\"o\">[</span>GUI<span class=\"o\">]</span> <span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Application.cc:649<span class=\"o\">]</span> <span class=\"o\">[</span>QT<span class=\"o\">]</span> file::/ComponentInspector/ComponentInspector.qml:161: ReferenceError: ComponentsModel is not defined\n</pre></div>\n\n\n<p><code>HelloWorld</code>: only ~20 missing features are printed vs. ~23 in <code>find_physics_engined</code> </p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nv\">IGN_GAZEBO_PHYSICS_ENGINE_PATH</span><span class=\"o\">=</span><span class=\"sb\">`</span><span class=\"nb\">pwd</span><span class=\"sb\">`</span>/build ign gazebo -v <span class=\"m\">2</span> build/rolling_box.sdf --physics-engine HelloWorldPlugin\n<span class=\"o\">[</span>Wrn<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:476<span class=\"o\">]</span> Plugin <span class=\"o\">[</span>mock::HelloWorldPlugin<span class=\"o\">]</span> misses required features:\n- N8ignition7physics11ForwardStepE\n- N8ignition7physics16GetLinkFromModelE\n- N8ignition7physics16GetShapeFromLinkE\n- N8ignition7physics17GetJointFromModelE\n- N8ignition7physics17GetModelFromWorldE\n- N8ignition7physics18GetBasicJointStateE\n- N8ignition7physics18GetWorldFromEngineE\n- N8ignition7physics18LinkFrameSemanticsE\n- N8ignition7physics18SetBasicJointStateE\n- N8ignition7physics20FindFreeGroupFeatureE\n- N8ignition7physics20RemoveModelFromWorldE\n- N8ignition7physics21SetFreeGroupWorldPoseE\n- N8ignition7physics23GetBasicJointPropertiesE\n- N8ignition7physics26AddLinkExternalForceTorqueE\n- N8ignition7physics30GetContactsFromLastStepFeatureE\n- N8ignition7physics3sdf16ConstructSdfLinkE\n- N8ignition7physics3sdf17ConstructSdfJointE\n- N8ignition7physics3sdf17ConstructSdfModelE\n- N8ignition7physics3sdf17ConstructSdfWorldE\n- N8ignition7physics3sdf21ConstructSdfCollisionE\n<span class=\"o\">[</span>Err<span class=\"o\">]</span> <span class=\"o\">[</span>Physics.cc:481<span class=\"o\">]</span> Failed to load a valid physics engine from <span class=\"o\">[</span>/home/claire/citadel_ws/src/ign-physics/examples/hello_world_plugin/build/libHelloWorldPlugin.so<span class=\"o\">]</span>.\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2020-04-04T02:09:37.986471+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-04-04T02:09:37.989015+00:00", "type": "pullrequest_comment", "id": 143648543}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"update": {"description": "## Overview\r\n\r\nPull request #541 adds the ability to choose different physics engine from the command line.\r\n\r\nThis pull request builds on top of that, and reduces `MinimumFeatureList` so that physics engines are not required to implement all features, and some of them are treated as optional.\r\n\r\n## Bullet\r\n\r\nI've been testing this with bullet using [this ign-physics PR](#!/ignitionrobotics/ign-physics/pull-requests/134/wip-bullet-updates/diff). There's only one feature left which Bullet doesn't implement, `ConstructSdfLink`. This PR an alternative to pull request #421.\r\n\r\n## Implementation\r\n\r\nThis PR makes the following features optional:\r\n\r\n* Features for detachable joints:\r\n\r\n    * `ignition::physics::AttachFixedJointFeature`\r\n    * `ignition::physics::DetachJointFeature`\r\n    * `ignition::physics::SetJointTransformFromParentFeature`\r\n    \r\n* Features for bounding box:\r\n\r\n    * `ignition::physics::GetModelBoundingBox`\r\n    \r\n* Features for joint velocity commands:\r\n\r\n    * `ignition::physics::SetJointVelocityCommandFeature`\r\n    \r\n* Features for 3D meshes:\r\n\r\n    * `ignition::physics::mesh::AttachMeshShapeFeature`\r\n    \r\n\r\nFor each group of optional features:\r\n\r\n* Create a feature list, i.e. `DetachableJointFeatureList`\r\n* Create entity types which use that list, i.e. `JointDetachableJointPtrType`\r\n* Create an entity map that holds the specialized entity type, i.e. `entityJointDetachableJointMap`\r\n* Use `entityCast` to cast from the original entity, created with `MinimumFeatureList`, to the specialized entity. `entityCast` will also populate the specialized map the first time it's called and get the entity from that map on subsequent calls. This means that `RequestFeature` is only called once for each combination of entity \\+ feature list.\r\n\r\nAny engine implementing all the minimum features will be loaded. If, at runtime, there's an attempt to use an unsupported feature, a warning is printed. That is:\r\n\r\n* If a `component::DetachableJoint` is created, a warning is printed and the joint isn't attached or detached.\r\n* If a `components::AxisAlignedBox` is created, a warning is printed and the box is not populated.\r\n* If a `components::JointVelocityCmd` is created, a warning is printed and the command has no effect.\r\n* If a collision has a mesh geometry, a warning is printed and the geometry isn't created.\r\n\r\n---\r\n\r\nThis PR is ready for review. I'll stop looking into Bullet now and remove features not needed by TPE on a subsequent PR.", "title": "Optional physics features", "destination": {"commit": {"hash": "7fa2a0455c29", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/7fa2a0455c29.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/7fa2a0455c29"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "c3b861e78f39", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/c3b861e78f39.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/c3b861e78f39"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "chapulina/bullet"}}, "state": "OPEN", "author": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "date": "2020-04-03T21:47:15.051021+00:00"}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"update": {"description": "## Overview\n\nPull request #541 adds the ability to choose different physics engine from the command line.\n\nThis pull request builds on top of that, and reduces `MinimumFeatureList` so that physics engines are not required to implement all features, and some of them are treated as optional.\n\n## Bullet\n\nI've been testing this with bullet using [this ign-physics PR](#!/ignitionrobotics/ign-physics/pull-requests/134/wip-bullet-updates/diff). There's only one feature left which Bullet doesn't implement, `ConstructSdfLink`. This PR an alternative to pull request #421.\n\n## Implementation\n\nThis PR makes the following features optional:\n\n* Features for detachable joints:\n    * `ignition::physics::AttachFixedJointFeature`\n    * `ignition::physics::DetachJointFeature`\n    * `ignition::physics::SetJointTransformFromParentFeature`\n* Features for bounding box:\n    * `ignition::physics::GetModelBoundingBox`\n* Features for joint velocity commands:\n    * `ignition::physics::SetJointVelocityCommandFeature`\n* Features for 3D meshes:\n    * `ignition::physics::mesh::AttachMeshShapeFeature`\n\nFor each group of optional features:\n\n* Create a feature list, i.e. `DetachableJointFeatureList`\n* Create entity types which use that list, i.e. `JointDetachableJointPtrType`\n* Create an entity map that holds the specialized entity type, i.e. `entityJointDetachableJointMap`\n* Use `entityCast` to cast from the original entity, created with `MinimumFeatureList`, to the specialized entity. `entityCast` will also populate the specialized map the first time it's called and get the entity from that map on subsequent calls. This means that `RequestFeature` is only called once for each combination of entity + feature list.\n\nAny engine implementing all the minimum features will be loaded. If, at runtime, there's an attempt to use an unsupported feature, a warning is printed. That is:\n\n* If a `component::DetachableJoint` is created, a warning is printed and the joint isn't attached or detached.\n* If a `components::AxisAlignedBox` is created, a warning is printed and the box is not populated.\n* If a `components::JointVelocityCmd` is created, a warning is printed and the command has no effect.\n* If a collision has a mesh geometry, a warning is printed and the geometry isn't created.\n\n---\n\nThis PR is ready for review. I'll stop looking into Bullet now and remove features not needed by TPE on a subsequent PR.", "title": "Optional physics features", "destination": {"commit": {"hash": "7fa2a0455c29", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/7fa2a0455c29.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/7fa2a0455c29"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "c3b861e78f39", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/c3b861e78f39.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/c3b861e78f39"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "chapulina/bullet"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-04-03T00:19:13.143326+00:00"}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573/comments/143222802.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573/_/diff#comment-143222802"}}, "parent": {"id": 143222503, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573/comments/143222503.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573/_/diff#comment-143222503"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}, "content": {"raw": "Sounds good. I\u2019ll check those. Thanks!", "markup": "markdown", "html": "<p>Sounds good. I\u2019ll check those. Thanks!</p>", "type": "rendered"}, "created_on": "2020-04-02T02:31:28.663283+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-04-02T02:31:28.667818+00:00", "type": "pullrequest_comment", "id": 143222802}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573/comments/143222503.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573/_/diff#comment-143222503"}}, "parent": {"id": 143221799, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573/comments/143221799.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573/_/diff#comment-143221799"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}, "content": {"raw": "Thanks for checking. You can try with Bullet to see that the missing features list decreases. Another thing to check is that all features being made optional still work with DART. \n\nChecking with TPE would be good, but it will just print a different list of missing features. So maybe it's not worth the effort right now.\n\nI think the main thing to check in this PR is whether the general approach is ok. I'll open new PRs to make all the features missing from TPE optional.", "markup": "markdown", "html": "<p>Thanks for checking. You can try with Bullet to see that the missing features list decreases. Another thing to check is that all features being made optional still work with DART. </p>\n<p>Checking with TPE would be good, but it will just print a different list of missing features. So maybe it's not worth the effort right now.</p>\n<p>I think the main thing to check in this PR is whether the general approach is ok. I'll open new PRs to make all the features missing from TPE optional.</p>", "type": "rendered"}, "created_on": "2020-04-02T02:26:26.030885+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-04-02T02:26:26.035512+00:00", "type": "pullrequest_comment", "id": 143222503}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573/comments/143221799.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573/_/diff#comment-143221799"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}, "content": {"raw": "Any tips on best way to test this branch? I tried to backport TPE to blueprint to test this, but encountered compiling issues due to feature conflicts. Should I just use bullet in this case? Or I can forward port this into a citadel branch like what you did with #541. I think Im gonna try that", "markup": "markdown", "html": "<p>Any tips on best way to test this branch? I tried to backport TPE to blueprint to test this, but encountered compiling issues due to feature conflicts. Should I just use bullet in this case? Or I can forward port this into a citadel branch like what you did with #541. I think Im gonna try that</p>", "type": "rendered"}, "created_on": "2020-04-02T02:12:45.889490+00:00", "user": {"display_name": "Claire Wang", "uuid": "{4b4ab2f2-8148-463e-a671-2eed1e6ccd42}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D"}, "html": {"href": "https://bitbucket.org/%7B4b4ab2f2-8148-463e-a671-2eed1e6ccd42%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d3f35705e485d0dab01c896/a44642e6-28d8-4727-b9cc-b4c18e91d167/128"}}, "nickname": "Claire Wang", "type": "user", "account_id": "5d3f35705e485d0dab01c896"}, "updated_on": "2020-04-02T02:14:47.887667+00:00", "type": "pullrequest_comment", "id": 143221799}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"update": {"description": "## Overview\n\nPull request #541 adds the ability to choose different physics engine from the command line.\n\nThis pull request builds on top of that, and reduces `MinimumFeatureList` so that physics engines are not required to implement all features, and some of them are treated as optional.\n\n## Bullet\n\nI've been testing this with bullet using [this ign-physics PR](#!/ignitionrobotics/ign-physics/pull-requests/134/wip-bullet-updates/diff). There's only one feature left which Bullet doesn't implement, `ConstructSdfLink`. This PR an alternative to pull request #421.\n\n## Implementation\n\nThis PR makes the following features optional:\n\n* Features for detachable joints:\n    * `ignition::physics::AttachFixedJointFeature`\n    * `ignition::physics::DetachJointFeature`\n    * `ignition::physics::SetJointTransformFromParentFeature`\n* Features for bounding box:\n    * `ignition::physics::GetModelBoundingBox`\n* Features for joint velocity commands:\n    * `ignition::physics::SetJointVelocityCommandFeature`\n* Features for 3D meshes:\n    * `ignition::physics::mesh::AttachMeshShapeFeature`\n\nFor each group of optional features:\n\n* Create a feature list, i.e. `DetachableJointFeatureList`\n* Create entity types which use that list, i.e. `JointDetachableJointPtrType`\n* Create an entity map that holds the specialized entity type, i.e. `entityJointDetachableJointMap`\n* Use `entityCast` to cast from the original entity, created with `MinimumFeatureList`, to the specialized entity. `entityCast` will also populate the specialized map the first time it's called and get the entity from that map on subsequent calls. This means that `RequestFeature` is only called once for each combination of entity + feature list.\n\nAny engine implementing all the minimum features will be loaded. If, at runtime, there's an attempt to use an unsupported feature, a warning is printed. That is:\n\n* If a `component::DetachableJoint` is created, a warning is printed and the joint isn't attached or detached.\n* If a `components::AxisAlignedBox` is created, a warning is printed and the box is not populated.\n* If a `components::JointVelocityCmd` is created, a warning is printed and the command has no effect.\n* If a collision has a mesh geometry, a warning is printed and the geometry isn't created.\n\n---\n\nThis PR is ready for review. I'll stop looking into Bullet now and remove features not needed by TPE on a subsequent PR.", "title": "Optional physics features", "destination": {"commit": {"hash": "5dc8a7734f7e", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/5dc8a7734f7e.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/5dc8a7734f7e"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "f3933a447ace", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/f3933a447ace.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/f3933a447ace"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "chapulina/bullet"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-03-27T17:17:25.940094+00:00"}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"update": {"description": "## Overview\n\nPull request #541 adds the ability to choose different physics engine from the command line.\n\nThis pull request builds on top of that, and reduces `MinimumFeatureList` so that physics engines are not required to implement all features, and some of them are treated as optional.\n\n## Bullet\n\nI've been testing this with bullet using [this ign-physics PR](#!/ignitionrobotics/ign-physics/pull-requests/134/wip-bullet-updates/diff). There's only one feature left which Bullet doesn't implement, `ConstructSdfLink`. This PR an alternative to pull request #421.\n\n## Implementation\n\nThis PR makes the following features optional:\n\n* Features for detachable joints:\n    * `ignition::physics::AttachFixedJointFeature`\n    * `ignition::physics::DetachJointFeature`\n    * `ignition::physics::SetJointTransformFromParentFeature`\n* Features for bounding box:\n    * `ignition::physics::GetModelBoundingBox`\n* Features for joint velocity commands:\n    * `ignition::physics::SetJointVelocityCommandFeature`\n* Features for 3D meshes:\n    * `ignition::physics::mesh::AttachMeshShapeFeature`\n\nFor each group of optional features:\n\n* Create a feature list, i.e. `DetachableJointFeatureList`\n* Create entity types which use that list, i.e. `JointDetachableJointPtrType`\n* Create an entity map that holds the specialized entity type, i.e. `entityJointDetachableJointMap`\n* Use `entityCast` to cast from the original entity, created with `MinimumFeatureList`, to the specialized entity. `entityCast` will also populate the specialized map the first time it's called and get the entity from that map on subsequent calls. This means that `RequestFeature` is only called once for each combination of entity + feature list.\n\nAny engine implementing all the minimum features will be loaded. If, at runtime, there's an attempt to use an unsupported feature, a warning is printed. That is:\n\n* If a `component::DetachableJoint` is created, a warning is printed and the joint isn't attached or detached.\n* If a `components::AxisAlignedBox` is created, a warning is printed and the box is not populated.\n* If a `components::JointVelocityCmd` is created, a warning is printed and the command has no effect.\n* If a collision has a mesh geometry, a warning is printed and the geometry isn't created.\n\n---\n\nThis PR is ready for review. I'll stop looking into Bullet now and remove features not needed by TPE on a subsequent PR.", "title": "Optional physics features", "destination": {"commit": {"hash": "b7ae79cd029f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/b7ae79cd029f.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/b7ae79cd029f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "4975aa03aaaf", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/4975aa03aaaf.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/4975aa03aaaf"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "chapulina/bullet"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-03-27T01:30:38.058402+00:00"}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"update": {"description": "## Overview\n\nPull request #541 adds the ability to choose different physics engine from the command line.\n\nThis pull request builds on top of that, and reduces `MinimumFeatureList` so that physics engines are not required to implement all features, and some of them are treated as optional.\n\n## Bullet\n\nI've been testing this with bullet using [this ign-physics PR](#!/ignitionrobotics/ign-physics/pull-requests/134/wip-bullet-updates/diff). There's only one feature left which Bullet doesn't implement, `ConstructSdfLink`. This PR an alternative to pull request #421.\n\n## Implementation\n\nThis PR makes the following features optional:\n\n* Features for detachable joints:\n    * `ignition::physics::AttachFixedJointFeature`\n    * `ignition::physics::DetachJointFeature`\n    * `ignition::physics::SetJointTransformFromParentFeature`\n* Features for bounding box:\n    * `ignition::physics::GetModelBoundingBox`\n* Features for joint velocity commands:\n    * `ignition::physics::SetJointVelocityCommandFeature`\n* Features for 3D meshes:\n    * `ignition::physics::mesh::AttachMeshShapeFeature`\n\nFor each group of optional features:\n\n* Create a feature list, i.e. `DetachableJointFeatureList`\n* Create entity types which use that list, i.e. `JointDetachableJointPtrType`\n* Create an entity map that holds the specialized entity type, i.e. `entityJointDetachableJointMap`\n* Use `entityCast` to cast from the original entity, created with `MinimumFeatureList`, to the specialized entity. `entityCast` will also populate the specialized map the first time it's called and get the entity from that map on subsequent calls. This means that `RequestFeature` is only called once for each combination of entity + feature list.\n\nAny engine implementing all the minimum features will be loaded. If, at runtime, there's an attempt to use an unsupported feature, a warning is printed. That is:\n\n* If a `component::DetachableJoint` is created, a warning is printed and the joint isn't attached or detached.\n* If a `components::AxisAlignedBox` is created, a warning is printed and the box is not populated.\n* If a `components::JointVelocityCmd` is created, a warning is printed and the command has no effect.\n* If a collision has a mesh geometry, a warning is printed and the geometry isn't created.\n\n---\n\nThis PR is ready for review. I'll stop looking into Bullet now and remove features not needed by TPE on a subsequent PR.", "title": "Optional physics features", "destination": {"commit": {"hash": "b7ae79cd029f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/b7ae79cd029f.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/b7ae79cd029f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "03bd944ffff2", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/03bd944ffff2.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/03bd944ffff2"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "chapulina/bullet"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-03-27T00:55:03.090103+00:00"}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}, {"update": {"description": "## Overview\n\nPull request #541 adds the ability to choose different physics engine from the command line.\n\nThis pull request builds on top of that, and reduces `MinimumFeatureList` so that physics engines are not required to implement all features, and some of them are treated as optional.\n\n## Bullet\n\nI've been testing this with bullet using [this ign-physics PR](#!/ignitionrobotics/ign-physics/pull-requests/134/wip-bullet-updates/diff). There's only one feature left which Bullet doesn't implement, `ConstructSdfLink`. This PR an alternative to pull request #421.\n\n## Implementation\n\nThis PR makes the following features optional:\n\n* Features for detachable joints:\n    * `ignition::physics::AttachFixedJointFeature`\n    * `ignition::physics::DetachJointFeature`\n    * `ignition::physics::SetJointTransformFromParentFeature`\n* Features for bounding box:\n    * `ignition::physics::GetModelBoundingBox`\n* Features for joint velocity commands:\n    * `ignition::physics::SetJointVelocityCommandFeature`\n* Features for 3D meshes:\n    * `ignition::physics::mesh::AttachMeshShapeFeature`\n\nFor each group of optional features:\n\n* Create a feature list, i.e. `DetachableJointFeatureList`\n* Create entity types which use that list, i.e. `JointDetachableJointPtrType`\n* Create an entity map that holds the specialized entity type, i.e. `entityJointDetachableJointMap`\n* Use `entityCast` to cast from the original entity, created with `MinimumFeatureList`, to the specialized entity. `entityCast` will also populate the specialized map the first time it's called and get the entity from that map on subsequent calls. This means that `RequestFeature` is only called once for each combination of entity + feature list.\n\nAny engine implementing all the minimum features will be loaded. If, at runtime, there's an attempt to use an unsupported feature, a warning is printed. That is:\n\n* If a `component::DetachableJoint` is created, a warning is printed and the joint isn't attached or detached.\n* If a `components::AxisAlignedBox` is created, a warning is printed and the box is not populated.\n* If a `components::JointVelocityCmd` is created, a warning is printed and the command has no effect.\n* If a collision has a mesh geometry, a warning is printed and the geometry isn't created.\n\n---\n\nThis PR is ready for review. I'll stop looking into Bullet now and remove features not needed by TPE on a subsequent PR.", "title": "Optional physics features", "destination": {"commit": {"hash": "b7ae79cd029f", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/b7ae79cd029f.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/b7ae79cd029f"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo2"}}, "reason": "", "source": {"commit": {"hash": "03bd944ffff2", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/03bd944ffff2.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/03bd944ffff2"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "chapulina/bullet"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2020-03-27T00:55:03.055350+00:00"}, "pull_request": {"type": "pullrequest", "id": 573, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/573.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/573"}}, "title": "Optional physics features"}}]}