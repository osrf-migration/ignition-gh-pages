{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/246/comments/97355857.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/246/_/diff#comment-97355857"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 246, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/246.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/246"}}, "title": "Add JointController system"}, "content": {"raw": "Sorry for not catching this sooner, but directly modifying the state of the physics like this could lead to some really bad results depending on what physics engine is running under the hood, and depending on what the circumstances are.\n\nIt would be much better to decouple joint commands from joint state. Rather than modifying a `JointVelocity` component, we should modifying something like a `VelocityCommand` component, and then let the underlying physics engine incorporate that into its constraint solving. That does mean adding a velocity command feature to ignition-physics, but that shouldn\u2019t be a big deal.\n\nWe can probably get away with this for now in simple situations, but this should definitely be revisited as soon as feasible.", "markup": "markdown", "html": "<p>Sorry for not catching this sooner, but directly modifying the state of the physics like this could lead to some really bad results depending on what physics engine is running under the hood, and depending on what the circumstances are.</p>\n<p>It would be much better to decouple joint commands from joint state. Rather than modifying a <code>JointVelocity</code> component, we should modifying something like a <code>VelocityCommand</code> component, and then let the underlying physics engine incorporate that into its constraint solving. That does mean adding a velocity command feature to ignition-physics, but that shouldn\u2019t be a big deal.</p>\n<p>We can probably get away with this for now in simple situations, but this should definitely be revisited as soon as feasible.</p>", "type": "rendered"}, "created_on": "2019-04-03T02:34:18.253234+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2019-04-03T02:34:18.261129+00:00", "type": "pullrequest_comment", "id": 97355857}