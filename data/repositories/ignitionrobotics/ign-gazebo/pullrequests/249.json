{"rendered": {"description": {"raw": "This PR adds command line support for logging record `--record [--record-path <path>]` and playback `--playback <path>`.\r\n\r\n## Testing\r\n\r\n### Record\r\n\r\n1\\. Normal case. No recorder `<plugin>` specified in SDF, `--record` triggers recording:\r\n\r\n`$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record`\r\n\r\nThis records to default path in `LogRecord`, e.g. `~/.ignition/gazebo/log/<timestamp>`.\r\n\r\n`$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record --record-path ./abc`\r\n\r\n`$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record-path ./abc`\r\n\r\nThese record to the custom path specified in `--record-path <path>`. `--record-path` implies `--record`, the latter does not need to be separately specified.\r\n\r\n2\\. Edge case. Both recorder `<plugin>` and `--record` are specified. Only one recorder will be started, using the `<path>` specified in SDF \\(or default if none specified\\):\r\n\r\n`$ ign-gazebo -v 4 -r -f log_record_shapes.sdf --record`\r\n\r\nCurrently, it is enforced that only one recording instance is allowed to start during a Gazebo run.\r\n\r\n3\\. Edge case. Specifying record and playback at the same time is ~~allowed, the playback will be recorded~~ not allowed, because currently the LogRecord plugin does not have access to the SDF being played back, it simply records an empty scene from `log_playback.sdf` in the first case and empty scene from default SDF in `Server.cc` in the second case. `--record` is ignored. An warning is printed. Playback is executed.\r\n\r\n`$ ign-gazebo -v 4 -r -f log_playback.sdf --record`\r\n\r\n`$ ign-gazebo -v 4 -r --playback /tmp/log --record`\r\n\r\n### Playback\r\n\r\n1\\. Normal case. No SDF file specified, `--playback <path>` triggers playback:\r\n\r\n`$ ign-gazebo -r -v 4 --playback <path>`\r\n\r\nOnly small caveat is that, in the case that the recorded file uses ogre2, the playback appears brighter, because the default SDF in Server.cc uses ogre.\r\n\r\n2\\. Edge case. Both `-f file` and `--playback <path>` specified. An error is printed. This is not allowed,, because the `-f` file could be a very different world from the one that was recorded from. Since the SDF is already recorded anyway, the user should not need to specify another SDF.\r\n\r\n`$ ign-gazebo -r -v 4 -f lights.sdf --playback /tmp/log/`", "markup": "markdown", "html": "<p>This PR adds command line support for logging record <code>--record [--record-path &lt;path&gt;]</code> and playback <code>--playback &lt;path&gt;</code>.</p>\n<h2 id=\"markdown-header-testing\">Testing</h2>\n<h3 id=\"markdown-header-record\">Record</h3>\n<p>1. Normal case. No recorder <code>&lt;plugin&gt;</code> specified in SDF, <code>--record</code> triggers recording:</p>\n<p><code>$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record</code></p>\n<p>This records to default path in <code>LogRecord</code>, e.g. <code>~/.ignition/gazebo/log/&lt;timestamp&gt;</code>.</p>\n<p><code>$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record --record-path ./abc</code></p>\n<p><code>$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record-path ./abc</code></p>\n<p>These record to the custom path specified in <code>--record-path &lt;path&gt;</code>. <code>--record-path</code> implies <code>--record</code>, the latter does not need to be separately specified.</p>\n<p>2. Edge case. Both recorder <code>&lt;plugin&gt;</code> and <code>--record</code> are specified. Only one recorder will be started, using the <code>&lt;path&gt;</code> specified in SDF (or default if none specified):</p>\n<p><code>$ ign-gazebo -v 4 -r -f log_record_shapes.sdf --record</code></p>\n<p>Currently, it is enforced that only one recording instance is allowed to start during a Gazebo run.</p>\n<p>3. Edge case. Specifying record and playback at the same time is <del>allowed, the playback will be recorded</del> not allowed, because currently the LogRecord plugin does not have access to the SDF being played back, it simply records an empty scene from <code>log_playback.sdf</code> in the first case and empty scene from default SDF in <code>Server.cc</code> in the second case. <code>--record</code> is ignored. An warning is printed. Playback is executed.</p>\n<p><code>$ ign-gazebo -v 4 -r -f log_playback.sdf --record</code></p>\n<p><code>$ ign-gazebo -v 4 -r --playback /tmp/log --record</code></p>\n<h3 id=\"markdown-header-playback\">Playback</h3>\n<p>1. Normal case. No SDF file specified, <code>--playback &lt;path&gt;</code> triggers playback:</p>\n<p><code>$ ign-gazebo -r -v 4 --playback &lt;path&gt;</code></p>\n<p>Only small caveat is that, in the case that the recorded file uses ogre2, the playback appears brighter, because the default SDF in Server.cc uses ogre.</p>\n<p>2. Edge case. Both <code>-f file</code> and <code>--playback &lt;path&gt;</code> specified. An error is printed. This is not allowed,, because the <code>-f</code> file could be a very different world from the one that was recorded from. Since the SDF is already recorded anyway, the user should not need to specify another SDF.</p>\n<p><code>$ ign-gazebo -r -v 4 -f lights.sdf --playback /tmp/log/</code></p>", "type": "rendered"}, "title": {"raw": "[Acropolis] Logging command line support", "markup": "markdown", "html": "<p>[Acropolis] Logging command line support</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This PR adds command line support for logging record `--record [--record-path <path>]` and playback `--playback <path>`.\r\n\r\n## Testing\r\n\r\n### Record\r\n\r\n1\\. Normal case. No recorder `<plugin>` specified in SDF, `--record` triggers recording:\r\n\r\n`$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record`\r\n\r\nThis records to default path in `LogRecord`, e.g. `~/.ignition/gazebo/log/<timestamp>`.\r\n\r\n`$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record --record-path ./abc`\r\n\r\n`$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record-path ./abc`\r\n\r\nThese record to the custom path specified in `--record-path <path>`. `--record-path` implies `--record`, the latter does not need to be separately specified.\r\n\r\n2\\. Edge case. Both recorder `<plugin>` and `--record` are specified. Only one recorder will be started, using the `<path>` specified in SDF \\(or default if none specified\\):\r\n\r\n`$ ign-gazebo -v 4 -r -f log_record_shapes.sdf --record`\r\n\r\nCurrently, it is enforced that only one recording instance is allowed to start during a Gazebo run.\r\n\r\n3\\. Edge case. Specifying record and playback at the same time is ~~allowed, the playback will be recorded~~ not allowed, because currently the LogRecord plugin does not have access to the SDF being played back, it simply records an empty scene from `log_playback.sdf` in the first case and empty scene from default SDF in `Server.cc` in the second case. `--record` is ignored. An warning is printed. Playback is executed.\r\n\r\n`$ ign-gazebo -v 4 -r -f log_playback.sdf --record`\r\n\r\n`$ ign-gazebo -v 4 -r --playback /tmp/log --record`\r\n\r\n### Playback\r\n\r\n1\\. Normal case. No SDF file specified, `--playback <path>` triggers playback:\r\n\r\n`$ ign-gazebo -r -v 4 --playback <path>`\r\n\r\nOnly small caveat is that, in the case that the recorded file uses ogre2, the playback appears brighter, because the default SDF in Server.cc uses ogre.\r\n\r\n2\\. Edge case. Both `-f file` and `--playback <path>` specified. An error is printed. This is not allowed,, because the `-f` file could be a very different world from the one that was recorded from. Since the SDF is already recorded anyway, the user should not need to specify another SDF.\r\n\r\n`$ ign-gazebo -r -v 4 -f lights.sdf --playback /tmp/log/`", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/249/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diffstat/ignitionrobotics/ign-gazebo:04c1c2f77497%0D828af9f2ca46?from_pullrequest_id=249"}, "commits": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/249/commits.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/249.json"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/249/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/249/merge"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/249"}, "activity": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/249/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:04c1c2f77497%0D828af9f2ca46?from_pullrequest_id=249"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/pullrequests/249/approve"}, "statuses": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/249/statuses_page=1.json"}}, "title": "[Acropolis] Logging command line support", "close_source_branch": true, "reviewers": [{"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}], "id": 249, "destination": {"commit": {"hash": "828af9f2ca46", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/828af9f2ca46.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/828af9f2ca46"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "ign-gazebo1"}}, "created_on": "2019-04-01T22:30:02.906911+00:00", "summary": {"raw": "This PR adds command line support for logging record `--record [--record-path <path>]` and playback `--playback <path>`.\r\n\r\n## Testing\r\n\r\n### Record\r\n\r\n1\\. Normal case. No recorder `<plugin>` specified in SDF, `--record` triggers recording:\r\n\r\n`$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record`\r\n\r\nThis records to default path in `LogRecord`, e.g. `~/.ignition/gazebo/log/<timestamp>`.\r\n\r\n`$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record --record-path ./abc`\r\n\r\n`$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record-path ./abc`\r\n\r\nThese record to the custom path specified in `--record-path <path>`. `--record-path` implies `--record`, the latter does not need to be separately specified.\r\n\r\n2\\. Edge case. Both recorder `<plugin>` and `--record` are specified. Only one recorder will be started, using the `<path>` specified in SDF \\(or default if none specified\\):\r\n\r\n`$ ign-gazebo -v 4 -r -f log_record_shapes.sdf --record`\r\n\r\nCurrently, it is enforced that only one recording instance is allowed to start during a Gazebo run.\r\n\r\n3\\. Edge case. Specifying record and playback at the same time is ~~allowed, the playback will be recorded~~ not allowed, because currently the LogRecord plugin does not have access to the SDF being played back, it simply records an empty scene from `log_playback.sdf` in the first case and empty scene from default SDF in `Server.cc` in the second case. `--record` is ignored. An warning is printed. Playback is executed.\r\n\r\n`$ ign-gazebo -v 4 -r -f log_playback.sdf --record`\r\n\r\n`$ ign-gazebo -v 4 -r --playback /tmp/log --record`\r\n\r\n### Playback\r\n\r\n1\\. Normal case. No SDF file specified, `--playback <path>` triggers playback:\r\n\r\n`$ ign-gazebo -r -v 4 --playback <path>`\r\n\r\nOnly small caveat is that, in the case that the recorded file uses ogre2, the playback appears brighter, because the default SDF in Server.cc uses ogre.\r\n\r\n2\\. Edge case. Both `-f file` and `--playback <path>` specified. An error is printed. This is not allowed,, because the `-f` file could be a very different world from the one that was recorded from. Since the SDF is already recorded anyway, the user should not need to specify another SDF.\r\n\r\n`$ ign-gazebo -r -v 4 -f lights.sdf --playback /tmp/log/`", "markup": "markdown", "html": "<p>This PR adds command line support for logging record <code>--record [--record-path &lt;path&gt;]</code> and playback <code>--playback &lt;path&gt;</code>.</p>\n<h2 id=\"markdown-header-testing\">Testing</h2>\n<h3 id=\"markdown-header-record\">Record</h3>\n<p>1. Normal case. No recorder <code>&lt;plugin&gt;</code> specified in SDF, <code>--record</code> triggers recording:</p>\n<p><code>$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record</code></p>\n<p>This records to default path in <code>LogRecord</code>, e.g. <code>~/.ignition/gazebo/log/&lt;timestamp&gt;</code>.</p>\n<p><code>$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record --record-path ./abc</code></p>\n<p><code>$ ign-gazebo -v 4 -r -f pose_publisher.sdf --record-path ./abc</code></p>\n<p>These record to the custom path specified in <code>--record-path &lt;path&gt;</code>. <code>--record-path</code> implies <code>--record</code>, the latter does not need to be separately specified.</p>\n<p>2. Edge case. Both recorder <code>&lt;plugin&gt;</code> and <code>--record</code> are specified. Only one recorder will be started, using the <code>&lt;path&gt;</code> specified in SDF (or default if none specified):</p>\n<p><code>$ ign-gazebo -v 4 -r -f log_record_shapes.sdf --record</code></p>\n<p>Currently, it is enforced that only one recording instance is allowed to start during a Gazebo run.</p>\n<p>3. Edge case. Specifying record and playback at the same time is <del>allowed, the playback will be recorded</del> not allowed, because currently the LogRecord plugin does not have access to the SDF being played back, it simply records an empty scene from <code>log_playback.sdf</code> in the first case and empty scene from default SDF in <code>Server.cc</code> in the second case. <code>--record</code> is ignored. An warning is printed. Playback is executed.</p>\n<p><code>$ ign-gazebo -v 4 -r -f log_playback.sdf --record</code></p>\n<p><code>$ ign-gazebo -v 4 -r --playback /tmp/log --record</code></p>\n<h3 id=\"markdown-header-playback\">Playback</h3>\n<p>1. Normal case. No SDF file specified, <code>--playback &lt;path&gt;</code> triggers playback:</p>\n<p><code>$ ign-gazebo -r -v 4 --playback &lt;path&gt;</code></p>\n<p>Only small caveat is that, in the case that the recorded file uses ogre2, the playback appears brighter, because the default SDF in Server.cc uses ogre.</p>\n<p>2. Edge case. Both <code>-f file</code> and <code>--playback &lt;path&gt;</code> specified. An error is printed. This is not allowed,, because the <code>-f</code> file could be a very different world from the one that was recorded from. Since the SDF is already recorded anyway, the user should not need to specify another SDF.</p>\n<p><code>$ ign-gazebo -r -v 4 -f lights.sdf --playback /tmp/log/</code></p>", "type": "rendered"}, "source": {"commit": {"hash": "3a7c7b4c82b0", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/3a7c7b4c82b0.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/3a7c7b4c82b0"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f98d11fe-f287-4dfb-99c3-e2b76a13232e}ts=2082645"}}, "type": "repository", "name": "ign-gazebo", "full_name": "ignitionrobotics/ign-gazebo", "uuid": "{f98d11fe-f287-4dfb-99c3-e2b76a13232e}"}, "branch": {"name": "logging_cmd_line"}}, "comment_count": 36, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2019-04-05T23:14:34.594367+00:00", "type": "participant", "approved": false, "user": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}}, {"role": "REVIEWER", "participated_on": "2019-04-09T00:15:43.634100+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}], "reason": "", "updated_on": "2019-04-09T00:15:50.509879+00:00", "author": {"display_name": "Mabel Zhang", "uuid": "{4b0e38fb-bf50-45c0-a496-61147518b2bf}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D"}, "html": {"href": "https://bitbucket.org/%7B4b0e38fb-bf50-45c0-a496-61147518b2bf%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ceb5942c-6843-408c-8550-3ce4899d299b/4d48e5ea-cf28-4fa7-9715-8fc9e315d831/128"}}, "nickname": "mabelmzhang", "type": "user", "account_id": "557058:ceb5942c-6843-408c-8550-3ce4899d299b"}, "merge_commit": {"hash": "04c1c2f77497", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/04c1c2f77497.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/04c1c2f77497"}}}, "closed_by": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}