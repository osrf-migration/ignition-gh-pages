{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/582/comments/143907637.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/582/_/diff#comment-143907637"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 582, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/582.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/582"}}, "title": "Remove select entity from selection helper"}, "content": {"raw": "I went over all the use cases listed [here](#!/ignitionrobotics/ign-gazebo/pull-requests/515/highlight-selected-entities/diff#comment-135296713). \n\nWith this branch, all other cases work except for the selection of entities which don't have a visual representation, like collisions and joints. When they're selected on the tree, they're immediately deselected, so I can't inspect them on the component inspector.\n\nOn [this comment](#!/ignitionrobotics/ign-gazebo/pull-requests/535/align-tool/activity#comment-140548702) you mention you can't multi-select from the entity-tree, but that works for me on `ign-gazebo3`. Are you sure any changes to the selection logic are necessary? \n\n", "markup": "markdown", "html": "<p>I went over all the use cases listed <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/515/highlight-selected-entities/diff#comment-135296713\" rel=\"nofollow\">here</a>. </p>\n<p>With this branch, all other cases work except for the selection of entities which don't have a visual representation, like collisions and joints. When they're selected on the tree, they're immediately deselected, so I can't inspect them on the component inspector.</p>\n<p>On <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/535/align-tool/activity#comment-140548702\" rel=\"nofollow\">this comment</a> you mention you can't multi-select from the entity-tree, but that works for me on <code>ign-gazebo3</code>. Are you sure any changes to the selection logic are necessary? </p>", "type": "rendered"}, "created_on": "2020-04-06T20:59:04.461785+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-04-06T20:59:04.464398+00:00", "type": "pullrequest_comment", "id": 143907637}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/582/comments/143908136.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/582/_/diff#comment-143908136"}}, "parent": {"id": 143907637, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/582/comments/143907637.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/582/_/diff#comment-143907637"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 582, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/582.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/582"}}, "title": "Remove select entity from selection helper"}, "content": {"raw": "I guess the real issue that I meant to describe is that everything visually looks correct, however, the event the align tool is listening to in order to keep an updated record of the selected entities isn\u2019t sent when someone selects from the entity tree.  The original fix I made of checking whether the control button was being pressed resolves that issue - should I revert back to that change or do you think something better could be done here?", "markup": "markdown", "html": "<p>I guess the real issue that I meant to describe is that everything visually looks correct, however, the event the align tool is listening to in order to keep an updated record of the selected entities isn\u2019t sent when someone selects from the entity tree.  The original fix I made of checking whether the control button was being pressed resolves that issue - should I revert back to that change or do you think something better could be done here?</p>", "type": "rendered"}, "created_on": "2020-04-06T21:02:53.446465+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "updated_on": "2020-04-06T21:02:53.450767+00:00", "type": "pullrequest_comment", "id": 143908136}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/582/comments/143912199.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/582/_/diff#comment-143912199"}}, "parent": {"id": 143908136, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/582/comments/143908136.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/582/_/diff#comment-143908136"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 582, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/582.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/582"}}, "title": "Remove select entity from selection helper"}, "content": {"raw": "Oh I see. I think the entity tree should be sending the [selection event](#!/ignitionrobotics/ign-gazebo/src/8064b9eb40bec9b02d1417a7b252a6402ce32980/src/gui/plugins/entity_tree/EntityTree.cc#lines-364) as well though. I guess the problem that could happen is that the event sent by `Scene3D` may be missing entities. For example:\n\n* User selects a link from `EntityTree`: `EntitiesSelected` is emitted with the link ID\n* User selects a model from `Scene3D` holding `Ctrl`: `EntitiesSelected` is emitted with the model ID, but not the link ID\n\nFrom the align tool's side, it needs to keep track of all selection events and merge with the selections it already knows about. The `EntitiesSelected` event should be treated as a diff of selections, not the absolute state of all selections. On the other hand, the `DeselectAllEntities` event should be treated as the absolute state and clear all selections. Makes sense?\n\nI know this is clunky, but this is what we get with a decentralized ledger (blockchain? :smirk: ). If this starts to become a problem we could investigate having a single source of truth. Maybe keeping track of selected entities on the main window :thinking: ", "markup": "markdown", "html": "<p>Oh I see. I think the entity tree should be sending the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-gazebo/src/8064b9eb40bec9b02d1417a7b252a6402ce32980/src/gui/plugins/entity_tree/EntityTree.cc#lines-364\" rel=\"nofollow\">selection event</a> as well though. I guess the problem that could happen is that the event sent by <code>Scene3D</code> may be missing entities. For example:</p>\n<ul>\n<li>User selects a link from <code>EntityTree</code>: <code>EntitiesSelected</code> is emitted with the link ID</li>\n<li>User selects a model from <code>Scene3D</code> holding <code>Ctrl</code>: <code>EntitiesSelected</code> is emitted with the model ID, but not the link ID</li>\n</ul>\n<p>From the align tool's side, it needs to keep track of all selection events and merge with the selections it already knows about. The <code>EntitiesSelected</code> event should be treated as a diff of selections, not the absolute state of all selections. On the other hand, the <code>DeselectAllEntities</code> event should be treated as the absolute state and clear all selections. Makes sense?</p>\n<p>I know this is clunky, but this is what we get with a decentralized ledger (blockchain? <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f60f.png\" alt=\"\ud83d\ude0f\" title=\":smirk:\" data-emoji-short-name=\":smirk:\" /> ). If this starts to become a problem we could investigate having a single source of truth. Maybe keeping track of selected entities on the main window <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f914.png\" alt=\"\ud83e\udd14\" title=\":thinking:\" data-emoji-short-name=\":thinking:\" /> </p>", "type": "rendered"}, "created_on": "2020-04-06T21:35:22.940211+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-04-06T21:35:22.944538+00:00", "type": "pullrequest_comment", "id": 143912199}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/582/comments/143916792.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/582/_/diff#comment-143916792"}}, "parent": {"id": 143912199, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/582/comments/143912199.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/582/_/diff#comment-143912199"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 582, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/582.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/582"}}, "title": "Remove select entity from selection helper"}, "content": {"raw": "Hmm, yeah I see what you\u2019re saying, I\u2019ll test this out and get back to you.", "markup": "markdown", "html": "<p>Hmm, yeah I see what you\u2019re saying, I\u2019ll test this out and get back to you.</p>", "type": "rendered"}, "created_on": "2020-04-06T22:21:13.747801+00:00", "user": {"display_name": "John Shepherd", "uuid": "{c4803212-effe-4921-9323-02cd01b8bc9c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc4803212-effe-4921-9323-02cd01b8bc9c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/5d114073a232e50bd6f26983/41da687b-99ee-4c7e-a527-0202b6dc55f5/128"}}, "nickname": "John Shepherd", "type": "user", "account_id": "5d114073a232e50bd6f26983"}, "updated_on": "2020-04-06T22:21:13.753723+00:00", "type": "pullrequest_comment", "id": 143916792}], "page": 1, "size": 4}