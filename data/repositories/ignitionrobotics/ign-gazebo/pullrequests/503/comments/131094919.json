{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/503/comments/131094919.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/503/_/diff#comment-131094919"}}, "parent": {"id": 130740503, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/503/comments/130740503.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/503/_/diff#comment-130740503"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 503, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/503.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/503"}}, "title": "Updates to log overwrite tests -> pull request #497"}, "content": {"raw": "Oh I had totally missed the `ignLogInit` inside `LogRecord::Configure`. I'm having trouble reaching that code path though. There's no way to exercise it from the command line, right? Because the `Server` itself is always populating the SDF `<path>`.\n\nRegardless of whether there's a way to reach that, I think we shouldn't be calling `ignLogInit` from a plugin. By the time we reach that, several console messages have already been printed, and a `server_console.log` file already exists on disk. I'm not sure whether that function would just fail, or create a new file with a new timestamp.\n\nI think the correct thing to do inside `LogRecord::Configure` would be to remove the `ignLogInit` call and keep the `logPath = ignLogDirectory();`. This way, if there's no `<path>`, we use the default console log path coming from `ign-common`.", "markup": "markdown", "html": "<p>Oh I had totally missed the <code>ignLogInit</code> inside <code>LogRecord::Configure</code>. I'm having trouble reaching that code path though. There's no way to exercise it from the command line, right? Because the <code>Server</code> itself is always populating the SDF <code>&lt;path&gt;</code>.</p>\n<p>Regardless of whether there's a way to reach that, I think we shouldn't be calling <code>ignLogInit</code> from a plugin. By the time we reach that, several console messages have already been printed, and a <code>server_console.log</code> file already exists on disk. I'm not sure whether that function would just fail, or create a new file with a new timestamp.</p>\n<p>I think the correct thing to do inside <code>LogRecord::Configure</code> would be to remove the <code>ignLogInit</code> call and keep the <code>logPath = ignLogDirectory();</code>. This way, if there's no <code>&lt;path&gt;</code>, we use the default console log path coming from <code>ign-common</code>.</p>", "type": "rendered"}, "created_on": "2020-01-09T19:47:27.496157+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-01-09T19:47:27.505828+00:00", "type": "pullrequest_comment", "id": 131094919}