{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/503/comments/131096301.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/ignitionrobotics/ign-gazebo:dae118d1a785..965500ca6513?path=test%2Fintegration%2Flog_system.cc"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/503/_/diff#comment-131096301"}}, "parent": {"id": 130742760, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/503/comments/130742760.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/503/_/diff#comment-130742760"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 503, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/503.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/503"}}, "title": "Updates to log overwrite tests -> pull request #497"}, "content": {"raw": "> the default behavior of LogRecord plugin will still overwrite in any case.\n\nI'm ok with the old message too. I think they both mean the same, right? The path set on `LogRecord` is the one from the SDF.\n\n> with the removal of LogRecordOverwrite()\n\nI thought there would be no change in behaviour with the removal of `ServerConfig::LogRecordOverwrite`, that's why I removed it. Was it being used somewhere?\n\n> So as far as overwrite goes, I believe these tests are not testing different things\n\nThis is what I think the tests are checking:\n\n1. line 647: 1st recording just checks a file is saved to disk when `<path>` is set by user\n1. line 681: 2nd recording has the exact same `<path>` on SDF (as if it was coming from the **user**) and no `--log-overwrite`: verify that file recorded above is **overwritten**\n1. line 714: 3rd recording has the same path, but set through the C++ API (which the `Server` copies to SDF `<path>` under the hood): verify that file recorded above is **overwritten**\n1. line 744: 4th recording to same path, but this time using `--log-overwrite` from the command line: verify that file recorded above is **overwritten**\n1. line 772: 5th recording, passing same path to the command line but no `--log-overwrite`: verify that **new** files are created.", "markup": "markdown", "html": "<blockquote>\n<p>the default behavior of LogRecord plugin will still overwrite in any case.</p>\n</blockquote>\n<p>I'm ok with the old message too. I think they both mean the same, right? The path set on <code>LogRecord</code> is the one from the SDF.</p>\n<blockquote>\n<p>with the removal of LogRecordOverwrite()</p>\n</blockquote>\n<p>I thought there would be no change in behaviour with the removal of <code>ServerConfig::LogRecordOverwrite</code>, that's why I removed it. Was it being used somewhere?</p>\n<blockquote>\n<p>So as far as overwrite goes, I believe these tests are not testing different things</p>\n</blockquote>\n<p>This is what I think the tests are checking:</p>\n<ol>\n<li>line 647: 1st recording just checks a file is saved to disk when <code>&lt;path&gt;</code> is set by user</li>\n<li>line 681: 2nd recording has the exact same <code>&lt;path&gt;</code> on SDF (as if it was coming from the <strong>user</strong>) and no <code>--log-overwrite</code>: verify that file recorded above is <strong>overwritten</strong></li>\n<li>line 714: 3rd recording has the same path, but set through the C++ API (which the <code>Server</code> copies to SDF <code>&lt;path&gt;</code> under the hood): verify that file recorded above is <strong>overwritten</strong></li>\n<li>line 744: 4th recording to same path, but this time using <code>--log-overwrite</code> from the command line: verify that file recorded above is <strong>overwritten</strong></li>\n<li>line 772: 5th recording, passing same path to the command line but no <code>--log-overwrite</code>: verify that <strong>new</strong> files are created.</li>\n</ol>", "type": "rendered"}, "created_on": "2020-01-09T19:58:53.119640+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 680, "from": null, "outdated": true, "path": "test/integration/log_system.cc"}, "updated_on": "2020-01-09T19:58:53.127858+00:00", "type": "pullrequest_comment", "id": 131096301}