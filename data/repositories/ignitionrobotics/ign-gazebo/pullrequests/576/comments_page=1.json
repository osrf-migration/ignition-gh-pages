{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/576/comments/143450665.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/576/_/diff#comment-143450665"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 576, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/576.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/576"}}, "title": "2 \u27a1\ufe0f 3 (part 3)"}, "content": {"raw": "This branch has been taking longer than 1 hour to compile. It takes time specifically on the physics system. I did some tests locally, and each of the 3 new features that's added to `MinimumFeatureList` seems to cause a great increase on compilation time:\n\n```.diff\n+          ignition::physics::AttachFixedJointFeature,\n+          ignition::physics::DetachJointFeature,\n+          ignition::physics::SetJointTransformFromParentFeature,\n```\n\nI'm not sure exactly *why*. One of the things that changed from `ign-physics1` to `ign-physics2` is precisely the [improvement on compile times](#!/ignitionrobotics/ign-physics/pull-requests/88/citadel-improve-compile-times/diff). So having the long compile time on this branch (which uses `physics2`), but not on `ign-gazebo2` (which uses `physics1`) is especially puzzling.\n\nAfter battling with this for a few days, I finally made some progress though. The problem seems to be the related to the length of `MinimumFeatureList`. And pull request #573 reduces the list. So I went ahead and merged that pull request forward and voila, compilation ends in the usual 10 minutes for me. That's on branch `chapulina/bullet_citadel`.\n\nMy suggestion on how to proceed:\n\n* Review and merge pull request #573 and its dependencies into `ign-gazebo2`\n* Do the GitHub migraion\n* Open a new PR porting pull request #573 to `ign-gazebo3`\n* Open a PR merging forward `ign-gazebo2` to `ign-gazebo3`\n* Someone more familiar with `ign-physics` and its templates looks into what's happening here:\n    * Is there a threshold to the number of features that can be added on `ign-physics2`? Why is that different from `ign-physics1`?\n    * Are there specific combinations of features that can make the compiler do extra work? If so, is there a way to give it hints?\n\nCC @{557058:67759e29-d1df-465f-868d-047738e36fc9} @{scpeters} @{557058:90bc87b0-2886-4377-a17c-3a6629a697ff} ", "markup": "markdown", "html": "<p>This branch has been taking longer than 1 hour to compile. It takes time specifically on the physics system. I did some tests locally, and each of the 3 new features that's added to <code>MinimumFeatureList</code> seems to cause a great increase on compilation time:</p>\n<div class=\"codehilite language-diff\"><pre><span></span><span class=\"gi\">+          ignition::physics::AttachFixedJointFeature,</span>\n<span class=\"gi\">+          ignition::physics::DetachJointFeature,</span>\n<span class=\"gi\">+          ignition::physics::SetJointTransformFromParentFeature,</span>\n</pre></div>\n\n\n<p>I'm not sure exactly <em>why</em>. One of the things that changed from <code>ign-physics1</code> to <code>ign-physics2</code> is precisely the <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-physics/pull-requests/88/citadel-improve-compile-times/diff\" rel=\"nofollow\">improvement on compile times</a>. So having the long compile time on this branch (which uses <code>physics2</code>), but not on <code>ign-gazebo2</code> (which uses <code>physics1</code>) is especially puzzling.</p>\n<p>After battling with this for a few days, I finally made some progress though. The problem seems to be the related to the length of <code>MinimumFeatureList</code>. And <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/573/optional-physics-features\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #573</a> reduces the list. So I went ahead and merged that pull request forward and voila, compilation ends in the usual 10 minutes for me. That's on branch <code>chapulina/bullet_citadel</code>.</p>\n<p>My suggestion on how to proceed:</p>\n<ul>\n<li>Review and merge <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/573/optional-physics-features\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #573</a> and its dependencies into <code>ign-gazebo2</code></li>\n<li>Do the GitHub migraion</li>\n<li>Open a new PR porting <a href=\"#!/ignitionrobotics/ign-gazebo/pull-requests/573/optional-physics-features\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #573</a> to <code>ign-gazebo3</code></li>\n<li>Open a PR merging forward <code>ign-gazebo2</code> to <code>ign-gazebo3</code></li>\n<li>Someone more familiar with <code>ign-physics</code> and its templates looks into what's happening here:<ul>\n<li>Is there a threshold to the number of features that can be added on <code>ign-physics2</code>? Why is that different from <code>ign-physics1</code>?</li>\n<li>Are there specific combinations of features that can make the compiler do extra work? If so, is there a way to give it hints?</li>\n</ul>\n</li>\n</ul>\n<p>CC <span class=\"ap-mention\" data-atlassian-id=\"557058:67759e29-d1df-465f-868d-047738e36fc9\">@Michael Grey</span> <span class=\"ap-mention\" data-atlassian-id=\"557058:5de38267-b118-494c-aa76-4fab35448816\">@Steve Peters</span> <span class=\"ap-mention\" data-atlassian-id=\"557058:90bc87b0-2886-4377-a17c-3a6629a697ff\">@Addisu Z. Taddese</span> </p>", "type": "rendered"}, "created_on": "2020-04-03T01:24:46.045339+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-04-03T01:29:13.670694+00:00", "type": "pullrequest_comment", "id": 143450665}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/576/comments/143641464.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/576/_/diff#comment-143641464"}}, "parent": {"id": 143450665, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/576/comments/143450665.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/576/_/diff#comment-143450665"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 576, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/576.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/576"}}, "title": "2 \u27a1\ufe0f 3 (part 3)"}, "content": {"raw": "According to the plan above, I'm going to decline this and resume the `2 to 3` porting on GitHub.", "markup": "markdown", "html": "<p>According to the plan above, I'm going to decline this and resume the <code>2 to 3</code> porting on GitHub.</p>", "type": "rendered"}, "created_on": "2020-04-03T22:17:00.364546+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2020-04-03T22:17:00.369345+00:00", "type": "pullrequest_comment", "id": 143641464}], "page": 1, "size": 2}