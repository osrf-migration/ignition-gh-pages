{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/192/comments/93247058.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/192/_/diff#comment-93247058"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 192, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/pullrequests/192.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/pull-requests/192"}}, "title": "Working on a version issue"}, "content": {"raw": "> Do we need a version number for both the library (e.g. the zero in libignition-gazebo0-physics-system.so) and in the interface (e.g. the v0 in ignition::gazebo::systems::v0::Physics)?\n\nThat's a good point, those are definitely redundant. Ignition plugin won't find the correct interface unless it includes the `v0` and I'm not sure how easy it would be to also support dropping the `v0`.\n\nOtherwise, if we remove the inline namespace from the systems themselves, the question is whether we expect users to be linking against the same system, but of different versions, at the same time. I can't think of a use case for this right now, but this kind of thing can be tricky to imagine beforehand.\n\n> We can save this for Blueprint, but do we want to cmake-configure all of our SDF files to insert the current project major number?\n\nConsidering that we'll only be doing this whenever there's a new version, which isn't so often, I think we could just rely on search-and-replace. This is what we've been doing for  example cmake files in other Ignition libraries so far. Since all examples are build by tests, we'd catch the problem before merging a PR (not for world files though). I think this is a small price to pay to keep our files as close as possible to end-user code.", "markup": "markdown", "html": "<blockquote>\n<p>Do we need a version number for both the library (e.g. the zero in libignition-gazebo0-physics-system.so) and in the interface (e.g. the v0 in ignition::gazebo::systems::v0::Physics)?</p>\n</blockquote>\n<p>That's a good point, those are definitely redundant. Ignition plugin won't find the correct interface unless it includes the <code>v0</code> and I'm not sure how easy it would be to also support dropping the <code>v0</code>.</p>\n<p>Otherwise, if we remove the inline namespace from the systems themselves, the question is whether we expect users to be linking against the same system, but of different versions, at the same time. I can't think of a use case for this right now, but this kind of thing can be tricky to imagine beforehand.</p>\n<blockquote>\n<p>We can save this for Blueprint, but do we want to cmake-configure all of our SDF files to insert the current project major number?</p>\n</blockquote>\n<p>Considering that we'll only be doing this whenever there's a new version, which isn't so often, I think we could just rely on search-and-replace. This is what we've been doing for  example cmake files in other Ignition libraries so far. Since all examples are build by tests, we'd catch the problem before merging a PR (not for world files though). I think this is a small price to pay to keep our files as close as possible to end-user code.</p>", "type": "rendered"}, "created_on": "2019-02-28T01:20:48.462840+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2019-02-28T01:21:00.606262+00:00", "type": "pullrequest_comment", "id": 93247058}