{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/4cf8fc4ae8e3211a20f11dd22b0f9d28073f6ee7/comments/6969507.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gazebo/diff/4cf8fc4ae8e3211a20f11dd22b0f9d28073f6ee7?path=include%2Fignition%2Fgazebo%2FModel.hh"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/4cf8fc4ae8e3211a20f11dd22b0f9d28073f6ee7#comment-6969507"}}, "deleted": false, "commit": {"hash": "4cf8fc4ae8e3211a20f11dd22b0f9d28073f6ee7", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gazebo/commit/4cf8fc4ae8e3211a20f11dd22b0f9d28073f6ee7.json"}, "html": {"href": "#!/ignitionrobotics/ign-gazebo/commits/4cf8fc4ae8e3211a20f11dd22b0f9d28073f6ee7"}}}, "content": {"raw": "I think the `= default` should be in the .cc file. I tried using the move constructor and I get a compile error:\n```\n/usr/include/c++/8/bits/unique_ptr.h: In instantiation of \u2018void std::default_delete<_Tp>::operator()(_Tp*) const [with _Tp = ignition::gazebo::v0::ModelPrivate]\u2019:\n/usr/include/c++/8/bits/unique_ptr.h:274:17:   required from \u2018std::unique_ptr<_Tp, _Dp>::~unique_ptr() [with _Tp = ignition::gazebo::v0::ModelPrivate; _Dp = std::default_delete<ignition::gazebo::v0::ModelPrivate>]\u2019\n/home/addisu/ws/ign-gazebo-103/src/ign-gazebo/include/ignition/gazebo/Model.hh:50:15:   required from here\n/usr/include/c++/8/bits/unique_ptr.h:79:16: error: invalid application of \u2018sizeof\u2019 to incomplete type \u2018ignition::gazebo::v0::ModelPrivate\u2019\n  static_assert(sizeof(_Tp)>0,\n                ^~~~~~~~~~~\n```\n[This](https://howardhinnant.github.io/incomplete.html) was helpful for me to explain which members have completeness requirements.", "markup": "markdown", "html": "<p>I think the <code>= default</code> should be in the .cc file. I tried using the move constructor and I get a compile error:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">c</span><span class=\"o\">++/</span><span class=\"nt\">8</span><span class=\"o\">/</span><span class=\"nt\">bits</span><span class=\"o\">/</span><span class=\"nt\">unique_ptr</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"o\">:</span> <span class=\"nt\">In</span> <span class=\"nt\">instantiation</span> <span class=\"nt\">of</span> <span class=\"err\">\u2018</span><span class=\"nt\">void</span> <span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">default_delete</span><span class=\"o\">&lt;</span><span class=\"nt\">_Tp</span><span class=\"o\">&gt;</span><span class=\"p\">::</span><span class=\"nd\">operator</span><span class=\"o\">()(</span><span class=\"nt\">_Tp</span><span class=\"o\">*)</span> <span class=\"nt\">const</span> <span class=\"cp\">[</span><span class=\"k\">with</span> <span class=\"n\">_Tp</span><span class=\"o\"> =</span> <span class=\"nx\">ignition</span><span class=\"nl\">::gazebo::v0::ModelPrivate</span><span class=\"cp\">]</span><span class=\"err\">\u2019</span><span class=\"o\">:</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">c</span><span class=\"o\">++/</span><span class=\"nt\">8</span><span class=\"o\">/</span><span class=\"nt\">bits</span><span class=\"o\">/</span><span class=\"nt\">unique_ptr</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">274</span><span class=\"p\">:</span><span class=\"nd\">17</span><span class=\"o\">:</span>   <span class=\"nt\">required</span> <span class=\"nt\">from</span> <span class=\"err\">\u2018</span><span class=\"nt\">std</span><span class=\"p\">::</span><span class=\"nd\">unique_ptr</span><span class=\"o\">&lt;</span><span class=\"nt\">_Tp</span><span class=\"o\">,</span> <span class=\"nt\">_Dp</span><span class=\"o\">&gt;::~</span><span class=\"nt\">unique_ptr</span><span class=\"o\">()</span> <span class=\"cp\">[</span><span class=\"k\">with</span> <span class=\"n\">_Tp</span><span class=\"o\"> =</span> <span class=\"nx\">ignition</span><span class=\"nl\">::gazebo::v0::ModelPrivate</span><span class=\"p\">;</span> <span class=\"n\">_Dp</span><span class=\"o\"> =</span> <span class=\"nx\">std</span><span class=\"nl\">::default_delete</span><span class=\"o\">&lt;</span><span class=\"nx\">ignition</span><span class=\"nl\">::gazebo::v0::ModelPrivate</span><span class=\"o\">&gt;</span><span class=\"cp\">]</span><span class=\"err\">\u2019</span>\n<span class=\"o\">/</span><span class=\"nt\">home</span><span class=\"o\">/</span><span class=\"nt\">addisu</span><span class=\"o\">/</span><span class=\"nt\">ws</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo-103</span><span class=\"o\">/</span><span class=\"nt\">src</span><span class=\"o\">/</span><span class=\"nt\">ign-gazebo</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">ignition</span><span class=\"o\">/</span><span class=\"nt\">gazebo</span><span class=\"o\">/</span><span class=\"nt\">Model</span><span class=\"p\">.</span><span class=\"nc\">hh</span><span class=\"p\">:</span><span class=\"nd\">50</span><span class=\"p\">:</span><span class=\"nd\">15</span><span class=\"o\">:</span>   <span class=\"nt\">required</span> <span class=\"nt\">from</span> <span class=\"nt\">here</span>\n<span class=\"o\">/</span><span class=\"nt\">usr</span><span class=\"o\">/</span><span class=\"nt\">include</span><span class=\"o\">/</span><span class=\"nt\">c</span><span class=\"o\">++/</span><span class=\"nt\">8</span><span class=\"o\">/</span><span class=\"nt\">bits</span><span class=\"o\">/</span><span class=\"nt\">unique_ptr</span><span class=\"p\">.</span><span class=\"nc\">h</span><span class=\"p\">:</span><span class=\"nd\">79</span><span class=\"p\">:</span><span class=\"nd\">16</span><span class=\"o\">:</span> <span class=\"nt\">error</span><span class=\"o\">:</span> <span class=\"nt\">invalid</span> <span class=\"nt\">application</span> <span class=\"nt\">of</span> <span class=\"err\">\u2018</span><span class=\"nt\">sizeof</span><span class=\"err\">\u2019</span> <span class=\"nt\">to</span> <span class=\"nt\">incomplete</span> <span class=\"nt\">type</span> <span class=\"err\">\u2018</span><span class=\"nt\">ignition</span><span class=\"p\">::</span><span class=\"nd\">gazebo</span><span class=\"p\">::</span><span class=\"nd\">v0</span><span class=\"p\">::</span><span class=\"nd\">ModelPrivate</span><span class=\"err\">\u2019</span>\n  <span class=\"nt\">static_assert</span><span class=\"o\">(</span><span class=\"nt\">sizeof</span><span class=\"o\">(</span><span class=\"nt\">_Tp</span><span class=\"o\">)&gt;</span><span class=\"nt\">0</span><span class=\"o\">,</span>\n                <span class=\"o\">^~~~~~~~~~~</span>\n</pre></div>\n\n\n<p><a data-is-external-link=\"true\" href=\"https://howardhinnant.github.io/incomplete.html\" rel=\"nofollow\">This</a> was helpful for me to explain which members have completeness requirements.</p>", "type": "rendered"}, "created_on": "2018-12-20T18:29:37.442378+00:00", "user": {"display_name": "Addisu Z. Taddese", "uuid": "{9d7fdc68-d270-4080-bf03-4df0d0dbf635}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D"}, "html": {"href": "https://bitbucket.org/%7B9d7fdc68-d270-4080-bf03-4df0d0dbf635%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:90bc87b0-2886-4377-a17c-3a6629a697ff/afbf9be5-1e4c-4810-89d4-e58831f34b11/128"}}, "nickname": "azeey", "type": "user", "account_id": "557058:90bc87b0-2886-4377-a17c-3a6629a697ff"}, "inline": {"to": 50, "from": null, "path": "include/ignition/gazebo/Model.hh"}, "updated_on": "2018-12-20T18:29:37.446621+00:00", "type": "commit_comment", "id": 6969507}