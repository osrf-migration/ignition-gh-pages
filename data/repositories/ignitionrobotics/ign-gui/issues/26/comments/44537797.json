{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/issues/26/comments/44537797.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/issues/26#comment-44537797"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/issues/26.json"}}, "type": "issue", "id": 26, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "title": "Slow widget creation in TopicInterface plugin"}, "content": {"raw": "I looked a bit into this. Indeed, in my system, your message is taking about 18 seconds to be initialized, and during this time the UI is frozen.\n\nFuture updates to the UI are much quicker though, changing a field's value or adding / removing a nested message takes less than 30 ms. To me, this suggests the bottleneck is not the message parsing, which also happens for every update, but the widget creation.\n\nMy first idea would be to move the widget creation to another thread, and only do the actual adding of it to the window on the main thread. This wouldn't solve the delay problem, but at least the UI should not be frozen.\n\nNeed to investigate more to figure out if there's anything specifically bad we're doing when generating the widgets.", "markup": "markdown", "html": "<p>I looked a bit into this. Indeed, in my system, your message is taking about 18 seconds to be initialized, and during this time the UI is frozen.</p>\n<p>Future updates to the UI are much quicker though, changing a field's value or adding / removing a nested message takes less than 30 ms. To me, this suggests the bottleneck is not the message parsing, which also happens for every update, but the widget creation.</p>\n<p>My first idea would be to move the widget creation to another thread, and only do the actual adding of it to the window on the main thread. This wouldn't solve the delay problem, but at least the UI should not be frozen.</p>\n<p>Need to investigate more to figure out if there's anything specifically bad we're doing when generating the widgets.</p>", "type": "rendered"}, "created_on": "2018-04-06T14:01:33.165878+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": null, "type": "issue_comment", "id": 44537797}