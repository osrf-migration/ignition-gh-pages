{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-gui/issues/25/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-gui/issues/25.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gui/issues/25/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-gui/issues/25/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/issues/25/segfault-on-external-plugin-loading"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-gui/issues/25/vote"}}, "reporter": {"display_name": "Andr\u00e9s Fortier", "uuid": "{f9c4496c-9146-4675-b1d5-bd0ed156cf58}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf9c4496c-9146-4675-b1d5-bd0ed156cf58%7D"}, "html": {"href": "https://bitbucket.org/%7Bf9c4496c-9146-4675-b1d5-bd0ed156cf58%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:c59901bb-7eb0-4d2c-966f-7c66c154fef3/4af4377f-d065-496d-8cd4-01d5c760c6a3/128"}}, "nickname": "andres_fortier", "type": "user", "account_id": "557058:c59901bb-7eb0-4d2c-966f-7c66c154fef3"}, "title": "Segfault on external plugin loading", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Disclaimer: I know this is a weird issue and may be difficult to debug, esp. as I am the only one on a group of 4 devs seeing it. However I'm running out of ideas on what this may be, hence I created the issue. Any help will be much appreciated.\r\n\r\nWe have an application that defines a set of custom plugins. After updating ign_gui (and other dependencies) the plugin load procedure started to segfault. The details:\r\n\r\n- The segfault happens on #!/ignitionrobotics/ign-gui/src/8f4f2fa12238702a54e46ba4044cd671dd5de75c/src/Plugin.cc?at=default&fileviewer=file-view-default#Plugin.cc-150, which is called as part of the plugin load procedure. \r\n- Interestingly enough, I seem to be the only affected. Other devs are not experiencing this issue.\r\n- While `this->dataPtr` is not a `nullptr`, it seems to have garbage (I think because at no point is `dataPtr`initialized to `nullptr` - #!/ignitionrobotics/ign-gui/src/8f4f2fa12238702a54e46ba4044cd671dd5de75c/include/ignition/gui/Plugin.hh?at=default&fileviewer=file-view-default#Plugin.hh-109).\r\n- It seems that `Plugin` constructor (#!/ignitionrobotics/ign-gui/src/8f4f2fa12238702a54e46ba4044cd671dd5de75c/src/Plugin.cc?at=default&fileviewer=file-view-default#Plugin.cc-37) is not being called for our plugin. I tried changing the `Plugin` source code to:\r\n\r\n```\r\nPlugin::Plugin() : dataPtr(new PluginPrivate)\r\n{\r\n  std::cout << \"!!! INIT !!! \" << std::endl;\r\n}\r\n```\r\nand tested with different plugins. The result is that all the plugins shipped with ign_gui call the constructor, but those defined outside (i.e. in an app that use ign_gui as a library) don't call it.\r\n\r\n- Same as above happens for the destructors. When a ing_gui plugin is removed from the UI by hitting the X button the destructor is called. However, for \"outside\" plugins the destructor is not called.\r\n- The constructor not being called would explain `dataPtr` having garbage, as it is the only place where it is initialized.\r\n- Given that `dataPtr` is private I can't think on a workaround on our side to fix it.\r\n- Below is the gdb output as stacktrace:\r\n```\r\n$ gdb visualizer \r\n[...]\r\nReading symbols from visualizer...done.\r\n(gdb) r\r\nStarting program: /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/install/bin/visualizer \r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n[Msg] Visualizer 0.1.0\r\n[New Thread 0x7fffde049700 (LWP 24813)]\r\n[New Thread 0x7fffd408d700 (LWP 24814)]\r\n[New Thread 0x7fffd3875700 (LWP 24815)]\r\n[New Thread 0x7fffd3074700 (LWP 24816)]\r\n[GUI] [Msg] Applying stylesheet [:/style.qss]\r\n[GUI] [Msg] Loading plugin [libRenderWidget.so]\r\n[New Thread 0x7fffc23b6700 (LWP 24818)]\r\n[New Thread 0x7fffc1bb5700 (LWP 24819)]\r\n[New Thread 0x7fffc13b4700 (LWP 24820)]\r\n[New Thread 0x7fffc0bb3700 (LWP 24821)]\r\n[New Thread 0x7fffbbfff700 (LWP 24822)]\r\nThread 1 \"visualizer\" received signal SIGSEGV, Segmentation fault.\r\nignition::gui::Plugin::DeleteLaterRequested (this=0x7250b0) at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/src/ign_gui/src/Plugin.cc:150\r\n150       return this->dataPtr->deleteLaterRequested;\r\n(gdb) bt\r\n#0  ignition::gui::Plugin::DeleteLaterRequested (this=0x7250b0) at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/src/ign_gui/src/Plugin.cc:161\r\n#1  0x00007ffff7b884e6 in ignition::gui::addPluginsToWindow () at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/src/ign_gui/src/Iface.cc:589\r\n#2  0x00007ffff7b8e35b in ignition::gui::MainWindow::OnAddPlugin (this=<optimized out>, _plugin=...) at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/src/ign_gui/src/MainWindow.cc:269\r\n#3  0x00007ffff7bba5a4 in ignition::gui::MainWindow::qt_static_metacall (_o=<optimized out>, _c=<optimized out>, _id=<optimized out>, _a=<optimized out>)\r\n    at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/build/ign_gui/include/ignition/gui/moc_MainWindow.cpp:88\r\n#4  0x00007ffff6fc7d2a in QMetaObject::activate(QObject*, int, int, void**) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#5  0x00007ffff6fd21a5 in QSignalMapper::mapped(QString const&) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#6  0x00007ffff6fd36f2 in QSignalMapper::map(QObject*) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#7  0x00007ffff6fc7d2a in QMetaObject::activate(QObject*, int, int, void**) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#8  0x00007ffff760b412 in QAction::triggered(bool) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#9  0x00007ffff760d898 in QAction::activate(QAction::ActionEvent) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#10 0x00007ffff778fe52 in ?? () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#11 0x00007ffff77960ec in ?? () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#12 0x00007ffff779a060 in QMenu::mouseReleaseEvent(QMouseEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#13 0x00007ffff7657fc8 in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#14 0x00007ffff779aab3 in QMenu::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#15 0x00007ffff761505c in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#16 0x00007ffff761ac19 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#17 0x00007ffff6f9938b in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#18 0x00007ffff7619b32 in QApplicationPrivate::sendMouseEvent(QWidget*, QMouseEvent*, QWidget*, QWidget*, QWidget**, QPointer<QWidget>&, bool) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#19 0x00007ffff767291d in ?? () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#20 0x00007ffff7674b7b in ?? () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#21 0x00007ffff761505c in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#22 0x00007ffff761a516 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#23 0x00007ffff6f9938b in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#24 0x00007ffff53ad4e1 in QGuiApplicationPrivate::processMouseEvent(QWindowSystemInterfacePrivate::MouseEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5\r\n#25 0x00007ffff53af1a5 in QGuiApplicationPrivate::processWindowSystemEvent(QWindowSystemInterfacePrivate::WindowSystemEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5\r\n#26 0x00007ffff5392f08 in QWindowSystemInterface::sendWindowSystemEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5\r\n#27 0x00007ffff7ead200 in ?? () from /usr/lib/x86_64-linux-gnu/libQt5XcbQpa.so.5\r\n#28 0x00007ffff4a98197 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#29 0x00007ffff4a983f0 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#30 0x00007ffff4a9849c in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#31 0x00007ffff6fef7cf in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#32 0x00007ffff6f96b4a in QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#33 0x00007ffff6f9ebec in QCoreApplication::exec() () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#34 0x00007ffff7b86790 in ignition::gui::runMainWindow () at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/src/ign_gui/src/Iface.cc:659\r\n#35 0x000000000040163e in main (argc=<optimized out>, argv=<optimized out>) at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/src/delphyne_gui/visualizer/visualizer.cc:102\r\n```\r\n\r\n- Our class is defined as:\r\n```\r\nclass RenderWidget : public ignition::gui::Plugin {\r\n  Q_OBJECT\r\n\r\n public:\r\n  /// \\brief Default constructor.\r\n  explicit RenderWidget(QWidget* parent = 0);\r\n[...]\r\n}\r\n```\r\nand\r\n```\r\nRenderWidget::RenderWidget(QWidget* parent)\r\n    : Plugin(), initializedScene(false), engine(nullptr) {\r\n[...]\r\n}\r\n```\r\n\r\nAnd of course, let me know if you need more info. Any pointers / hints will be greatly appreciated.", "markup": "markdown", "html": "<p>Disclaimer: I know this is a weird issue and may be difficult to debug, esp. as I am the only one on a group of 4 devs seeing it. However I'm running out of ideas on what this may be, hence I created the issue. Any help will be much appreciated.</p>\n<p>We have an application that defines a set of custom plugins. After updating ign_gui (and other dependencies) the plugin load procedure started to segfault. The details:</p>\n<ul>\n<li>The segfault happens on <a href=\"#!/ignitionrobotics/ign-gui/src/8f4f2fa12238702a54e46ba4044cd671dd5de75c/src/Plugin.cc?at=default&amp;fileviewer=file-view-default#Plugin.cc-150\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-gui/src/8f4f2fa12238702a54e46ba4044cd671dd5de75c/src/Plugin.cc?at=default&amp;fileviewer=file-view-default#Plugin.cc-150</a>, which is called as part of the plugin load procedure. </li>\n<li>Interestingly enough, I seem to be the only affected. Other devs are not experiencing this issue.</li>\n<li>While <code>this-&gt;dataPtr</code> is not a <code>nullptr</code>, it seems to have garbage (I think because at no point is <code>dataPtr</code>initialized to <code>nullptr</code> - <a href=\"#!/ignitionrobotics/ign-gui/src/8f4f2fa12238702a54e46ba4044cd671dd5de75c/include/ignition/gui/Plugin.hh?at=default&amp;fileviewer=file-view-default#Plugin.hh-109\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-gui/src/8f4f2fa12238702a54e46ba4044cd671dd5de75c/include/ignition/gui/Plugin.hh?at=default&amp;fileviewer=file-view-default#Plugin.hh-109</a>).</li>\n<li>It seems that <code>Plugin</code> constructor (<a href=\"#!/ignitionrobotics/ign-gui/src/8f4f2fa12238702a54e46ba4044cd671dd5de75c/src/Plugin.cc?at=default&amp;fileviewer=file-view-default#Plugin.cc-37\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-gui/src/8f4f2fa12238702a54e46ba4044cd671dd5de75c/src/Plugin.cc?at=default&amp;fileviewer=file-view-default#Plugin.cc-37</a>) is not being called for our plugin. I tried changing the <code>Plugin</code> source code to:</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">Plugin</span><span class=\"p\">::</span><span class=\"nd\">Plugin</span><span class=\"o\">()</span> <span class=\"o\">:</span> <span class=\"nt\">dataPtr</span><span class=\"o\">(</span><span class=\"nt\">new</span> <span class=\"nt\">PluginPrivate</span><span class=\"o\">)</span>\n<span class=\"p\">{</span>\n  <span class=\"n\">std</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"n\">cout</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s2\">&quot;!!! INIT !!! &quot;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">endl</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>and tested with different plugins. The result is that all the plugins shipped with ign_gui call the constructor, but those defined outside (i.e. in an app that use ign_gui as a library) don't call it.</p>\n<ul>\n<li>Same as above happens for the destructors. When a ing_gui plugin is removed from the UI by hitting the X button the destructor is called. However, for \"outside\" plugins the destructor is not called.</li>\n<li>The constructor not being called would explain <code>dataPtr</code> having garbage, as it is the only place where it is initialized.</li>\n<li>Given that <code>dataPtr</code> is private I can't think on a workaround on our side to fix it.</li>\n<li>Below is the gdb output as stacktrace:</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>$ gdb visualizer \n<span class=\"o\">[</span>...<span class=\"o\">]</span>\nReading symbols from visualizer...done.\n<span class=\"o\">(</span>gdb<span class=\"o\">)</span> r\nStarting program: /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/install/bin/visualizer \n<span class=\"o\">[</span>Thread debugging using libthread_db enabled<span class=\"o\">]</span>\nUsing host libthread_db library <span class=\"s2\">&quot;/lib/x86_64-linux-gnu/libthread_db.so.1&quot;</span>.\n<span class=\"o\">[</span>Msg<span class=\"o\">]</span> Visualizer <span class=\"m\">0</span>.1.0\n<span class=\"o\">[</span>New Thread 0x7fffde049700 <span class=\"o\">(</span>LWP <span class=\"m\">24813</span><span class=\"o\">)]</span>\n<span class=\"o\">[</span>New Thread 0x7fffd408d700 <span class=\"o\">(</span>LWP <span class=\"m\">24814</span><span class=\"o\">)]</span>\n<span class=\"o\">[</span>New Thread 0x7fffd3875700 <span class=\"o\">(</span>LWP <span class=\"m\">24815</span><span class=\"o\">)]</span>\n<span class=\"o\">[</span>New Thread 0x7fffd3074700 <span class=\"o\">(</span>LWP <span class=\"m\">24816</span><span class=\"o\">)]</span>\n<span class=\"o\">[</span>GUI<span class=\"o\">]</span> <span class=\"o\">[</span>Msg<span class=\"o\">]</span> Applying stylesheet <span class=\"o\">[</span>:/style.qss<span class=\"o\">]</span>\n<span class=\"o\">[</span>GUI<span class=\"o\">]</span> <span class=\"o\">[</span>Msg<span class=\"o\">]</span> Loading plugin <span class=\"o\">[</span>libRenderWidget.so<span class=\"o\">]</span>\n<span class=\"o\">[</span>New Thread 0x7fffc23b6700 <span class=\"o\">(</span>LWP <span class=\"m\">24818</span><span class=\"o\">)]</span>\n<span class=\"o\">[</span>New Thread 0x7fffc1bb5700 <span class=\"o\">(</span>LWP <span class=\"m\">24819</span><span class=\"o\">)]</span>\n<span class=\"o\">[</span>New Thread 0x7fffc13b4700 <span class=\"o\">(</span>LWP <span class=\"m\">24820</span><span class=\"o\">)]</span>\n<span class=\"o\">[</span>New Thread 0x7fffc0bb3700 <span class=\"o\">(</span>LWP <span class=\"m\">24821</span><span class=\"o\">)]</span>\n<span class=\"o\">[</span>New Thread 0x7fffbbfff700 <span class=\"o\">(</span>LWP <span class=\"m\">24822</span><span class=\"o\">)]</span>\nThread <span class=\"m\">1</span> <span class=\"s2\">&quot;visualizer&quot;</span> received signal SIGSEGV, Segmentation fault.\nignition::gui::Plugin::DeleteLaterRequested <span class=\"o\">(</span><span class=\"nv\">this</span><span class=\"o\">=</span>0x7250b0<span class=\"o\">)</span> at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/src/ign_gui/src/Plugin.cc:150\n<span class=\"m\">150</span>       <span class=\"k\">return</span> this-&gt;dataPtr-&gt;deleteLaterRequested<span class=\"p\">;</span>\n<span class=\"o\">(</span>gdb<span class=\"o\">)</span> bt\n<span class=\"c1\">#0  ignition::gui::Plugin::DeleteLaterRequested (this=0x7250b0) at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/src/ign_gui/src/Plugin.cc:161</span>\n<span class=\"c1\">#1  0x00007ffff7b884e6 in ignition::gui::addPluginsToWindow () at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/src/ign_gui/src/Iface.cc:589</span>\n<span class=\"c1\">#2  0x00007ffff7b8e35b in ignition::gui::MainWindow::OnAddPlugin (this=&lt;optimized out&gt;, _plugin=...) at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/src/ign_gui/src/MainWindow.cc:269</span>\n<span class=\"c1\">#3  0x00007ffff7bba5a4 in ignition::gui::MainWindow::qt_static_metacall (_o=&lt;optimized out&gt;, _c=&lt;optimized out&gt;, _id=&lt;optimized out&gt;, _a=&lt;optimized out&gt;)</span>\n    at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/build/ign_gui/include/ignition/gui/moc_MainWindow.cpp:88\n<span class=\"c1\">#4  0x00007ffff6fc7d2a in QMetaObject::activate(QObject*, int, int, void**) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5</span>\n<span class=\"c1\">#5  0x00007ffff6fd21a5 in QSignalMapper::mapped(QString const&amp;) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5</span>\n<span class=\"c1\">#6  0x00007ffff6fd36f2 in QSignalMapper::map(QObject*) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5</span>\n<span class=\"c1\">#7  0x00007ffff6fc7d2a in QMetaObject::activate(QObject*, int, int, void**) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5</span>\n<span class=\"c1\">#8  0x00007ffff760b412 in QAction::triggered(bool) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#9  0x00007ffff760d898 in QAction::activate(QAction::ActionEvent) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#10 0x00007ffff778fe52 in ?? () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#11 0x00007ffff77960ec in ?? () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#12 0x00007ffff779a060 in QMenu::mouseReleaseEvent(QMouseEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#13 0x00007ffff7657fc8 in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#14 0x00007ffff779aab3 in QMenu::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#15 0x00007ffff761505c in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#16 0x00007ffff761ac19 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#17 0x00007ffff6f9938b in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5</span>\n<span class=\"c1\">#18 0x00007ffff7619b32 in QApplicationPrivate::sendMouseEvent(QWidget*, QMouseEvent*, QWidget*, QWidget*, QWidget**, QPointer&lt;QWidget&gt;&amp;, bool) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#19 0x00007ffff767291d in ?? () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#20 0x00007ffff7674b7b in ?? () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#21 0x00007ffff761505c in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#22 0x00007ffff761a516 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Widgets.so.5</span>\n<span class=\"c1\">#23 0x00007ffff6f9938b in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5</span>\n<span class=\"c1\">#24 0x00007ffff53ad4e1 in QGuiApplicationPrivate::processMouseEvent(QWindowSystemInterfacePrivate::MouseEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5</span>\n<span class=\"c1\">#25 0x00007ffff53af1a5 in QGuiApplicationPrivate::processWindowSystemEvent(QWindowSystemInterfacePrivate::WindowSystemEvent*) () from /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5</span>\n<span class=\"c1\">#26 0x00007ffff5392f08 in QWindowSystemInterface::sendWindowSystemEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQt5Gui.so.5</span>\n<span class=\"c1\">#27 0x00007ffff7ead200 in ?? () from /usr/lib/x86_64-linux-gnu/libQt5XcbQpa.so.5</span>\n<span class=\"c1\">#28 0x00007ffff4a98197 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0</span>\n<span class=\"c1\">#29 0x00007ffff4a983f0 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0</span>\n<span class=\"c1\">#30 0x00007ffff4a9849c in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0</span>\n<span class=\"c1\">#31 0x00007ffff6fef7cf in QEventDispatcherGlib::processEvents(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5</span>\n<span class=\"c1\">#32 0x00007ffff6f96b4a in QEventLoop::exec(QFlags&lt;QEventLoop::ProcessEventsFlag&gt;) () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5</span>\n<span class=\"c1\">#33 0x00007ffff6f9ebec in QCoreApplication::exec() () from /usr/lib/x86_64-linux-gnu/libQt5Core.so.5</span>\n<span class=\"c1\">#34 0x00007ffff7b86790 in ignition::gui::runMainWindow () at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/src/ign_gui/src/Iface.cc:659</span>\n<span class=\"c1\">#35 0x000000000040163e in main (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at /home/andres/OSRF/DrakeFrontEnd/delphyne_ws/src/delphyne_gui/visualizer/visualizer.cc:102</span>\n</pre></div>\n\n\n<ul>\n<li>Our class is defined as:</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><span class=\"kr\">class</span> <span class=\"nx\">RenderWidget</span> : <span class=\"kt\">public</span> <span class=\"nx\">ignition</span><span class=\"o\">::</span><span class=\"nx\">gui</span><span class=\"o\">::</span><span class=\"nx\">Plugin</span> <span class=\"p\">{</span>\n  <span class=\"nx\">Q_OBJECT</span>\n\n <span class=\"kr\">public</span><span class=\"o\">:</span>\n  <span class=\"c1\">/// \\brief Default constructor.</span>\n  <span class=\"nx\">explicit</span> <span class=\"nx\">RenderWidget</span><span class=\"p\">(</span><span class=\"nx\">QWidget</span><span class=\"o\">*</span> <span class=\"nx\">parent</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">);</span>\n<span class=\"p\">[...]</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>and</p>\n<div class=\"codehilite\"><pre><span></span>RenderWidget::RenderWidget(QWidget* parent)\n    : Plugin(), initializedScene(false), engine(nullptr) {\n[...]\n}\n</pre></div>\n\n\n<p>And of course, let me know if you need more info. Any pointers / hints will be greatly appreciated.</p>", "type": "rendered"}, "assignee": null, "state": "invalid", "version": null, "edited_on": null, "created_on": "2018-01-24T20:42:57.028825+00:00", "milestone": null, "updated_on": "2018-01-25T19:35:05.347350+00:00", "type": "issue", "id": 25}