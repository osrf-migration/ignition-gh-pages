{"pagelen": 50, "values": [{"update": {"description": "This needs [this](#!/ignitionrobotics/ign-common/pull-requests/73) Ignition Common pull request.\r\n\r\nRelated to issue #11\r\n\r\n## Context\r\n\r\nIgnition common's plugin framework is going through changes to make sure shared libraries are properly unloaded when they are no longer being used. To achieve this, the plugin framework needs to keep ownership of the interfaces it provides. To that end, it only makes shared pointers available, and when those pointers are released, the library is unloaded.\r\n\r\n## Problem\r\n\r\nQt likes to keep ownership of its objects. So as long as our plugin interfaces are `QObject`s, we need to share the interface's  underlying raw pointer.\r\n\r\n## The \"right\" solution\r\n\r\n@mxgrey has a lot of detailed insights on issue #11, and proposed a solution which involves having the interface not be a `QObject`, but a factory of `QObject`s.\r\n\r\nWhile the proposed solution sounds robust, it would require changes on ign-common and ign-gui. And, arguably more importantly, on user code.\r\n\r\nSo I propose we keep the factory approach in mind, but for now implement a less invasive solution just to make sure we don't block ign-common's progress. Once the plugin framework is more complete, we can revisit this and see if the factory approach still makes sense.\r\n\r\n## The current solution\r\n\r\nThe approach on this pull request is based on the following goals:\r\n\r\n1. Never let Qt delete our plugins\r\n\r\n    > This is achieved by intercepting close/reject events on plugin parents (`Dock`s and `Dialog`s) and removing the plugin from the parent before the parent dies.\r\n\r\n2. Detect when Qt would like to delete the plugin and release our `shared_ptr` so ign-common can unload the library if needed\r\n\r\n    > This is done by emitting a `Closing` signal", "title": "Use Ignition Common's new plugin framework", "destination": {"commit": {"hash": "709d1e3dc7b1", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/commit/709d1e3dc7b1.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/commits/709d1e3dc7b1"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4a787839fcf9", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/commit/4a787839fcf9.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/commits/4a787839fcf9"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "branch": {"name": "new_plugin_framework"}}, "state": "MERGED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-11-17T17:07:47.536996+00:00"}, "pull_request": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65/comments/49888403.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65/_/diff#comment-49888403"}}, "parent": {"id": 49835464, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65/comments/49835464.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65/_/diff#comment-49835464"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}, "content": {"raw": "Thanks for the quick review!", "markup": "markdown", "html": "<p>Thanks for the quick review!</p>", "type": "rendered"}, "created_on": "2017-11-17T17:07:40.379832+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-11-17T17:07:40.383040+00:00", "type": "pullrequest_comment", "id": 49888403}, "pull_request": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65/comments/49835464.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65/_/diff#comment-49835464"}}, "parent": {"id": 49821705, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65/comments/49821705.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65/_/diff#comment-49821705"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}, "content": {"raw": "makes sense to me", "markup": "markdown", "html": "<p>makes sense to me</p>", "type": "rendered"}, "created_on": "2017-11-17T08:42:24.950306+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-11-17T08:42:24.957576+00:00", "type": "pullrequest_comment", "id": 49835464}, "pull_request": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}}, {"approval": {"date": "2017-11-17T08:42:16.483957+00:00", "pullrequest": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}, "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}}, "pull_request": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}}, {"comment": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65/comments/49821705.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65/_/diff#comment-49821705"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}, "content": {"raw": "It would be great to get at least one review here, so ign-gui isn't broken for too long. Looking at you, approvers of the ign-common PR, @mxgrey @scpeters @nkoenig ", "markup": "markdown", "html": "<p>It would be great to get at least one review here, so ign-gui isn't broken for too long. Looking at you, approvers of the ign-common PR, @mxgrey @scpeters @nkoenig </p>", "type": "rendered"}, "created_on": "2017-11-17T03:21:07.841635+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-11-17T03:21:07.855393+00:00", "type": "pullrequest_comment", "id": 49821705}, "pull_request": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}}, {"update": {"description": "This needs [this](#!/ignitionrobotics/ign-common/pull-requests/73) Ignition Common pull request.\r\n\r\nRelated to issue #11\r\n\r\n## Context\r\n\r\nIgnition common's plugin framework is going through changes to make sure shared libraries are properly unloaded when they are no longer being used. To achieve this, the plugin framework needs to keep ownership of the interfaces it provides. To that end, it only makes shared pointers available, and when those pointers are released, the library is unloaded.\r\n\r\n## Problem\r\n\r\nQt likes to keep ownership of its objects. So as long as our plugin interfaces are `QObject`s, we need to share the interface's  underlying raw pointer.\r\n\r\n## The \"right\" solution\r\n\r\n@mxgrey has a lot of detailed insights on issue #11, and proposed a solution which involves having the interface not be a `QObject`, but a factory of `QObject`s.\r\n\r\nWhile the proposed solution sounds robust, it would require changes on ign-common and ign-gui. And, arguably more importantly, on user code.\r\n\r\nSo I propose we keep the factory approach in mind, but for now implement a less invasive solution just to make sure we don't block ign-common's progress. Once the plugin framework is more complete, we can revisit this and see if the factory approach still makes sense.\r\n\r\n## The current solution\r\n\r\nThe approach on this pull request is based on the following goals:\r\n\r\n1. Never let Qt delete our plugins\r\n\r\n    > This is achieved by intercepting close/reject events on plugin parents (`Dock`s and `Dialog`s) and removing the plugin from the parent before the parent dies.\r\n\r\n2. Detect when Qt would like to delete the plugin and release our `shared_ptr` so ign-common can unload the library if needed\r\n\r\n    > This is done by emitting a `Closing` signal", "title": "Use Ignition Common's new plugin framework", "destination": {"commit": {"hash": "709d1e3dc7b1", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/commit/709d1e3dc7b1.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/commits/709d1e3dc7b1"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4a787839fcf9", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/commit/4a787839fcf9.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/commits/4a787839fcf9"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "branch": {"name": "new_plugin_framework"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-11-17T03:17:58.357601+00:00"}, "pull_request": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}}, {"update": {"description": "This needs [this](#!/ignitionrobotics/ign-common/pull-requests/73) Ignition Common pull request.\r\n\r\nRelated to issue #11\r\n\r\n## Context\r\n\r\nIgnition common's plugin framework is going through changes to make sure shared libraries are properly unloaded when they are no longer being used. To achieve this, the plugin framework needs to keep ownership of the interfaces it provides. To that end, it only makes shared pointers available, and when those pointers are released, the library is unloaded.\r\n\r\n## Problem\r\n\r\nQt likes to keep ownership of its objects. So as long as our plugin interfaces are `QObject`s, we need to share the interface's  underlying raw pointer.\r\n\r\n## The \"right\" solution\r\n\r\n@mxgrey has a lot of detailed insights on issue #11, and proposed a solution which involves having the interface not be a `QObject`, but a factory of `QObject`s.\r\n\r\nWhile the proposed solution sounds robust, it would require changes on ign-common and ign-gui. And, arguably more importantly, on user code.\r\n\r\nSo I propose we keep the factory approach in mind, but for now implement a less invasive solution just to make sure we don't block ign-common's progress. Once the plugin framework is more complete, we can revisit this and see if the factory approach still makes sense.\r\n\r\n## The current solution\r\n\r\nThe approach on this pull request is based on the following goals:\r\n\r\n1. Never let Qt delete our plugins\r\n\r\n    > This is achieved by intercepting close/reject events on plugin parents (`Dock`s and `Dialog`s) and removing the plugin from the parent before the parent dies.\r\n\r\n2. Detect when Qt would like to delete the plugin and release our `shared_ptr` so ign-common can unload the library if needed\r\n\r\n    > This is done by emitting a `Closing` signal", "title": "Use Ignition Common's new plugin framework", "destination": {"commit": {"hash": "709d1e3dc7b1", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/commit/709d1e3dc7b1.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/commits/709d1e3dc7b1"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4a787839fcf9", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/commit/4a787839fcf9.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/commits/4a787839fcf9"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "branch": {"name": "new_plugin_framework"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-11-17T03:17:58.278996+00:00"}, "pull_request": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}}, {"update": {"description": "This needs [this](#!/ignitionrobotics/ign-common/pull-requests/73) Ignition Common pull request.\r\n\r\nRelated to issue #11\r\n\r\n## Context\r\n\r\nIgnition common's plugin framework is going through changes to make sure shared libraries are properly unloaded when they are no longer being used. To achieve this, the plugin framework needs to keep ownership of the interfaces it provides. To that end, it only makes shared pointers available, and when those pointers are released, the library is unloaded.\r\n\r\n## Problem\r\n\r\nQt likes to keep ownership of its objects. So as long as our plugin interfaces are `QObject`s, we need to share the interface's  underlying raw pointer.\r\n\r\n## The \"right\" solution\r\n\r\n@mxgrey has a lot of detailed insights on issue #11, and proposed a solution which involves having the interface not be a `QObject`, but a factory of `QObject`s.\r\n\r\nWhile the proposed solution sounds robust, it would require changes on ign-common and ign-gui. And, arguably more importantly, on user code.\r\n\r\nSo I propose we keep the factory approach in mind, but for now implement a less invasive solution just to make sure we don't block ign-common's progress. Once the plugin framework is more complete, we can revisit this and see if the factory approach still makes sense.\r\n\r\n## The current solution\r\n\r\nThe approach on this pull request is based on the following goals:\r\n\r\n1. Never let Qt delete our plugins\r\n\r\n    > This is achieved by intercepting close/reject events on plugin parents (`Dock`s and `Dialog`s) and removing the plugin from the parent before the parent dies.\r\n\r\n2. Detect when Qt would like to delete the plugin and release our `shared_ptr` so ign-common can unload the library if needed\r\n\r\n    > This is done by emitting a `Closing` signal", "title": "Use Ignition Common's new plugin framework", "destination": {"commit": {"hash": "709d1e3dc7b1", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/commit/709d1e3dc7b1.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/commits/709d1e3dc7b1"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c7d73d8a6d73", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/commit/c7d73d8a6d73.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/commits/c7d73d8a6d73"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "branch": {"name": "new_plugin_framework"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-11-16T17:44:58.183489+00:00"}, "pull_request": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}}, {"update": {"description": "This needs [this](#!/ignitionrobotics/ign-common/pull-requests/73) Ignition Common pull request.\r\n\r\nRelated to issue #11\r\n\r\n## Context\r\n\r\nIgnition common's plugin framework is going through changes to make sure shared libraries are properly unloaded when they are no longer being used. To achieve this, the plugin framework needs to keep ownership of the interfaces it provides. To that end, it only makes shared pointers available, and when those pointers are released, the library is unloaded.\r\n\r\n## Problem\r\n\r\nQt likes to keep ownership of its objects. So as long as our plugin interfaces are `QObject`s, we need to share the interface's  underlying raw pointer.\r\n\r\n## The \"right\" solution\r\n\r\n@mxgrey has a lot of detailed insights on issue #11, and proposed a solution which involves having the interface not be a `QObject`, but a factory of `QObject`s.\r\n\r\nWhile the proposed solution sounds robust, it would require changes on ign-common and ign-gui. And, arguably more importantly, on user code.\r\n\r\nSo I propose we keep the factory approach in mind, but for now implement a less invasive solution just to make sure we don't block ign-common's progress. Once the plugin framework is more complete, we can revisit this and see if the factory approach still makes sense.\r\n\r\n## The current solution\r\n\r\nThe approach on this pull request is based on the following goals:\r\n\r\n1. Never let Qt delete our plugins\r\n\r\n    > This is achieved by intercepting close/reject events on plugin parents (`Dock`s and `Dialog`s) and removing the plugin from the parent before the parent dies.\r\n\r\n2. Detect when Qt would like to delete the plugin and release our `shared_ptr` so ign-common can unload the library if needed\r\n\r\n    > This is done by emitting a `Closing` signal", "title": "Use Ignition Common's new plugin framework", "destination": {"commit": {"hash": "709d1e3dc7b1", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/commit/709d1e3dc7b1.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/commits/709d1e3dc7b1"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1898c0688e30", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/commit/1898c0688e30.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/commits/1898c0688e30"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "branch": {"name": "new_plugin_framework"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-11-16T00:28:54.070872+00:00"}, "pull_request": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}}, {"update": {"description": "This needs [this](#!/ignitionrobotics/ign-common/pull-requests/73) Ignition Common pull request.\r\n\r\nRelated to issue #11\r\n\r\n## Context\r\n\r\nIgnition common's plugin framework is going through changes to make sure shared libraries are properly unloaded when they are no longer being used. To achieve this, the plugin framework needs to keep ownership of the interfaces it provides. To that end, it only makes shared pointers available, and when those pointers are released, the library is unloaded.\r\n\r\n## Problem\r\n\r\nQt likes to keep ownership of its objects. So as long as our plugin interfaces are `QObject`s, we need to share the interface's  underlying raw pointer.\r\n\r\n## The \"right\" solution\r\n\r\n@mxgrey has a lot of detailed insights on issue #11, and proposed a solution which involves having the interface not be a `QObject`, but a factory of `QObject`s.\r\n\r\nWhile the proposed solution sounds robust, it would require changes on ign-common and ign-gui. And, arguably more importantly, on user code.\r\n\r\nSo I propose we keep the factory approach in mind, but for now implement a less invasive solution just to make sure we don't block ign-common's progress. Once the plugin framework is more complete, we can revisit this and see if the factory approach still makes sense.\r\n\r\n## The current solution\r\n\r\nThe approach on this pull request is based on the following goals:\r\n\r\n1. Never let Qt delete our plugins\r\n\r\n    > This is achieved by intercepting close/reject events on plugin parents (`Dock`s and `Dialog`s) and removing the plugin from the parent before the parent dies.\r\n\r\n2. Detect when Qt would like to delete the plugin and release our `shared_ptr` so ign-common can unload the library if needed\r\n\r\n    > This is done by emitting a `Closing` signal", "title": "Use Ignition Common's new plugin framework", "destination": {"commit": {"hash": "709d1e3dc7b1", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/commit/709d1e3dc7b1.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/commits/709d1e3dc7b1"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1898c0688e30", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/commit/1898c0688e30.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/commits/1898c0688e30"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}ts=1406854"}}, "type": "repository", "name": "ign-gui", "full_name": "ignitionrobotics/ign-gui", "uuid": "{d80b97c2-f3f9-42b2-86b0-8c1fd4aa845f}"}, "branch": {"name": "new_plugin_framework"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-11-16T00:28:54.040568+00:00"}, "pull_request": {"type": "pullrequest", "id": 65, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/65.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/65"}}, "title": "Use Ignition Common's new plugin framework"}}]}