{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/137/comments/70524530.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/137/_/diff#comment-70524530"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 137, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-gui/pullrequests/137.json"}, "html": {"href": "#!/ignitionrobotics/ign-gui/pull-requests/137"}}, "title": "First version of Displays widget with sample DisplayPlugins"}, "content": {"raw": "Some styling changes for your consideration:\n\n\n![displaypluginstyling.gif](data/bitbucket.org/repo/64K5zaR/images/1355693350-displaypluginstyling.gif)\n\n~~~\ndiff -r f166f79d5e52 src/DisplayPlugin.cc\n--- a/src/DisplayPlugin.cc      Mon Jul 09 18:34:07 2018 -0700\n+++ b/src/DisplayPlugin.cc      Thu Jul 19 18:07:20 2018 -0700\n@@ -141,7 +141,8 @@\n QWidget *DisplayPlugin::CreateProperties() const\n {\n   auto propertiesLayout = new QHBoxLayout();\n-  auto propertiesWidget = new QWidget();\n+  propertiesLayout->setContentsMargins(0, 0, 0, 0);\n+  propertiesLayout->setSpacing(0);\n \n   // Create generic configuration options for all display plugins.\n   auto visibleCheck = new QCheckBox(QString::fromStdString(this->title));\n@@ -150,7 +151,13 @@\n   visibleCheck->setChecked(this->dataPtr->visible);\n   this->connect(visibleCheck,\n     SIGNAL(toggled(bool)), this, SLOT(OnVisibilityChange(bool)));\n-  propertiesLayout->addWidget(visibleCheck);\n+\n+  auto checkLayout = new QVBoxLayout();\n+  checkLayout->addWidget(visibleCheck);\n+  checkLayout->setContentsMargins(5, 10, 5, 0);\n+\n+  propertiesLayout->addLayout(checkLayout);\n+  propertiesLayout->setAlignment(checkLayout, Qt::AlignTop);\n \n   // Create the custom configuration options for this specific display plugin.\n   auto customProperties = this->CreateCustomProperties();\n@@ -168,6 +175,8 @@\n     collapsible->AppendContent(customProperties);\n     propertiesLayout->addWidget(collapsible);\n   }\n+\n+  auto propertiesWidget = new QWidget();\n   propertiesWidget->setLayout(propertiesLayout);\n \n   return propertiesWidget;\ndiff -r f166f79d5e52 src/plugins/Displays.cc\n--- a/src/plugins/Displays.cc   Mon Jul 09 18:34:07 2018 -0700\n+++ b/src/plugins/Displays.cc   Thu Jul 19 18:07:20 2018 -0700\n@@ -125,9 +125,12 @@\n   scrollArea->setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Expanding);\n \n   auto layout = new QVBoxLayout();\n+  layout->setContentsMargins(0, 0, 0, 0);\n+  layout->setSpacing(0);\n   layout->addWidget(scrollArea);\n \n   this->setLayout(layout);\n+  this->setMinimumWidth(550);\n }\n \n // Register this plugin \n~~~", "markup": "markdown", "html": "<p>Some styling changes for your consideration:</p>\n<p><img alt=\"displaypluginstyling.gif\" src=\"data/bitbucket.org/repo/64K5zaR/images/1355693350-displaypluginstyling.gif\" /></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r f166f79d5e52 src/DisplayPlugin.cc</span>\n<span class=\"gd\">--- a/src/DisplayPlugin.cc      Mon Jul 09 18:34:07 2018 -0700</span>\n<span class=\"gi\">+++ b/src/DisplayPlugin.cc      Thu Jul 19 18:07:20 2018 -0700</span>\n<span class=\"gu\">@@ -141,7 +141,8 @@</span>\n QWidget *DisplayPlugin::CreateProperties() const\n {\n   auto propertiesLayout = new QHBoxLayout();\n<span class=\"gd\">-  auto propertiesWidget = new QWidget();</span>\n<span class=\"gi\">+  propertiesLayout-&gt;setContentsMargins(0, 0, 0, 0);</span>\n<span class=\"gi\">+  propertiesLayout-&gt;setSpacing(0);</span>\n\n   // Create generic configuration options for all display plugins.\n   auto visibleCheck = new QCheckBox(QString::fromStdString(this-&gt;title));\n<span class=\"gu\">@@ -150,7 +151,13 @@</span>\n   visibleCheck-&gt;setChecked(this-&gt;dataPtr-&gt;visible);\n   this-&gt;connect(visibleCheck,\n     SIGNAL(toggled(bool)), this, SLOT(OnVisibilityChange(bool)));\n<span class=\"gd\">-  propertiesLayout-&gt;addWidget(visibleCheck);</span>\n<span class=\"gi\">+</span>\n<span class=\"gi\">+  auto checkLayout = new QVBoxLayout();</span>\n<span class=\"gi\">+  checkLayout-&gt;addWidget(visibleCheck);</span>\n<span class=\"gi\">+  checkLayout-&gt;setContentsMargins(5, 10, 5, 0);</span>\n<span class=\"gi\">+</span>\n<span class=\"gi\">+  propertiesLayout-&gt;addLayout(checkLayout);</span>\n<span class=\"gi\">+  propertiesLayout-&gt;setAlignment(checkLayout, Qt::AlignTop);</span>\n\n   // Create the custom configuration options for this specific display plugin.\n   auto customProperties = this-&gt;CreateCustomProperties();\n<span class=\"gu\">@@ -168,6 +175,8 @@</span>\n     collapsible-&gt;AppendContent(customProperties);\n     propertiesLayout-&gt;addWidget(collapsible);\n   }\n<span class=\"gi\">+</span>\n<span class=\"gi\">+  auto propertiesWidget = new QWidget();</span>\n   propertiesWidget-&gt;setLayout(propertiesLayout);\n\n   return propertiesWidget;\n<span class=\"gh\">diff -r f166f79d5e52 src/plugins/Displays.cc</span>\n<span class=\"gd\">--- a/src/plugins/Displays.cc   Mon Jul 09 18:34:07 2018 -0700</span>\n<span class=\"gi\">+++ b/src/plugins/Displays.cc   Thu Jul 19 18:07:20 2018 -0700</span>\n<span class=\"gu\">@@ -125,9 +125,12 @@</span>\n   scrollArea-&gt;setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Expanding);\n\n   auto layout = new QVBoxLayout();\n<span class=\"gi\">+  layout-&gt;setContentsMargins(0, 0, 0, 0);</span>\n<span class=\"gi\">+  layout-&gt;setSpacing(0);</span>\n   layout-&gt;addWidget(scrollArea);\n\n   this-&gt;setLayout(layout);\n<span class=\"gi\">+  this-&gt;setMinimumWidth(550);</span>\n }\n\n // Register this plugin \n</pre></div>", "type": "rendered"}, "created_on": "2018-07-20T01:08:28.448624+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2018-07-20T01:08:28.455917+00:00", "type": "pullrequest_comment", "id": 70524530}