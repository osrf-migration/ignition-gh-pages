{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rndf/pullrequests/6/comments/53403868.json"}, "html": {"href": "#!/ignitionrobotics/ign-rndf/pull-requests/6/_/diff#comment-53403868"}}, "parent": {"id": 53403306, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rndf/pullrequests/6/comments/53403306.json"}, "html": {"href": "#!/ignitionrobotics/ign-rndf/pull-requests/6/_/diff#comment-53403306"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 6, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rndf/pullrequests/6.json"}, "html": {"href": "#!/ignitionrobotics/ign-rndf/pull-requests/6"}}, "title": "Ign cmake"}, "content": {"raw": "In `ign-common`, we're super-targeting the suppression using the `IGN_COMMON_WARN_IGNORE__DLL_INTERFACE_MISSING` and `IGN_COMMON_WARN_RESUME__DLL_INTERFACE_MISSING` macros. Only the exact line that contains the PIMPL pointer gets the warning suppression. That's the ideal fix for this warning.\n\nThe current approach in this branch, where we wrap the entire header in the warning suppression, is effectively the same as just using the `target_compile_options(...)` approach, because the warning can only ever apply to classes that are in those headers. To get this branch as targeted as `ign-common`, we would need to put those `#ifdef` blocks directly around the PIMPL pointer line (or else reimplement a simpler version of the suppression macros that are defined in `ign-common`).\n\nWhenever possible, I prefer to not have gross `#ifdef <PLATFORM>` statements in the public-facing headers, because I don't want users to have to see those, so I'd suggest using the `target_compile_options(~)` approach instead.", "markup": "markdown", "html": "<p>In <code>ign-common</code>, we're super-targeting the suppression using the <code>IGN_COMMON_WARN_IGNORE__DLL_INTERFACE_MISSING</code> and <code>IGN_COMMON_WARN_RESUME__DLL_INTERFACE_MISSING</code> macros. Only the exact line that contains the PIMPL pointer gets the warning suppression. That's the ideal fix for this warning.</p>\n<p>The current approach in this branch, where we wrap the entire header in the warning suppression, is effectively the same as just using the <code>target_compile_options(...)</code> approach, because the warning can only ever apply to classes that are in those headers. To get this branch as targeted as <code>ign-common</code>, we would need to put those <code>#ifdef</code> blocks directly around the PIMPL pointer line (or else reimplement a simpler version of the suppression macros that are defined in <code>ign-common</code>).</p>\n<p>Whenever possible, I prefer to not have gross <code>#ifdef &lt;PLATFORM&gt;</code> statements in the public-facing headers, because I don't want users to have to see those, so I'd suggest using the <code>target_compile_options(~)</code> approach instead.</p>", "type": "rendered"}, "created_on": "2018-01-10T21:45:20.826747+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-01-10T21:46:18.926234+00:00", "type": "pullrequest_comment", "id": 53403868}