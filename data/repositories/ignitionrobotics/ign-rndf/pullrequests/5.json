{"rendered": {"description": {"raw": "One of the tests has been failing in a flaky way (#3), and I tracked it down to the `trimWhitespaces` function. It appears to fail sometimes when trimming whitespace from a line that is entirely a comment, such as:\r\n\r\n~~~\r\n/* ------------ */\r\n~~~\r\n\r\nAfter removing the comment, the string is empty, but `front()` and `back()` are called on the string, even though the [behavior is undefined for empty strings](http://en.cppreference.com/w/cpp/string/basic_string/front). So this checks if they are empty first and fixes the flakiness on homebrew for me.", "markup": "markdown", "html": "<p>One of the tests has been failing in a flaky way (<a href=\"#!/ignitionrobotics/ign-rndf/issues/3/flaky-test-failure-of-rndfloadsamples\" rel=\"nofollow\" title=\"Flaky test failure of RNDF.loadSamples (UNIT_RNDF_TEST) on homebrew\" class=\"ap-connect-link\"><s>#3</s></a>), and I tracked it down to the <code>trimWhitespaces</code> function. It appears to fail sometimes when trimming whitespace from a line that is entirely a comment, such as:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cm\">/* ------------ */</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>After removing the comment, the string is empty, but <code>front()</code> and <code>back()</code> are called on the string, even though the <a data-is-external-link=\"true\" href=\"http://en.cppreference.com/w/cpp/string/basic_string/front\" rel=\"nofollow\">behavior is undefined for empty strings</a>. So this checks if they are empty first and fixes the flakiness on homebrew for me.</p>", "type": "rendered"}, "title": {"raw": "Fix #3: check if string is empty before calling front() and back()", "markup": "markdown", "html": "<p>Fix <a href=\"#!/ignitionrobotics/ign-rndf/issues/3/flaky-test-failure-of-rndfloadsamples\" rel=\"nofollow\" title=\"Flaky test failure of RNDF.loadSamples (UNIT_RNDF_TEST) on homebrew\" class=\"ap-connect-link\"><s>#3</s></a>: check if string is empty before calling front() and back()</p>", "type": "rendered"}}, "type": "pullrequest", "description": "One of the tests has been failing in a flaky way (#3), and I tracked it down to the `trimWhitespaces` function. It appears to fail sometimes when trimming whitespace from a line that is entirely a comment, such as:\r\n\r\n~~~\r\n/* ------------ */\r\n~~~\r\n\r\nAfter removing the comment, the string is empty, but `front()` and `back()` are called on the string, even though the [behavior is undefined for empty strings](http://en.cppreference.com/w/cpp/string/basic_string/front). So this checks if they are empty first and fixes the flakiness on homebrew for me.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rndf/pullrequests/5/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rndf/diffstat/ignitionrobotics/ign-rndf:70271739e045%0D6c40bc792d5d?from_pullrequest_id=5"}, "commits": {"href": "data/repositories/ignitionrobotics/ign-rndf/pullrequests/5/commits.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-rndf/pullrequests/5.json"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-rndf/pullrequests/5/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rndf/pullrequests/5/merge"}, "html": {"href": "#!/ignitionrobotics/ign-rndf/pull-requests/5"}, "activity": {"href": "data/repositories/ignitionrobotics/ign-rndf/pullrequests/5/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rndf/diff/ignitionrobotics/ign-rndf:70271739e045%0D6c40bc792d5d?from_pullrequest_id=5"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-rndf/pullrequests/5/approve"}, "statuses": {"href": "data/repositories/ignitionrobotics/ign-rndf/pullrequests/5/statuses_page=1.json"}}, "title": "Fix #3: check if string is empty before calling front() and back()", "close_source_branch": true, "reviewers": [], "id": 5, "destination": {"commit": {"hash": "6c40bc792d5d", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rndf/commit/6c40bc792d5d.json"}, "html": {"href": "#!/ignitionrobotics/ign-rndf/commits/6c40bc792d5d"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rndf.json"}, "html": {"href": "#!/ignitionrobotics/ign-rndf"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1ea8a188-577c-4b20-b2fe-fa11d563d06e}ts=c_plus_plus"}}, "type": "repository", "name": "ign-rndf", "full_name": "ignitionrobotics/ign-rndf", "uuid": "{1ea8a188-577c-4b20-b2fe-fa11d563d06e}"}, "branch": {"name": "default"}}, "created_on": "2017-05-25T08:53:56.345341+00:00", "summary": {"raw": "One of the tests has been failing in a flaky way (#3), and I tracked it down to the `trimWhitespaces` function. It appears to fail sometimes when trimming whitespace from a line that is entirely a comment, such as:\r\n\r\n~~~\r\n/* ------------ */\r\n~~~\r\n\r\nAfter removing the comment, the string is empty, but `front()` and `back()` are called on the string, even though the [behavior is undefined for empty strings](http://en.cppreference.com/w/cpp/string/basic_string/front). So this checks if they are empty first and fixes the flakiness on homebrew for me.", "markup": "markdown", "html": "<p>One of the tests has been failing in a flaky way (<a href=\"#!/ignitionrobotics/ign-rndf/issues/3/flaky-test-failure-of-rndfloadsamples\" rel=\"nofollow\" title=\"Flaky test failure of RNDF.loadSamples (UNIT_RNDF_TEST) on homebrew\" class=\"ap-connect-link\"><s>#3</s></a>), and I tracked it down to the <code>trimWhitespaces</code> function. It appears to fail sometimes when trimming whitespace from a line that is entirely a comment, such as:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cm\">/* ------------ */</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>After removing the comment, the string is empty, but <code>front()</code> and <code>back()</code> are called on the string, even though the <a data-is-external-link=\"true\" href=\"http://en.cppreference.com/w/cpp/string/basic_string/front\" rel=\"nofollow\">behavior is undefined for empty strings</a>. So this checks if they are empty first and fixes the flakiness on homebrew for me.</p>", "type": "rendered"}, "source": {"commit": {"hash": "df24da0aa7d6", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rndf/commit/df24da0aa7d6.json"}, "html": {"href": "#!/ignitionrobotics/ign-rndf/commits/df24da0aa7d6"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rndf.json"}, "html": {"href": "#!/ignitionrobotics/ign-rndf"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1ea8a188-577c-4b20-b2fe-fa11d563d06e}ts=c_plus_plus"}}, "type": "repository", "name": "ign-rndf", "full_name": "ignitionrobotics/ign-rndf", "uuid": "{1ea8a188-577c-4b20-b2fe-fa11d563d06e}"}, "branch": {"name": "issue_3"}}, "comment_count": 1, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2017-05-25T17:19:10.044057+00:00", "type": "participant", "approved": true, "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}], "reason": "", "updated_on": "2017-05-25T17:19:30.881652+00:00", "author": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "merge_commit": {"hash": "70271739e045", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-rndf/commit/70271739e045.json"}, "html": {"href": "#!/ignitionrobotics/ign-rndf/commits/70271739e045"}}}, "closed_by": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}}