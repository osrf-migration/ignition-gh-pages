{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{63a01c4f-5625-443b-96f0-73c4005ccada}ts=c_plus_plus"}}, "type": "repository", "name": "ign-physics", "full_name": "ignitionrobotics/ign-physics", "uuid": "{63a01c4f-5625-443b-96f0-73c4005ccada}"}, "links": {"attachments": {"href": "data/repositories/ignitionrobotics/ign-physics/issues/23/attachments_page=1.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-physics/issues/23.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-physics/issues/23/watch"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-physics/issues/23/comments_page=1.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics/issues/23/fedora-compilation-failed"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-physics/issues/23/vote"}}, "reporter": {"display_name": "Til Hoff", "uuid": "{5b5196a3-571e-4e4c-bed3-6f72e4dabba8}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5b5196a3-571e-4e4c-bed3-6f72e4dabba8%7D"}, "html": {"href": "https://bitbucket.org/%7B5b5196a3-571e-4e4c-bed3-6f72e4dabba8%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1835281ac000de88eb0ed5f38cd82eaed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTH-5.png"}}, "nickname": "turakar", "type": "user", "account_id": "557058:0928ff78-c705-4502-bf3b-52e34e5508f2"}, "title": "[Fedora] Compilation failed: Incompatibilities with DART", "component": null, "votes": 0, "watches": 1, "content": {"raw": "# Description\r\n\r\nIgnition cannot be compiled because ign-physics fails.\r\n\r\n# Steps to reproduce\r\n\r\n* set up Fedora 29 system\r\n* install dependencies\r\n\r\n```\r\nsudo dnf install cmake freeglut-devel ffmpeg-devel freeimage-devel gflags-devel glew-devel gts-devel ogre-devel protobuf-devel protobuf-c-devel qt5 tinyxml2-devel tinyxml-devel pkg-config protobuf-compiler python qt5-qtquickcontrols qt5-qtquickcontrols2 qt5-devel qt5-qtdeclarative-devel qt5-qtquickcontrols2-devel ruby rubygem-ronn uuid-devel libzip-devel jsoncpp-devel libcurl-devel libyaml-devel czmq-devel cppzmq-devel sqlite-devel libwebsockets-devel eigen3-devel\r\n```\r\n\r\n* compile [DART from source](http://dartsim.github.io/install_dart_on_ubuntu.html)\r\n* compile [ignition from source](https://www.ignitionrobotics.org/docs/latest/install)\r\n\r\n**Expected behaviour**\r\n\r\nign-physics compiles successfully.\r\n\r\n**Actual behaviour**\r\n\r\nCompilation gives errors:\r\n\r\n```\r\n--- stderr: ignition-physics1                                                                                        \r\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/CustomMeshShape.cc: In constructor &#39;ignition::physics::dartsim::CustomMeshShape::CustomMeshShape(const ignition::common::Mesh&amp;, const Vector3d&amp;)&#39;:\r\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/CustomMeshShape.cc:207:45: error: &#39;ai_real&#39; does not name a type\r\n         mesh-&gt;mVertices[j][k] = static_cast&lt;ai_real&gt;(v[k]);\r\n                                             ^~~~~~~\r\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/CustomMeshShape.cc:211:44: error: &#39;ai_real&#39; does not name a type\r\n         mesh-&gt;mNormals[j][k] = static_cast&lt;ai_real&gt;(n[k]);\r\n                                            ^~~~~~~\r\ngmake[2]: *** [dartsim/CMakeFiles/ignition-physics1-dartsim-plugin.dir/build.make:76: dartsim/CMakeFiles/ignition-physics1-dartsim-plugin.dir/src/CustomMeshShape.cc.o] Error 1\r\ngmake[2]: *** Waiting for unfinished jobs....\r\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/SDFFeatures.cc: In member function &#39;virtual ignition::physics::Identity ignition::physics::dartsim::SDFFeatures::ConstructSdfCollision(const ignition::physics::Identity&amp;, const sdf::v8::Collision&amp;)&#39;:\r\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/SDFFeatures.cc:495:15: error: &#39;class dart::dynamics::DynamicsAspect&#39; has no member named &#39;setSecondaryFrictionCoeff&#39;; did you mean &#39;setFrictionCoeff&#39;?\r\n       aspect-&gt;setSecondaryFrictionCoeff(odeFriction-&gt;Get&lt;double&gt;(&#34;mu2&#34;));\r\n               ^~~~~~~~~~~~~~~~~~~~~~~~~\r\n               setFrictionCoeff\r\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/SDFFeatures.cc:499:15: error: &#39;class dart::dynamics::DynamicsAspect&#39; has no member named &#39;setSlipCompliance&#39;\r\n       aspect-&gt;setSlipCompliance(odeFriction-&gt;Get&lt;double&gt;(&#34;slip1&#34;));\r\n               ^~~~~~~~~~~~~~~~~\r\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/SDFFeatures.cc:503:15: error: &#39;class dart::dynamics::DynamicsAspect&#39; has no member named &#39;setSecondarySlipCompliance&#39;\r\n       aspect-&gt;setSecondarySlipCompliance(odeFriction-&gt;Get&lt;double&gt;(&#34;slip2&#34;));\r\n               ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/SDFFeatures.cc:508:15: error: &#39;class dart::dynamics::DynamicsAspect&#39; has no member named &#39;setFirstFrictionDirection&#39;\r\n       aspect-&gt;setFirstFrictionDirection(math::eigen3::convert(fdir1));\r\n               ^~~~~~~~~~~~~~~~~~~~~~~~~\r\ngmake[2]: *** [dartsim/CMakeFiles/ignition-physics1-dartsim-plugin.dir/build.make:154: dartsim/CMakeFiles/ignition-physics1-dartsim-plugin.dir/src/SDFFeatures.cc.o] Error 1\r\ngmake[1]: *** [CMakeFiles/Makefile2:2245: dartsim/CMakeFiles/ignition-physics1-dartsim-plugin.dir/all] Error 2\r\ngmake: *** [Makefile:141: all] Error 2\r\n---\r\nFailed   &lt;&lt;&lt; ignition-physics1  [ Exited with code 2 ]\r\nAborted  &lt;&lt;&lt; ignition-rendering2\r\n```\r\n\r\n# Versions\r\n\r\n* Fedora 29\r\n* tested DART versions: 6.9.2 \\(latest tag, not accepted by ign-physics\\), master, commit 45f8e776b7bbcd6b4e4b3ac91bfa45b2a9dfc861 \\(bump version to 6.10.0\\)\r\n* ign-physics 1.4.0", "markup": "markdown", "html": "<h1 id=\"markdown-header-description\">Description</h1>\n<p>Ignition cannot be compiled because ign-physics fails.</p>\n<h1 id=\"markdown-header-steps-to-reproduce\">Steps to reproduce</h1>\n<ul>\n<li>set up Fedora 29 system</li>\n<li>install dependencies</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>sudo dnf install cmake freeglut-devel ffmpeg-devel freeimage-devel gflags-devel glew-devel gts-devel ogre-devel protobuf-devel protobuf-c-devel qt5 tinyxml2-devel tinyxml-devel pkg-config protobuf-compiler python qt5-qtquickcontrols qt5-qtquickcontrols2 qt5-devel qt5-qtdeclarative-devel qt5-qtquickcontrols2-devel ruby rubygem-ronn uuid-devel libzip-devel jsoncpp-devel libcurl-devel libyaml-devel czmq-devel cppzmq-devel sqlite-devel libwebsockets-devel eigen3-devel\n</pre></div>\n\n\n<ul>\n<li>compile <a data-is-external-link=\"true\" href=\"http://dartsim.github.io/install_dart_on_ubuntu.html\" rel=\"nofollow\">DART from source</a></li>\n<li>compile <a data-is-external-link=\"true\" href=\"https://www.ignitionrobotics.org/docs/latest/install\" rel=\"nofollow\">ignition from source</a></li>\n</ul>\n<p><strong>Expected behaviour</strong></p>\n<p>ign-physics compiles successfully.</p>\n<p><strong>Actual behaviour</strong></p>\n<p>Compilation gives errors:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gd\">--- stderr: ignition-physics1                                                                                        </span>\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/CustomMeshShape.cc: In constructor &amp;#39;ignition::physics::dartsim::CustomMeshShape::CustomMeshShape(const ignition::common::Mesh&amp;amp;, const Vector3d&amp;amp;)&amp;#39;:\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/CustomMeshShape.cc:207:45: error: &amp;#39;ai_real&amp;#39; does not name a type\n         mesh-&amp;gt;mVertices[j][k] = static_cast&amp;lt;ai_real&amp;gt;(v[k]);\n                                             ^~~~~~~\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/CustomMeshShape.cc:211:44: error: &amp;#39;ai_real&amp;#39; does not name a type\n         mesh-&amp;gt;mNormals[j][k] = static_cast&amp;lt;ai_real&amp;gt;(n[k]);\n                                            ^~~~~~~\ngmake[2]: *** [dartsim/CMakeFiles/ignition-physics1-dartsim-plugin.dir/build.make:76: dartsim/CMakeFiles/ignition-physics1-dartsim-plugin.dir/src/CustomMeshShape.cc.o] Error 1\ngmake[2]: *** Waiting for unfinished jobs....\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/SDFFeatures.cc: In member function &amp;#39;virtual ignition::physics::Identity ignition::physics::dartsim::SDFFeatures::ConstructSdfCollision(const ignition::physics::Identity&amp;amp;, const sdf::v8::Collision&amp;amp;)&amp;#39;:\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/SDFFeatures.cc:495:15: error: &amp;#39;class dart::dynamics::DynamicsAspect&amp;#39; has no member named &amp;#39;setSecondaryFrictionCoeff&amp;#39;; did you mean &amp;#39;setFrictionCoeff&amp;#39;?\n       aspect-&amp;gt;setSecondaryFrictionCoeff(odeFriction-&amp;gt;Get&amp;lt;double&amp;gt;(&amp;#34;mu2&amp;#34;));\n               ^~~~~~~~~~~~~~~~~~~~~~~~~\n               setFrictionCoeff\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/SDFFeatures.cc:499:15: error: &amp;#39;class dart::dynamics::DynamicsAspect&amp;#39; has no member named &amp;#39;setSlipCompliance&amp;#39;\n       aspect-&amp;gt;setSlipCompliance(odeFriction-&amp;gt;Get&amp;lt;double&amp;gt;(&amp;#34;slip1&amp;#34;));\n               ^~~~~~~~~~~~~~~~~\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/SDFFeatures.cc:503:15: error: &amp;#39;class dart::dynamics::DynamicsAspect&amp;#39; has no member named &amp;#39;setSecondarySlipCompliance&amp;#39;\n       aspect-&amp;gt;setSecondarySlipCompliance(odeFriction-&amp;gt;Get&amp;lt;double&amp;gt;(&amp;#34;slip2&amp;#34;));\n               ^~~~~~~~~~~~~~~~~~~~~~~~~~\n/workspacepath/ignitionrobotics/ign-physics/dartsim/src/SDFFeatures.cc:508:15: error: &amp;#39;class dart::dynamics::DynamicsAspect&amp;#39; has no member named &amp;#39;setFirstFrictionDirection&amp;#39;\n       aspect-&amp;gt;setFirstFrictionDirection(math::eigen3::convert(fdir1));\n               ^~~~~~~~~~~~~~~~~~~~~~~~~\ngmake[2]: *** [dartsim/CMakeFiles/ignition-physics1-dartsim-plugin.dir/build.make:154: dartsim/CMakeFiles/ignition-physics1-dartsim-plugin.dir/src/SDFFeatures.cc.o] Error 1\ngmake[1]: *** [CMakeFiles/Makefile2:2245: dartsim/CMakeFiles/ignition-physics1-dartsim-plugin.dir/all] Error 2\ngmake: *** [Makefile:141: all] Error 2\n<span class=\"gd\">---</span>\nFailed   &amp;lt;&amp;lt;&amp;lt; ignition-physics1  [ Exited with code 2 ]\nAborted  &amp;lt;&amp;lt;&amp;lt; ignition-rendering2\n</pre></div>\n\n\n<h1 id=\"markdown-header-versions\">Versions</h1>\n<ul>\n<li>Fedora 29</li>\n<li>tested DART versions: 6.9.2 (latest tag, not accepted by ign-physics), master, commit <a href=\"#!/ignitionrobotics/ign-physics/commits/45f8e776b7bbcd6b4e4b3ac91bfa45b2a9dfc861\" rel=\"nofollow\" class=\"ap-connect-link\">45f8e776b7bbcd6b4e4b3ac91bfa45b2a9dfc861</a> (bump version to 6.10.0)</li>\n<li>ign-physics 1.4.0</li>\n</ul>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-09-08T19:11:39.097747+00:00", "milestone": null, "updated_on": "2019-09-10T09:12:54.185303+00:00", "type": "issue", "id": 23}