{"rendered": {"reason": {"raw": "Reopn on GitHub, see issue #28", "markup": "markdown", "html": "<p>Reopn on GitHub, see issue <a href=\"#!/ignitionrobotics/ign-physics/issues/28/reopen-pull-request-to-reduce-symbol-load\" rel=\"nofollow\" title=\"Reopen pull request to reduce symbol load\" class=\"ap-connect-link\">#28</a></p>", "type": "rendered"}, "description": {"raw": "This PR should greatly reduce the size and quantity of symbols that get generated by templates, likely by some orders of magnitude. It should also help make the size and quantity of symbols scale much much better \\(should be nearly constant \\[size\\] and linear \\[quantity\\] respectively now instead of linear \\[size\\] and squared \\[quantity\\]\\).\r\n\r\nI believe this has been the leading cause of slow compilation times, especially for GCC.\r\n\r\nI made a simple program [here](https://github.com/mxgrey/test_ign_physics) that instantiates every entity type with every existing feature in `ign-physics`, and using all headers provided by `ign-physics`. Before this PR, using gcc-8 it spent over an hour trying to compile on my XPS15 with no success. After this PR, using gcc-8 it compiles in just under 30 seconds. Clang is significantly better, compiling in 11 seconds after this PR.\r\n\r\nThere is still some cleanup to do, but I wanted to open this PR so the compilation times of `ign-gazebo` can be tested against it.", "markup": "markdown", "html": "<p>This PR should greatly reduce the size and quantity of symbols that get generated by templates, likely by some orders of magnitude. It should also help make the size and quantity of symbols scale much much better (should be nearly constant [size] and linear [quantity] respectively now instead of linear [size] and squared [quantity]).</p>\n<p>I believe this has been the leading cause of slow compilation times, especially for GCC.</p>\n<p>I made a simple program <a data-is-external-link=\"true\" href=\"https://github.com/mxgrey/test_ign_physics\" rel=\"nofollow\">here</a> that instantiates every entity type with every existing feature in <code>ign-physics</code>, and using all headers provided by <code>ign-physics</code>. Before this PR, using gcc-8 it spent over an hour trying to compile on my XPS15 with no success. After this PR, using gcc-8 it compiles in just under 30 seconds. Clang is significantly better, compiling in 11 seconds after this PR.</p>\n<p>There is still some cleanup to do, but I wanted to open this PR so the compilation times of <code>ign-gazebo</code> can be tested against it.</p>", "type": "rendered"}, "title": {"raw": "Reduce the symbol load caused by feature templates", "markup": "markdown", "html": "<p>Reduce the symbol load caused by feature templates</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This PR should greatly reduce the size and quantity of symbols that get generated by templates, likely by some orders of magnitude. It should also help make the size and quantity of symbols scale much much better \\(should be nearly constant \\[size\\] and linear \\[quantity\\] respectively now instead of linear \\[size\\] and squared \\[quantity\\]\\).\r\n\r\nI believe this has been the leading cause of slow compilation times, especially for GCC.\r\n\r\nI made a simple program [here](https://github.com/mxgrey/test_ign_physics) that instantiates every entity type with every existing feature in `ign-physics`, and using all headers provided by `ign-physics`. Before this PR, using gcc-8 it spent over an hour trying to compile on my XPS15 with no success. After this PR, using gcc-8 it compiles in just under 30 seconds. Clang is significantly better, compiling in 11 seconds after this PR.\r\n\r\nThere is still some cleanup to do, but I wanted to open this PR so the compilation times of `ign-gazebo` can be tested against it.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-physics/pullrequests/136/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-physics/diffstat/ignitionrobotics/ign-physics:8c1c37136d43%0Dbd4ca5e3ee80?from_pullrequest_id=136"}, "commits": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/136/commits.json"}, "self": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/136.json"}, "comments": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/136/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-physics/pullrequests/136/merge"}, "html": {"href": "#!/ignitionrobotics/ign-physics/pull-requests/136"}, "activity": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/136/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-physics/diff/ignitionrobotics/ign-physics:8c1c37136d43%0Dbd4ca5e3ee80?from_pullrequest_id=136"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-physics/pullrequests/136/approve"}, "statuses": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/136/statuses_page=1.json"}}, "title": "Reduce the symbol load caused by feature templates", "close_source_branch": false, "reviewers": [{"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}], "id": 136, "destination": {"commit": {"hash": "bd4ca5e3ee80", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics/commit/bd4ca5e3ee80.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics/commits/bd4ca5e3ee80"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{63a01c4f-5625-443b-96f0-73c4005ccada}ts=c_plus_plus"}}, "type": "repository", "name": "ign-physics", "full_name": "ignitionrobotics/ign-physics", "uuid": "{63a01c4f-5625-443b-96f0-73c4005ccada}"}, "branch": {"name": "ign-physics2"}}, "created_on": "2020-04-08T11:41:10.015980+00:00", "summary": {"raw": "This PR should greatly reduce the size and quantity of symbols that get generated by templates, likely by some orders of magnitude. It should also help make the size and quantity of symbols scale much much better \\(should be nearly constant \\[size\\] and linear \\[quantity\\] respectively now instead of linear \\[size\\] and squared \\[quantity\\]\\).\r\n\r\nI believe this has been the leading cause of slow compilation times, especially for GCC.\r\n\r\nI made a simple program [here](https://github.com/mxgrey/test_ign_physics) that instantiates every entity type with every existing feature in `ign-physics`, and using all headers provided by `ign-physics`. Before this PR, using gcc-8 it spent over an hour trying to compile on my XPS15 with no success. After this PR, using gcc-8 it compiles in just under 30 seconds. Clang is significantly better, compiling in 11 seconds after this PR.\r\n\r\nThere is still some cleanup to do, but I wanted to open this PR so the compilation times of `ign-gazebo` can be tested against it.", "markup": "markdown", "html": "<p>This PR should greatly reduce the size and quantity of symbols that get generated by templates, likely by some orders of magnitude. It should also help make the size and quantity of symbols scale much much better (should be nearly constant [size] and linear [quantity] respectively now instead of linear [size] and squared [quantity]).</p>\n<p>I believe this has been the leading cause of slow compilation times, especially for GCC.</p>\n<p>I made a simple program <a data-is-external-link=\"true\" href=\"https://github.com/mxgrey/test_ign_physics\" rel=\"nofollow\">here</a> that instantiates every entity type with every existing feature in <code>ign-physics</code>, and using all headers provided by <code>ign-physics</code>. Before this PR, using gcc-8 it spent over an hour trying to compile on my XPS15 with no success. After this PR, using gcc-8 it compiles in just under 30 seconds. Clang is significantly better, compiling in 11 seconds after this PR.</p>\n<p>There is still some cleanup to do, but I wanted to open this PR so the compilation times of <code>ign-gazebo</code> can be tested against it.</p>", "type": "rendered"}, "source": {"commit": {"hash": "8c1c37136d43", "type": "commit", "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics/commit/8c1c37136d43.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics/commits/8c1c37136d43"}}}, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{63a01c4f-5625-443b-96f0-73c4005ccada}ts=c_plus_plus"}}, "type": "repository", "name": "ign-physics", "full_name": "ignitionrobotics/ign-physics", "uuid": "{63a01c4f-5625-443b-96f0-73c4005ccada}"}, "branch": {"name": "reduce_symbols"}}, "comment_count": 10, "state": "DECLINED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": "2020-04-13T20:06:18.174197+00:00", "type": "participant", "approved": false, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "PARTICIPANT", "participated_on": "2020-04-13T09:12:41.234828+00:00", "type": "participant", "approved": false, "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}}], "reason": "Reopn on GitHub, see issue #28", "updated_on": "2020-04-13T20:07:40.646617+00:00", "author": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "merge_commit": null, "closed_by": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}