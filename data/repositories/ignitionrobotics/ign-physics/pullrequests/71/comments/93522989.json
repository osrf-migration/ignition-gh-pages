{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/71/comments/93522989.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-physics/diff/ignitionrobotics/ign-physics:1a8881ff29cb..193af0ae366b?path=dartsim%2Fsrc%2FSimulationFeatures_TEST.cc"}, "html": {"href": "#!/ignitionrobotics/ign-physics/pull-requests/71/_/diff#comment-93522989"}}, "parent": {"id": 93516359, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/71/comments/93516359.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics/pull-requests/71/_/diff#comment-93516359"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 71, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/71.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics/pull-requests/71"}}, "title": "Correct the calculation of AABB transformations and give frame semantics to AABB types"}, "content": {"raw": "Fair enough, I understand why it is less expensive to return _a_ AABB rather than _the minimal_ AABB, and this seems to be a compromise that other software is making as well.\n\n> The purpose of an AABB is just to provide a first-order approximation for quickly culling pairs of objects that are obviously not in contact.\n\nYeah that's objective for the physics engine, but consumers of ign-gazebo, such as SubT's comms, may be using it for something else. I think we just need to be aware of the limitations.\n\nIn fact, for those use cases, I suspect even an OBB in the link's frame may be good enough, saving us the extra projection of the OBB to the world frame, but we'd need to also store the box pose besides its min/max values.\n\n> the maximum inflation is only ~41% of the radius anyway\n\nYeah that's true for the sphere, but I can imagine long thin cylinders positioned in such a way that the inflation is close to 100% - but that's just stretching corner cases to extreme :smile: \n\nIn any case, if we eventually need the minimal AABB, I think that calculation doesn't even need to be done within ign-physics. An ign-gazebo plugin would just need the `common::Mesh`, special cases for primitives, and a lot of computational power :smile:\n\n", "markup": "markdown", "html": "<p>Fair enough, I understand why it is less expensive to return <em>a</em> AABB rather than <em>the minimal</em> AABB, and this seems to be a compromise that other software is making as well.</p>\n<blockquote>\n<p>The purpose of an AABB is just to provide a first-order approximation for quickly culling pairs of objects that are obviously not in contact.</p>\n</blockquote>\n<p>Yeah that's objective for the physics engine, but consumers of ign-gazebo, such as SubT's comms, may be using it for something else. I think we just need to be aware of the limitations.</p>\n<p>In fact, for those use cases, I suspect even an OBB in the link's frame may be good enough, saving us the extra projection of the OBB to the world frame, but we'd need to also store the box pose besides its min/max values.</p>\n<blockquote>\n<p>the maximum inflation is only ~41% of the radius anyway</p>\n</blockquote>\n<p>Yeah that's true for the sphere, but I can imagine long thin cylinders positioned in such a way that the inflation is close to 100% - but that's just stretching corner cases to extreme <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f604.png\" alt=\"\ud83d\ude04\" title=\":smile:\" data-emoji-short-name=\":smile:\" /> </p>\n<p>In any case, if we eventually need the minimal AABB, I think that calculation doesn't even need to be done within ign-physics. An ign-gazebo plugin would just need the <code>common::Mesh</code>, special cases for primitives, and a lot of computational power <img class=\"emoji\" src=\"data/pf-emoji-service--cdn.us-east-1.prod.public.atl-paas.net/standard/551c9814-1d37-4573-819d-afab3afeaf32/48x48/1f604.png\" alt=\"\ud83d\ude04\" title=\":smile:\" data-emoji-short-name=\":smile:\" /></p>", "type": "rendered"}, "created_on": "2019-03-01T17:32:08.535888+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 162, "from": null, "outdated": false, "path": "dartsim/src/SimulationFeatures_TEST.cc"}, "updated_on": "2019-03-01T17:32:08.547182+00:00", "type": "pullrequest_comment", "id": 93522989}