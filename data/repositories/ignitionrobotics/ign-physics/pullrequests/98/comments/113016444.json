{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/98/comments/113016444.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics/pull-requests/98/_/diff#comment-113016444"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 98, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/98.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics/pull-requests/98"}}, "title": "[WIP] Add Bullet physics engine"}, "content": {"raw": "I've made a pull request to ign-cmake that adds `FindIgnBullet.cmake`:\n\n* #!/ignitionrobotics/ign-cmake/pull-requests/162/add-findignbullet-cmake-module/diff\n\nThis find module can be used with the following patches:\n\n~~~\ndiff -r b8da443c8e78 CMakeLists.txt\n--- a/CMakeLists.txt    Tue Aug 13 17:31:57 2019 -0700\n+++ b/CMakeLists.txt    Tue Aug 13 17:33:46 2019 -0700\n@@ -73,12 +73,11 @@\n \n #--------------------------------------\n # Find bullet for the bullet plugin wrapper\n-include(FindPkgConfig)\n-\n-pkg_check_modules(BULLET bullet>=2.87 REQUIRED)\n-if (NOT BULLET_FOUND)\n-    pkg_check_modules(BULLET bullet2.87>=2.87)\n-endif()\n+ign_find_package(IgnBullet\n+  VERSION 2.87\n+  REQUIRED_BY bullet\n+  PKGCONFIG bullet\n+  PKGCONFIG_VER_COMPARISON >=)\n \n message(STATUS \"-------------------------------------------\\n\")\n \ndiff -r b8da443c8e78 bullet/CMakeLists.txt\n--- a/bullet/CMakeLists.txt     Tue Aug 13 17:31:57 2019 -0700\n+++ b/bullet/CMakeLists.txt     Tue Aug 13 17:33:46 2019 -0700\n@@ -5,9 +5,7 @@\n   GET_TARGET_NAME features)\n \n link_directories(${BULLET_LIBRARY_DIRS})\n-target_link_libraries(${features} INTERFACE ${BULLET_LIBRARIES})\n-target_include_directories(${features} SYSTEM INTERFACE ${BULLET_INCLUDE_DIRS})\n-add_definitions(${BULLET_CFLAGS})\n+target_link_libraries(${features} INTERFACE IgnBullet)\n \n ign_get_libsources_and_unittests(sources test_sources)\n \n~~~", "markup": "markdown", "html": "<p>I've made a pull request to ign-cmake that adds <code>FindIgnBullet.cmake</code>:</p>\n<ul>\n<li><a href=\"#!/ignitionrobotics/ign-cmake/pull-requests/162/add-findignbullet-cmake-module/diff\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-cmake/pull-requests/162/add-findignbullet-cmake-module/diff</a></li>\n</ul>\n<p>This find module can be used with the following patches:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r b8da443c8e78 CMakeLists.txt</span>\n<span class=\"gd\">--- a/CMakeLists.txt    Tue Aug 13 17:31:57 2019 -0700</span>\n<span class=\"gi\">+++ b/CMakeLists.txt    Tue Aug 13 17:33:46 2019 -0700</span>\n<span class=\"gu\">@@ -73,12 +73,11 @@</span>\n\n #--------------------------------------\n # Find bullet for the bullet plugin wrapper\n<span class=\"gd\">-include(FindPkgConfig)</span>\n<span class=\"gd\">-</span>\n<span class=\"gd\">-pkg_check_modules(BULLET bullet&gt;=2.87 REQUIRED)</span>\n<span class=\"gd\">-if (NOT BULLET_FOUND)</span>\n<span class=\"gd\">-    pkg_check_modules(BULLET bullet2.87&gt;=2.87)</span>\n<span class=\"gd\">-endif()</span>\n<span class=\"gi\">+ign_find_package(IgnBullet</span>\n<span class=\"gi\">+  VERSION 2.87</span>\n<span class=\"gi\">+  REQUIRED_BY bullet</span>\n<span class=\"gi\">+  PKGCONFIG bullet</span>\n<span class=\"gi\">+  PKGCONFIG_VER_COMPARISON &gt;=)</span>\n\n message(STATUS &quot;-------------------------------------------\\n&quot;)\n\n<span class=\"gh\">diff -r b8da443c8e78 bullet/CMakeLists.txt</span>\n<span class=\"gd\">--- a/bullet/CMakeLists.txt     Tue Aug 13 17:31:57 2019 -0700</span>\n<span class=\"gi\">+++ b/bullet/CMakeLists.txt     Tue Aug 13 17:33:46 2019 -0700</span>\n<span class=\"gu\">@@ -5,9 +5,7 @@</span>\n   GET_TARGET_NAME features)\n\n link_directories(${BULLET_LIBRARY_DIRS})\n<span class=\"gd\">-target_link_libraries(${features} INTERFACE ${BULLET_LIBRARIES})</span>\n<span class=\"gd\">-target_include_directories(${features} SYSTEM INTERFACE ${BULLET_INCLUDE_DIRS})</span>\n<span class=\"gd\">-add_definitions(${BULLET_CFLAGS})</span>\n<span class=\"gi\">+target_link_libraries(${features} INTERFACE IgnBullet)</span>\n\n ign_get_libsources_and_unittests(sources test_sources)\n</pre></div>", "type": "rendered"}, "created_on": "2019-08-14T00:34:28.492367+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2019-08-14T00:34:28.498765+00:00", "type": "pullrequest_comment", "id": 113016444}