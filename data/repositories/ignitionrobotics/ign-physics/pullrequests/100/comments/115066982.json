{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/100/comments/115066982.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-physics/diff/ignitionrobotics/ign-physics:86c76a3c434d..4eeae2be4fa1?path=include%2Fignition%2Fphysics%2FJoint.hh"}, "html": {"href": "#!/ignitionrobotics/ign-physics/pull-requests/100/_/diff#comment-115066982"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 100, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/100.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics/pull-requests/100"}}, "title": "SetJointVelocityCommand feature"}, "content": {"raw": "Correct me if I am wrong, but for fixed time-step physics engine it is not possible to achieve an instantaneous change of velocity from the current velocity to the desired one in one timestep with any finite \u201cjoint torque\u201d. Instead, it is necessary to apply an impulse \\(i.e. an infinite amount of torque/effort\\), as done in this case by the DART implementation in [https://github.com/dartsim/dart/blob/54d413a4114df5e77e6f06e3d85190ac0819541f/dart/constraint/JointLimitConstraint.cpp#L435](https://github.com/dartsim/dart/blob/54d413a4114df5e77e6f06e3d85190ac0819541f/dart/constraint/JointLimitConstraint.cpp#L435) . Do you think it would make sense to mention this in the documentation?\n\nOtherwise the current wording, especially the \u201ccommand\u201d part \\(except for the \u201cnext simulation step\u201d\\) may be confusing w.r.t. possible future features for setting velocity setpoints  to a low-level PID.", "markup": "markdown", "html": "<p>Correct me if I am wrong, but for fixed time-step physics engine it is not possible to achieve an instantaneous change of velocity from the current velocity to the desired one in one timestep with any finite \u201cjoint torque\u201d. Instead, it is necessary to apply an impulse (i.e. an infinite amount of torque/effort), as done in this case by the DART implementation in <a data-is-external-link=\"true\" href=\"https://github.com/dartsim/dart/blob/54d413a4114df5e77e6f06e3d85190ac0819541f/dart/constraint/JointLimitConstraint.cpp#L435\" rel=\"nofollow\">https://github.com/dartsim/dart/blob/54d413a4114df5e77e6f06e3d85190ac0819541f/dart/constraint/JointLimitConstraint.cpp#L435</a> . Do you think it would make sense to mention this in the documentation?</p>\n<p>Otherwise the current wording, especially the \u201ccommand\u201d part (except for the \u201cnext simulation step\u201d) may be confusing w.r.t. possible future features for setting velocity setpoints  to a low-level PID.</p>", "type": "rendered"}, "created_on": "2019-08-30T07:30:22.024632+00:00", "user": {"display_name": "Silvio Traversaro", "uuid": "{34f404cb-5642-4f27-a032-e04c7143d776}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D"}, "html": {"href": "https://bitbucket.org/%7B34f404cb-5642-4f27-a032-e04c7143d776%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6/578caaa1-056c-45a2-8bf9-bee94c3bebef/128"}}, "nickname": "traversaro", "type": "user", "account_id": "557058:e1c3e6a0-9a64-4e5f-a668-feebc191c5b6"}, "inline": {"to": 326, "from": null, "outdated": false, "path": "include/ignition/physics/Joint.hh"}, "updated_on": "2019-08-30T07:33:21.118010+00:00", "type": "pullrequest_comment", "id": 115066982}