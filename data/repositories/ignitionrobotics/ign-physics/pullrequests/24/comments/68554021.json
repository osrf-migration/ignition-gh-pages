{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/24/comments/68554021.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-physics/diff/ignitionrobotics/ign-physics:0b4ccbbf71e9..3bf87fe246a9?path=include%2Fignition%2Fphysics%2Fdetail%2FFeatureList.hh"}, "html": {"href": "#!/ignitionrobotics/ign-physics/pull-requests/24/_/diff#comment-68554021"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 24, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-physics/pullrequests/24.json"}, "html": {"href": "#!/ignitionrobotics/ign-physics/pull-requests/24"}}, "title": "Feature System Part 1"}, "content": {"raw": "in trying to understand this, I thought the following patch might not change behavior (ie that logic changes would cancel out), but that is not the case. The patch causes tests t fail:\n\n~~~\ndiff -r 0b4ccbbf71e9 include/ignition/physics/detail/FeatureList.hh\n--- a/include/ignition/physics/detail/FeatureList.hh\tTue Jun 26 14:21:51 2018 +0800\n+++ b/include/ignition/physics/detail/FeatureList.hh\tThu Jun 28 17:43:03 2018 -0700\n@@ -163,9 +163,9 @@\n       template <typename T, typename... Types>\n       struct TupleContainsBase<T, std::tuple<Types...>>\n           : std::integral_constant<bool,\n-              !std::is_same<\n+              std::is_same<\n                 std::tuple<typename std::conditional<\n-                  std::is_base_of<T, Types>::value, Empty, Types>::type...>,\n+                  std::is_base_of<T, Types>::value, Types, Empty>::type...>,\n                 std::tuple<Types...>\n               >::value> { };\n \n~~~\n\nno response needed really, but the logic is just tricky for me to follow", "markup": "markdown", "html": "<p>in trying to understand this, I thought the following patch might not change behavior (ie that logic changes would cancel out), but that is not the case. The patch causes tests t fail:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r 0b4ccbbf71e9 include/ignition/physics/detail/FeatureList.hh</span>\n<span class=\"gd\">--- a/include/ignition/physics/detail/FeatureList.hh    Tue Jun 26 14:21:51 2018 +0800</span>\n<span class=\"gi\">+++ b/include/ignition/physics/detail/FeatureList.hh    Thu Jun 28 17:43:03 2018 -0700</span>\n<span class=\"gu\">@@ -163,9 +163,9 @@</span>\n       template &lt;typename T, typename... Types&gt;\n       struct TupleContainsBase&lt;T, std::tuple&lt;Types...&gt;&gt;\n           : std::integral_constant&lt;bool,\n<span class=\"gd\">-              !std::is_same&lt;</span>\n<span class=\"gi\">+              std::is_same&lt;</span>\n                 std::tuple&lt;typename std::conditional&lt;\n<span class=\"gd\">-                  std::is_base_of&lt;T, Types&gt;::value, Empty, Types&gt;::type...&gt;,</span>\n<span class=\"gi\">+                  std::is_base_of&lt;T, Types&gt;::value, Types, Empty&gt;::type...&gt;,</span>\n                 std::tuple&lt;Types...&gt;\n               &gt;::value&gt; { };\n</pre></div>\n\n\n<p>no response needed really, but the logic is just tricky for me to follow</p>", "type": "rendered"}, "created_on": "2018-06-29T00:45:19.551842+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 170, "from": null, "outdated": true, "path": "include/ignition/physics/detail/FeatureList.hh"}, "updated_on": "2018-06-29T00:45:19.560803+00:00", "type": "pullrequest_comment", "id": 68554021}