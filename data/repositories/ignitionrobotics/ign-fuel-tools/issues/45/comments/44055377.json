{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-fuel-tools/issues/45/comments/44055377.json"}, "html": {"href": "#!/ignitionrobotics/ign-fuel-tools/issues/45#comment-44055377"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-fuel-tools/issues/45.json"}}, "type": "issue", "id": 45, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-fuel-tools.json"}, "html": {"href": "#!/ignitionrobotics/ign-fuel-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{2c96e7f5-2f59-4a4a-877a-87e8f39e29fb}ts=default"}}, "type": "repository", "name": "ign-fuel-tools", "full_name": "ignitionrobotics/ign-fuel-tools", "uuid": "{2c96e7f5-2f59-4a4a-877a-87e8f39e29fb}"}, "title": "Cached models lose server and name information"}, "content": {"raw": "+1 to @caguero's point about about not including the server version in the directory structure. I'm surprised it's in `ModelIdentifier::UniqueName()` - a model version there would make sense but not the server's API version.\n\nI think the test captures the original intent which was to have the paths in the cache include the server information. I'm not sure where along the way that changed.\n\n@chapulina's proposal looks like an improvement to me. In the future if there's a requirement to be robust to non-filesystem safe characters (anyone still using a case-insensitive filesystem?) then the local cache may need to create a file alongside a model instead of relying on the folder structure to hold the metadata.", "markup": "markdown", "html": "<p>+1 to @caguero's point about about not including the server version in the directory structure. I'm surprised it's in <code>ModelIdentifier::UniqueName()</code> - a model version there would make sense but not the server's API version.</p>\n<p>I think the test captures the original intent which was to have the paths in the cache include the server information. I'm not sure where along the way that changed.</p>\n<p>@chapulina's proposal looks like an improvement to me. In the future if there's a requirement to be robust to non-filesystem safe characters (anyone still using a case-insensitive filesystem?) then the local cache may need to create a file alongside a model instead of relying on the folder structure to hold the metadata.</p>", "type": "rendered"}, "created_on": "2018-03-20T23:20:15.635581+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": null, "type": "issue_comment", "id": 44055377}